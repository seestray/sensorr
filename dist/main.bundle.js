!function(e){function t(t){for(var r,i,l=t[0],c=t[1],s=t[2],f=0,p=[];f<l.length;f++)i=l[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;a.push([382,1]),n()}({107:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(0),o=n.n(r),a=n(7),i=n.n(a),l=n(153),c=n(51),s=n(36),u=n(55),f=n(4);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function h(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)})}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={wrapper:{position:"relative"},link:{textDecoration:"none"},element:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",padding:"0 0 3em 0"},state:{position:"absolute",right:"0.75em",top:"0.75em",backgroundColor:f.a.colors.shadows.grey,borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em",userSelect:"none",MozUserSelect:"none"},poster:{height:"14em",width:"10em",border:"solid 0.375em white",overflow:"hidden"},img:{width:"100%"},tooltip:{backgroundColor:f.a.colors.shadows.black,borderRadius:"0.25em",color:f.a.colors.white,textAlign:"center",whiteSpace:"nowrap",padding:"0.25em 0.5em"}},j={portrait:{element:{},tooltip:{margin:"0.5em 0",width:"100%",overflow:"hidden",textOverflow:"ellipsis"}},avatar:{element:{width:"10em",margin:"0 -2em 0 0"},poster:{height:"10em",borderRadius:"50%"},tooltip:{position:"absolute",margin:"5.5em 0",fontSize:"2em"}}},x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?w(r):o).state={doc:!1,loading:!1,ready:!1,tooltip:!1},n.bootstrap=n.bootstrap.bind(w(n)),n.handleStateChange=n.handleStateChange.bind(w(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){"portrait"===this.props.context&&this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id===this.props.entity.id&&e.context===this.props.context||"portrait"!==this.props.context||this.bootstrap()}},{key:"bootstrap",value:function(){var e=g(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,s.a.get();case 4:return t=e.sent,e.next=7,t.stars.findOne().where("id").eq(this.props.entity.id.toString()).exec();case 7:n=e.sent,this.setState({doc:n?n.toJSON():null}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var e=g(regeneratorRuntime.mark(function e(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get();case 2:if(t=e.sent,n=this.props.entity,!1!==this.state.doc){e.next=6;break}return e.abrupt("return");case 6:if(this.state.doc&&"ignored"!==this.state.doc.state){e.next=17;break}return this.setState({loading:!0}),e.next=10,u.a.fetch(["person",n.id,"movie_credits"]);case 10:return r=e.sent,e.next=13,t.stars.atomicUpsert(new c.Star(d({},n,{credits:r,state:"stalked"})).normalize());case 13:o=e.sent,this.setState({loading:!1,doc:o.toJSON(),entity:n}),e.next=22;break;case 17:if("stalked"!==this.state.doc.state){e.next=22;break}return e.next=20,t.stars.atomicUpsert(new c.Star(d({},n,{state:"ignored"})).normalize());case 20:a=e.sent,this.setState({doc:a.toJSON(),entity:n});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=t.context,a=y(t,["entity","context"]),i=this.state,c=i.doc,s=i.loading,u=i.ready,p=i.tooltip;y(i,["doc","loading","ready","tooltip"]);return o.a.createElement("div",m({},a,{style:d({},a.style?a.style:{},"portrait"===r?E.wrapper:{})}),"portrait"===r&&o.a.createElement("span",{style:d({},E.state,{cursor:!1===c?"default":"pointer"}),onClick:this.handleStateChange},(s||!1===c)&&"‚åõ",!s&&(null===c||c&&"ignored"===c.state)&&"üîï",!s&&c&&"stalked"===c.state&&"üîî"),o.a.createElement(l.a,{to:"/star/".concat(n.id),style:E.link},o.a.createElement("div",{style:d({},E.element,j[r].element)},o.a.createElement("div",{style:d({},E.poster,j[r].poster,{backgroundColor:u?"transparent":f.a.colors.grey}),onMouseEnter:function(){return e.setState({tooltip:!0})},onMouseLeave:function(){return e.setState({tooltip:!1})}},o.a.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.profile_path),onLoad:function(){return e.setState({ready:!0})},style:E.img})),o.a.createElement("h5",{style:d({},E.tooltip,j[r].tooltip),hidden:"portrait"!==r&&!p},n.name))))}}])&&b(n.prototype,a),i&&b(n,i),t}();S(x,"propTypes",{entity:i.a.object.isRequired,context:i.a.oneOf(["portrait","avatar"])}),S(x,"defaultProps",{context:"avatar"})},152:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(617);e.exports=function(){function e(t){var n=t.key,r=t.region,o=void 0===r?"en-US":r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=n,this.region=o,this.base="https://api.themoviedb.org/3/"}var t,n,a;return t=e,(n=[{key:"build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.language=this.region,t.api_key=this.key,"".concat(this.base).concat(e.join("/"),"?").concat(o.stringify(t))}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(this.build(e,t)).then(function(e){return new Promise(function(t,n){try{e.json().then(function(r){e.ok?t(r):n(r)})}catch(e){n(e)}})})})}])&&r(t.prototype,n),a&&r(t,a),e}(),e.exports.GENRES={28:"Action",12:"Aventure",16:"Animation",35:"Com√©die",80:"Crime",99:"Documentaire",18:"Drame",10751:"Familial",14:"Fantastique",36:"Histoire",27:"Horreur",10402:"Musique",9648:"Myst√®re",10749:"Romance",878:"Science-Fiction",10770:"T√©l√©film",53:"Thriller",10752:"Guerre",37:"Western"}},162:function(e,t,n){"use strict";var r=n(371),o=n.n(r)()();t.a=o},33:function(e,t,n){"use strict";(function(e,r){var o=n(351),a=new(n.n(o).a)(e.config,{proxify:!0,headers:{Authorization:"Basic ".concat(new r("".concat(e.config.auth.username,":").concat(e.config.auth.password)).toString("base64"))}});t.a=a}).call(this,n(20),n(83).Buffer)},350:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(202),i=n(86),l=n(92),c=n(33);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={bounce:{"0%":{transform:"translateY(-0.0625em)"},"50%":{transform:"translateY(0.25em)"},"100%":{transform:"translateY(-0.0625em)"}},rotate:{"0%":{transform:"rotateY(0deg)"},"10%":{transform:"rotateY(0deg)"},"45%":{transform:"rotateY(180deg)"},"55%":{transform:"rotateY(180deg)"},"90%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}},b=l.a.create({bounce:{animationName:g.bounce,animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"},rotate:{perspective:"2em",textAlign:"center",animationName:g.rotate,animationDuration:"3s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate",transformStyle:"preserve-3d"}}),v={},w=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=y(n).call(this,e))||"object"!==s(o)&&"function"!=typeof o?d(r):o).state={loading:!1},t.triggerJob=t.triggerJob.bind(d(t)),t}var a,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,r["PureComponent"]),a=n,(i=[{key:"triggerJob",value:function(t){var n=this,r=this.props.toastManager;this.setState({loading:!0}),fetch("/api/trigger",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(c.a.config.auth.username,":").concat(c.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({type:t})}).then(function(e){try{e.json().then(function(n){e.ok?r.add({record:o.a.createElement("span",null,o.a.createElement("strong",null,"Record")," job triggered ! See ",o.a.createElement("strong",null,"Logs")," page to follow progress !")}[t],{appearance:"success",autoDismiss:!0}):r.add({record:o.a.createElement("span",null,o.a.createElement("strong",null,"Record")," job already in progress")}[t],{appearance:"error",autoDismiss:!0})})}catch(t){r.add(o.a.createElement("span",null,"Unexpected error during job trigger : ",o.a.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}finally{n.setState({loading:!1})}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ongoing,r=(t.toastManager,p(t,["ongoing","toastManager"]),this.state),a=r.loading;p(r,["loading"]);return o.a.createElement("div",{className:a?Object(l.b)(b.rotate):n?Object(l.b)(b.bounce):"",style:u({},v,n?{}:{cursor:"pointer "}),title:'Trigger "Record" job',onClick:function(){return!n&&e.triggerJob("record")}},a?"üèó":"üöÄ")}}])&&m(a.prototype,i),f&&m(a,f),n}();t.a=Object(a.b)(function(e){return{ongoing:e.status.record}},null)(Object(i.withToastManager)(w))}).call(this,n(83).Buffer)},351:function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(54),c=l.from,s=l.of,u=l.throwError,f=n(53),p=f.tap,m=f.map,y=f.toArray,d=f.concatAll,h=f.filter,g=f.mergeMap,b=f.pluck,v=f.timeout,w=f.retry,O=f.catchError,S=n(598),E=n(600),j=n(601),x=n(608),k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SIMILARITY_MINIMUM_SCORE=.6,this.options=n,this.config=o({tmdb:"",blackhole:"/tmp",xznabs:[],filter:"",sort:"seeders",descending:!1},x,t),this.xznabs=(this.config.xznabs||[]).filter(function(e){return!e.disabled}).map(function(e){return new j(e,n)})}var t,n,l;return t=e,(n=[{key:"filter",value:function(e){return function(t){return e.split(",").length===e.split(",").map(function(e){var t={pattern:e.trim(),key:"original",negate:!1};return"!"===t.pattern.charAt(0)&&(t.negate=!0,t.pattern=t.pattern.slice(1)),t.pattern.match(/=/)&&(t.key=t.pattern.split("=")[0],t.pattern=t.pattern.split("=")[1]),t}).map(function(e){var n=e.negate,r=e.pattern,o=e.key,a=new RegExp("(".concat(r,")"),"i").test((t.meta[o]||"").toString());return n?!a:a}).reduce(function(e,t){return e+t},0)}}},{key:"sort",value:function(e,t){return function(n,r){if(t){if(n[e]<r[e])return 1;if(n[e]>r[e])return-1}else{if(n[e]<r[e])return-1;if(n[e]>r[e])return 1}return 0}}},{key:"look",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(this.xznabs).pipe(g(function(r){return c(e.terms.titles).pipe(g(function(a){return s(a).pipe(p(function(e){return"function"==typeof i.search&&i.search(r,e)}),g(function(e){return r.search(e)}),v(1e4),O(function(e){return"TimeoutError"===e.name&&"function"==typeof i.timeout&&i.timeout(r,a),u(e)}),w(1),O(function(){return s({items:[]})}),b("items"),p(function(e){return"function"==typeof i.found&&i.found(r,a,e)}),d(),m(function(e){return o({},e,{meta:S.parse(e.title,{strict:!1,flagged:!0,defaults:{language:"ENGLISH",resolution:"SD",year:0}})})}),m(function(e){return o({},e,{score:E.compareTwoStrings(a,e.meta.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\sa-zA-Z0-9]/g," ").replace(/ +/g," ")).toFixed(2),valid:!0,warning:0})}),m(function(e){return e.valid?o({},e,{valid:e.seeders,reason:"No seeders (0)",warning:2}):e}),m(function(e){return e.valid?o({},e,{valid:e.score>=t.SIMILARITY_MINIMUM_SCORE,reason:"Score too low : ".concat(e.score),warning:2}):e}),m(function(t){return t.valid?o({},t,{valid:e.terms.years.every(function(e){return new Date(t.publishDate).getFullYear()>=e}),reason:"Release published year (".concat(new Date(t.publishDate).getFullYear(),") prior to movie release years (").concat(e.terms.years.join(", "),")"),warning:2}):t}),m(function(t){return t.valid?o({},t,{valid:0===parseInt(t.meta.year)||e.terms.years.some(function(e){return parseInt(t.meta.year)===e}),reason:"Release year (".concat(t.meta.year,") ").concat(0===parseInt(t.meta.year)?"unknown":"different from movie release years (".concat(e.terms.years.join(", "),")")),warning:2}):t}),m(function(e){return e.valid?o({},e,{valid:t.filter(t.config.filter)(e),reason:"Release doesn't pass configured filtering (".concat(t.config.filter,")"),warning:1}):e}),m(function(e){return o({},e,{reason:e.valid?null:e.reason,warning:e.valid?0:e.warning})}),p(function(e){return"function"==typeof i.release&&i.release(r,a,e)}),h(function(e){return!n||e.valid}))},null,1))},null,1),y(),m(function(e){return Object.values(e.reduce(function(e,t){return o({},e,a({},t.guid,r(e[t.guid]||[]).concat([t])))},{})).map(function(e){return e.sort(function(e,t){return t.score-e.score}).shift()})}))}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=k},355:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=n(709);s.plugin(n(711)),s.plugin(n(655));var u={movies:{1:function(e){return e.time=Date.now(),e},2:function(e){return e.terms={titles:c(new Set([e.title,e.original_title].map(function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\sa-zA-Z0-9]/g," ").replace(/ +/g," ")}))),years:[e.year]},e}}},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=null,this.options=t}var t,n,o;return t=e,(n=[{key:"bootstrap",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(){var n,o,i,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.options,o=n.sync,i=a(n,["sync"]),t.next=3,s.create(r({name:"sensorr",adapter:"idb",multiInstance:!0},i));case 3:return l=t.sent,t.next=6,Promise.all(Object.keys(e.SCHEMAS).map(function(t){return l.collection({name:t,schema:e.SCHEMAS[t],migrationStrategies:u[t]}).then(function(e){return"string"==typeof o?e.sync({remote:"".concat(o,"/sensorr-").concat(t),waitForLeadership:!0,direction:{pull:!0,push:!0},options:{live:!0,retry:!0}}):null})}));case 6:return t.abrupt("return",l);case 7:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function l(e){i(a,r,o,l,c,"next",e)}function c(e){i(a,r,o,l,c,"throw",e)}l(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"get",value:function(){return this.instance||(this.instance=this.bootstrap()),this.instance}}])&&l(t.prototype,n),o&&l(t,o),e}();f.SCHEMAS={sessions:{title:"session",version:0,description:"List Sensorr sessions",type:"object",required:["uuid","time"],attachments:{},properties:{uuid:{type:"string",primary:!0},time:{type:"number",index:!0}}},records:{title:"record",version:0,description:"Describe a Sensorr record entry",type:"object",required:["uuid","session","time","message"],attachments:{},properties:{uuid:{type:"string",primary:!0},record:{type:"string",index:!0},session:{type:"string",index:!0},data:{type:"object",default:{}},success:{type:"boolean",default:!1},time:{type:"number",index:!0},message:{type:"string"}}},movies:{title:"movie",version:2,description:"Describe a TMDB movie",type:"object",required:["id","title","year","poster_path"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"wished"},imdb_id:{type:"string"},title:{type:"string"},original_title:{type:"string"},year:{type:"number"},poster_path:{type:"string"},time:{type:"number"},terms:{type:"object",properties:{titles:{type:"array",uniqueItems:!0},years:{type:"array",uniqueItems:!0}}}}},stars:{title:"star",version:0,description:"Describe a TMDB star",type:"object",required:["id","state","name"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"stalked"},imdb_id:{type:"string"},name:{type:"string"},also_known_as:{type:"array"},birthday:{type:"string"},popularity:{type:"number"},profile_path:{type:"string"},time:{type:"number"},credits:{type:"array"}}}},e.exports=f},36:function(e,t,n){"use strict";var r=n(355),o=n.n(r),a=n(33),i=new o.a({sync:"".concat(location.protocol,"//").concat(a.a.config.auth.username,":").concat(a.a.config.auth.password,"@").concat(location.host,"/db")});t.a=i},361:function(e,t){},372:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return P});var r=n(0),o=n.n(r),a=n(38),i=n(153),l=n(79),c=n(107),s=n(40),u=n(48),f=n(373),p=n(55),m=n(162),y=n(36),d=n(51),h=n.n(d),g=n(4);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,l,"next",e)}function l(e){S(a,r,o,i,l,"throw",e)}i(void 0)})}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M={element:{position:"relative",flex:1,display:"flex",flexDirection:"column"},link:{color:g.a.colors.white},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},details:{flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(g.a.colors.shadows.black)},metadata:{position:"absolute",right:"2em",top:"2em",textAlign:"right"},popularity:{fontFamily:g.a.fonts.secondary,fontSize:"2em",fontWeight:800,color:g.a.colors.white},runtime:{fontFamily:g.a.fonts.secondary,fontSize:"1em",fontWeight:600,color:g.a.colors.white,padding:"1em 0 0"},preview:{fontFamily:g.a.fonts.secondary,fontSize:"1em",fontWeight:600,color:g.a.colors.white,padding:"1em 0 0"},badges:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"1em 0 0",userSelect:"none",MozUserSelect:"none"},badge:{cursor:"pointer",backgroundColor:g.a.colors.shadows.grey,borderRadius:"5em",padding:"1em",margin:"0.5em 0",fontWeight:800,color:g.a.colors.white,textTransform:"uppercase"},emoji:{margin:"0 0.75em 0 0"},informations:{width:"100%",display:"flex",padding:"5em 13em 2em 3em"},poster:{maxWidth:"15em",margin:"0 3em"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:g.a.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:g.a.colors.white},genres:{fontWeight:600,color:g.a.colors.white,padding:"1em 0 0 0"},directors:{fontWeight:600,color:g.a.colors.white,padding:"1em 0 0 0"},tagline:{color:g.a.colors.white,fontWeight:600,padding:"2em 0 0 0"},plot:{maxWidth:"50em",lineHeight:"1.5em",color:g.a.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{margin:"3em 0 0",overflow:"visible",fontSize:"0.5em"},more:{width:"100%",fontSize:"0.75em"},label:{color:g.a.colors.white,cursor:"pointer"},empty:{color:g.a.colors.white}},P=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=x(n).call(this,e))||"object"!==b(o)&&"function"!=typeof o?k(r):o).state={details:null,doc:!1,unpinned:!1,more:"recommendations"},t.bootstrap=t.bootstrap.bind(k(t)),t.handleStateChange=t.handleStateChange.bind(k(t)),t.handleMoreChange=t.handleMoreChange.bind(k(t)),t.handleLookClick=t.handleLookClick.bind(k(t)),t}var d,g,O;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,r["PureComponent"]),d=n,(g=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"bootstrap",value:function(){var e=E(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1,unpinned:!1}),e.next=4,p.a.fetch(["movie",this.props.match.params.id],{append_to_response:"videos,credits,similar,recommendations,alternative_titles,release_dates"});case 4:return t=e.sent,this.setState({details:t}),e.next=8,y.a.get();case 8:return n=e.sent,e.next=11,n.movies.findOne().where("id").eq(t.id.toString()).exec();case 11:r=e.sent,this.setState({doc:r?r.toJSON():null}),setTimeout(function(){return document.getElementById("movie").scrollIntoView()},100),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),m.a.push("/");case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var t=E(regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get();case 2:if(n=t.sent,!1!==this.state.doc){t.next=5;break}return t.abrupt("return");case 5:if(this.state.doc&&"ignored"!==this.state.doc.state){t.next=12;break}return t.next=8,n.movies.atomicUpsert(new h.a.Movie(w({},this.state.details,{state:"wished"}),e.config.region||localStorage.getItem("region")).normalize());case 8:r=t.sent,this.setState({doc:r.toJSON()}),t.next=24;break;case 12:if("wished"!==this.state.doc.state){t.next=19;break}return t.next=15,n.movies.atomicUpsert(new h.a.Movie(w({},this.state.details,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize());case 15:o=t.sent,this.setState({doc:o.toJSON()}),t.next=24;break;case 19:if("archived"!==this.state.doc.state){t.next=24;break}return t.next=22,n.movies.atomicUpsert(new h.a.Movie(w({},this.state.details,{state:"ignored"}),e.config.region||localStorage.getItem("region")).normalize());case 22:a=t.sent,this.setState({doc:a.toJSON()});case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"handleMoreChange",value:function(){this.setState({more:{similar:"recommendations",recommendations:"similar"}[this.state.more]})}},{key:"handleLookClick",value:function(){var e=this;this.setState({unpinned:!1}),setTimeout(function(){return e.setState({unpinned:!0})},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,p=(v(t,["match"]),this.state),m=p.doc,y=p.details,d=(p.loading,p.unpinned),h=p.more,g=(v(p,["doc","details","loading","unpinned","more"]),y?y.videos.results.filter(function(e){return"YouTube"===e.site&&["Trailer","Teaser"].includes(e.type)}).pop():null);return o.a.createElement(r.Fragment,null,o.a.createElement(a.Helmet,null,y?o.a.createElement("title",null,"Sensorr - ",y.title,y.release_date&&" (".concat(new Date(y.release_date).getFullYear(),")")):o.a.createElement("title",null,"Sensorr - Movie (",n.params.id,")")),o.a.createElement("div",{id:"movie",style:M.element},y?[o.a.createElement("div",{key:"details",style:w({},M.details,{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat(y.backdrop_path,")")})},o.a.createElement("div",{style:M.metadata},o.a.createElement("h3",{style:M.popularity},o.a.createElement("span",null,y.vote_average.toFixed(1)),o.a.createElement("span",null," "),o.a.createElement("span",null,0===y.vote_average?"ü§∑":y.vote_average<5?"üëé":y.vote_average<8?"üëç":"üôè")),o.a.createElement("h4",{style:M.runtime},y.runtime," mins üïô"),g&&o.a.createElement("a",{href:"https://youtu.be/".concat(g.key),target:"_blank",style:{textDecoration:"none"}},o.a.createElement("h4",{style:M.preview},"Preview üé¨")),o.a.createElement("div",{style:M.badges},!1===m&&o.a.createElement("div",{style:w({},M.badge,{cursor:"default"})},o.a.createElement("span",{style:M.emoji},"‚åõ"),"Loading"),(null===m||m&&"ignored"===m.state)&&o.a.createElement("div",{style:M.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:M.emoji},"üîï"),"Ignored"),m&&"wished"===m.state&&o.a.createElement("div",{style:M.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:M.emoji},"üçø"),"Wished"),m&&"archived"===m.state&&o.a.createElement("div",{style:M.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:M.emoji},"üìº"),"Archived"),o.a.createElement("div",{style:M.badge,onClick:this.handleLookClick},o.a.createElement("span",{style:M.emoji},"üîç"),"Look"))),o.a.createElement("div",{style:M.informations},o.a.createElement("div",null,o.a.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(y.poster_path),style:M.poster})),o.a.createElement("div",{style:M.wrapper},o.a.createElement("h1",{style:M.title},y.title),o.a.createElement("h2",{style:M.subtitle},y.title!==y.original_title&&o.a.createElement("span",{style:{margin:"0 0.5em 0 0"}},y.original_title),y.release_date&&o.a.createElement("span",{title:new Date(y.release_date).toLocaleDateString()},"(",new Date(y.release_date).getFullYear(),")")),o.a.createElement("p",{style:M.genres},y.genres.map(function(e){return e.name}).join(", ")),!!y.credits.crew.filter(function(e){return["Director"].includes(e.job)}).length&&o.a.createElement("p",{style:M.directors},"üé• ¬† ",y.credits.crew.filter(function(e){return["Director"].includes(e.job)}).map(function(e){return o.a.createElement(i.a,{to:"/star/".concat(e.id),style:M.link,key:e.id},e.name)}).reduce(function(e,t){return[e,", ",t]})),!!y.tagline&&o.a.createElement("h3",{style:M.tagline},y.tagline),o.a.createElement("p",{style:M.plot},y.overview),o.a.createElement("div",{style:M.credits},o.a.createElement(l.a,{items:y.credits.cast.slice(0,10),child:c.a,space:0})))),o.a.createElement("div",{style:M.more},o.a.createElement(l.a,{label:"".concat(h.charAt(0).toUpperCase()).concat(h.slice(1)),onClick:function(){return e.handleMoreChange()},items:y[h].results,style:M.label,child:s.a,empty:M.empty}))),d&&o.a.createElement(f.a,{key:"releases",movie:y})]:o.a.createElement("div",{style:M.loading},o.a.createElement(u.a,null))))}}])&&j(d.prototype,g),O&&j(d,O),n}()}).call(this,n(20))},373:function(e,t,n){"use strict";(function(e,r){var o,a=n(0),i=n.n(a),l=n(92),c=n(7),s=n.n(c),u=n(51),f=n(86),p=n(374),m=n(70),y=n(48),d=n(375),h=n.n(d),g=n(33),b=n(4);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=l.a.create({striped:{backgroundColor:"hsl(0, 0%, 100%)",":nth-child(2n)":{backgroundColor:"hsl(0, 0%, 98%)"}}}),M={element:{},container:{display:"flex",flexDirection:"column"},search:{position:"sticky",top:"-1px",backgroundColor:b.a.colors.primary,color:b.a.colors.white,fontWeight:800,textTransform:"uppercase",zIndex:1},column:{padding:"1em"},input:(o={width:"100%",backgroundColor:b.a.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},k(o,"padding","0.75em 1em"),k(o,"textAlign","center"),k(o,"color",b.a.colors.secondary),k(o,"fontFamily","inherit"),o),filter:{position:"relative",backgroundColor:b.a.colors.grey,color:b.a.colors.secondary,fontWeight:800,textTransform:"uppercase",padding:"1em"},clear:{position:"absolute",right:"1.25em",alignSelf:"center",width:"1.25em",cursor:"pointer"},row:{display:"flex",flexDirection:"row",flexGrow:0,flexWrap:"wrap",width:"100%"},rows:{title:{width:"60%"},site:{width:"12%"},peers:{width:"6%"},seeders:{width:"8%"},size:{width:"8%"},grab:{width:"6%"}},cell:{fontSize:"0.9em",textAlign:"center",fontFamily:b.a.fonts.secondary,padding:"0.8em",borderBottom:"1px solid ".concat(b.a.colors.grey),overflow:"hidden",whiteSpace:"nowrap"},link:{color:b.a.colors.primary},grab:{cursor:"pointer",fontSize:"2em",textDecoration:"none"}},P=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=E(n).call(this,e))||"object"!==v(o)&&"function"!=typeof o?j(r):o).state={releases:[],loading:!0,sort:g.a.config.sort,descending:g.a.config.descending,filter:g.a.config.filter},t.handleSortChange=t.handleSortChange.bind(j(t)),t.handleQueryChange=t.handleQueryChange.bind(j(t)),t.handleGrabClick=t.handleGrabClick.bind(j(t)),t}var o,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,a["PureComponent"]),o=n,(c=[{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100),g.a.look(new u.Movie(this.props.movie,e.config.region||localStorage.getItem("region")).normalize()).subscribe(function(e){return t.setState({releases:e})},function(e){t.setState({loading:!1}),console.warn(e)},function(){t.setState({loading:!1}),setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100)})}},{key:"handleQueryChange",value:function(e){this.setState({filter:e.target.value})}},{key:"handleSortChange",value:function(e){this.setState({sort:e,descending:e===this.state.sort?!this.state.descending:this.state.descending})}},{key:"handleGrabClick",value:function(e){var t=this.props.toastManager;t.add(i.a.createElement("span",null,"Trying to grab release ",i.a.createElement("strong",null,e.title),"..."),{appearance:"info",autoDismiss:!0}),fetch("/api/grab",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(g.a.config.auth.username,":").concat(g.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({release:e})}).then(function(n){try{n.json().then(function(r){n.ok?t.add(i.a.createElement("span",null,"Release ",i.a.createElement("strong",null,e.title)," grabbed to ",i.a.createElement("strong",null,g.a.config.blackhole)),{appearance:"success",autoDismiss:!0}):t.add(i.a.createElement("span",null,"Something went wrong during ",i.a.createElement("strong",null,e.title)," grabing : ",i.a.createElement("strong",null,r.reason)),{appearance:"error",autoDismiss:!0})})}catch(r){t.add(i.a.createElement("span",null,"Unexpected error during ",i.a.createElement("strong",null,e.title)," grabing : ",i.a.createElement("strong",null,n.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.sort,o=t.descending,a=t.releases,c=t.filter;O(t,["loading","sort","descending","releases","filter"]);return i.a.createElement("div",{key:"releases",id:"releases",style:M.element},i.a.createElement("div",{style:M.container},i.a.createElement("div",{style:M.search},i.a.createElement("div",{style:M.row},i.a.createElement("div",{style:w({},M.column,M.rows.title,{cursor:"pointer"}),onClick:function(){return e.handleSortChange("title")}},"Title"),i.a.createElement("div",{style:w({},M.column,M.rows.site,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("site")}},"Source"),i.a.createElement("div",{style:w({},M.column,M.rows.peers,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("peers")}},"Peers"),i.a.createElement("div",{style:w({},M.column,M.rows.seeders,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("seeders")}},"Seeders"),i.a.createElement("div",{style:w({},M.column,M.rows.size,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("size")}},"Size"),i.a.createElement("div",{style:w({},M.column,M.rows.grab,{textAlign:"center"})},"Grab")),i.a.createElement("div",{style:M.row},i.a.createElement("input",{type:"text",value:c,onChange:this.handleQueryChange,style:M.input,placeholder:"Filter..."}),i.a.createElement("span",{style:M.clear,onClick:function(){return e.handleQueryChange({target:{value:c?"":g.a.config.filter}})}},c?i.a.createElement(p.a,null):i.a.createElement("span",{style:{fontSize:"1.5em"}},"üîô")))),n||a.filter(g.a.filter(c)).length?a.filter(g.a.filter(c)).sort(g.a.sort(r,o)).map(function(t,n){return i.a.createElement("div",{key:n,className:Object(l.b)(C.striped),style:M.row},i.a.createElement("div",{title:t.valid?"Score : ".concat(t.score):t.reason,style:w({},M.cell,M.rows.title,{flexGrow:1,textAlign:"left",textOverflow:"ellipsis"})},i.a.createElement("span",{style:{opacity:[1,.5,.25][t.warning]}},t.title)),i.a.createElement("div",{style:w({},M.cell,M.rows.site)},i.a.createElement("a",{href:t.guid,style:M.link},t.site)),i.a.createElement("div",{style:w({},M.cell,M.rows.peers)},t.peers),i.a.createElement("div",{style:w({},M.cell,M.rows.seeders)},t.seeders),i.a.createElement("div",{style:w({},M.cell,M.rows.size,{textAlign:"right"})},h()(t.size)),i.a.createElement("div",{style:w({},M.cell,M.rows.grab,{display:"flex",alignItems:"center",justifyContent:"center",padding:0})},i.a.createElement("a",{href:"/proxy?url=".concat(window.btoa(t.link)),style:M.grab,target:"_blank",onClick:function(n){n.preventDefault(),e.handleGrabClick(t)}},"üéü")))}):i.a.createElement("div",{style:M.row},i.a.createElement(m.a,null))),n&&i.a.createElement("div",{style:M.loading},i.a.createElement(y.a,null)))}}])&&S(o.prototype,c),s&&S(o,s),n}();k(P,"propTypes",{movie:s.a.object.isRequired}),t.a=Object(f.withToastManager)(P)}).call(this,n(20),n(83).Buffer)},374:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement("svg",a({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}),o.a.createElement("path",{fill:"black",opacity:.2,d:"M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm5.66 14.24l-1.41 1.41L10 11.41l-4.24 4.25-1.42-1.42L8.59 10 4.34 5.76l1.42-1.42L10 8.59l4.24-4.24 1.41 1.41L11.41 10z"}))}},376:function(e,t,n){"use strict";(function(e,r){var o=n(0),a=n.n(o),i=n(205),l=n(377),c=n.n(l),s=n(38),u=n(86),f=n(33),p=n(4);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={element:{display:"flex",flexDirection:"column",padding:"2em 2em 3em"},column:{display:"flex"},section:{padding:"1em",display:"flex",flexDirection:"column"},title:{padding:"0 0 0.5em",fontSize:"2em",fontWeight:"bold",color:p.a.colors.black},paragraph:{lineHeight:1.75,color:p.a.colors.black},list:{lineHeight:1.75,listStyle:"inside"},link:{color:p.a.colors.primary},select:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",borderRadius:0,border:"0.0625em solid ".concat(p.a.colors.gray)},input:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",whiteSpace:"nowrap",borderRadius:0,border:"0.0625em solid ".concat(p.a.colors.gray)},checkbox:{padding:"0.5em"},code:{backgroundColor:p.a.colors.primary,padding:"0.125em 0.375em",borderRadius:"0.25em",fontFamily:p.a.fonts.secondary,fontSize:"0.875em",fontWeight:600,color:p.a.colors.white},button:{cursor:"pointer",backgroundColor:p.a.colors.primary,color:p.a.colors.white,padding:"1em 1.25em 0.75em",border:"none",fontFamily:p.a.fonts.primary,fontSize:"1.125em",fontWeight:"bold",textTransform:"uppercase"},remove:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"0 0 0 1em"},add:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"1em"}},S="TMDB API Key (v3 auth)",E="/tmp",j={name:"Name",url:"http://localhost:5060/torznab/aggregate/api",key:"API Key"},x="resolution=720p|1080p, source=BLURAY",k="seeders",C=function(t){function n(t){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(r=!(a=b(n).call(this,t))||"object"!==m(a)&&"function"!=typeof a?v(o):a).state={values:d({},f.a.config,{region:e.config.region||localStorage.getItem("region")||window.navigator.languages.filter(function(e){return e.match(/-/)}).reverse().pop()||"en-US"}),regions:[]},r.handleSubmit=r.handleSubmit.bind(v(r)),r.handleChange=r.handleChange.bind(v(r)),r}var l,u,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,o["PureComponent"]),l=n,(u=[{key:"componentDidMount",value:function(){var e=this;Promise.all(Object.keys(i.countries).map(function(e){return new Promise(function(t){return c.a.getCountryLanguages(e,function(n,r){!n&&r&&r.length&&r[0].iso639_1?t({country:e,language:r[0].iso639_1,emoji:Object(i.flag)(e),name:Object(i.name)(e)}):t(null)})})})).then(function(t){return e.setState({regions:t.filter(function(e){return e})})})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.toastManager,n=d({},this.state.values,{xznabs:this.state.values.xznabs.filter(function(e){return e.name&&e.url&&e.key})});fetch("/api/configure",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(f.a.config.auth.username,":").concat(f.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({config:n})}).then(function(e){try{e.json().then(function(n){e.ok?(t.add(a.a.createElement("span",null,"Configuration updated ! Reloading page..."),{appearance:"success",autoDismiss:!0}),setTimeout(function(){return location.reload()},5e3)):t.add(a.a.createElement("span",null,"Something went wrong during configuration update : ",a.a.createElement("strong",null,n.reason)),{appearance:"error",autoDismiss:!0})})}catch(n){t.add(a.a.createElement("span",null,"Unexpected error during configuration update : ",a.a.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"handleChange",value:function(e,t){this.setState({values:d({},this.state.values,h({},e,t))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.values,r=t.regions;return a.a.createElement(o.Fragment,null,a.a.createElement(s.Helmet,null,a.a.createElement("title",null,"Sensorr - Configure")),a.a.createElement("form",{style:O.element,onSubmit:this.handleSubmit},a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"Region"),a.a.createElement("p",{style:O.paragraph},"When you ",a.a.createElement("code",{style:O.code},"wish")," a movie, all data about movie (like title, year and stuff) are saved from ",a.a.createElement("a",{href:"https://www.themoviedb.org/",style:O.link},"The Movie Database")," in configured region language.",a.a.createElement("br",null),a.a.createElement("br",null),"You can overide it here, just select your ",a.a.createElement("code",{style:O.code},"region")," :"),a.a.createElement("select",{style:O.select,value:n.region,onChange:function(t){return e.handleChange("region",t.target.value)}},r.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return a.a.createElement("option",{key:e.country,value:"".concat(e.language,"-").concat(e.country)},e.name," ",e.emoji)}))),a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"Authentication"),a.a.createElement("p",{style:O.paragraph},"To securize your Sensorr instance you can fill a username and a password. Leave blank for no authentication.",a.a.createElement("br",null),a.a.createElement("br",null),"Specify ",a.a.createElement("code",{style:O.code},"username")," and ",a.a.createElement("code",{style:O.code},"password")," :"),a.a.createElement("div",{style:O.column},a.a.createElement("input",{type:"text",placeholder:"Username",style:d({},O.input,{marginRight:"1em"}),defaultValue:n.auth.username,onChange:function(t){return e.handleChange("auth",d({},n.auth,{username:t.target.value}))}}),a.a.createElement("input",{type:"text",placeholder:"Password",style:d({},O.input,{marginLeft:"1em"}),defaultValue:n.auth.password,onChange:function(t){return e.handleChange("auth",d({},n.auth,{password:t.target.value}))}}))),a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"TMDB"),a.a.createElement("p",{style:O.paragraph},"Sensorr is powered by ",a.a.createElement("a",{href:"https://www.themoviedb.org/",style:O.link},"The Movie Database")," API, to works properly, you need to fill ",a.a.createElement("a",{href:"https://www.themoviedb.org/settings/api",style:O.link},"your own API Key (v3 auth)"),".",a.a.createElement("br",null),a.a.createElement("br",null),"Specify ",a.a.createElement("code",{style:O.code},"API Key")," (v3 auth) :"),a.a.createElement("input",{type:"text",placeholder:S,style:O.input,defaultValue:n.tmdb,onChange:function(t){return e.handleChange("tmdb",t.target.value)}})),a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"Blackhole"),a.a.createElement("p",{style:d({},O.paragraph,{flex:1})},"Sensorr works with ",a.a.createElement("strong",null,"XZNAB")," API servers and will download any ",a.a.createElement("code",{style:O.code},".torrent")," or ",a.a.createElement("code",{style:O.code},".nzb")," file into defined Server ",a.a.createElement("code",{style:O.code},"blackhole")," path.",a.a.createElement("br",null),"If you run Sensorr from ",a.a.createElement("a",{href:"https://hub.docker.com/r/thcolin/sensorr/",style:O.link},"Docker")," image, keep it to ",a.a.createElement("code",{style:O.code},"/app/sensorr/blackhole"),".",a.a.createElement("br",null),a.a.createElement("br",null)),a.a.createElement("p",{style:O.paragraph},"Here you need to fill ",a.a.createElement("strong",null,"server")," blackhole ",a.a.createElement("strong",null,"path")," :"),a.a.createElement("input",{type:"text",placeholder:E,style:O.input,defaultValue:n.blackhole,onChange:function(t){return e.handleChange("blackhole",t.target.value)}})),a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"XZNAB"),a.a.createElement("p",{style:O.paragraph},"Sensorr works with ",a.a.createElement("strong",null,"XZNAB")," (",a.a.createElement("a",{href:"https://github.com/Sonarr/Sonarr/wiki/Implementing-a-Torznab-indexer",style:O.link},"Torznab")," or ",a.a.createElement("a",{href:"http://www.newznab.com/",style:O.link},"Newznab"),") API servers, add as many as you wish, they will be used to perform looks query.",a.a.createElement("br",null),a.a.createElement("br",null)),a.a.createElement("p",{style:O.paragraph},"Example:"),a.a.createElement("ul",{style:O.list},a.a.createElement("li",null,"Jackett: ",a.a.createElement("code",{style:O.code},"http://localhost:9117/api/v2.0/indexers/xxx/results/torznab/")),a.a.createElement("li",null,"Cardigann: ",a.a.createElement("code",{style:O.code},"http://localhost:5060/torznab/xxx/api")," (don't forget ",a.a.createElement("code",{style:O.code},"/api")," after copied Cardigann Torznab link !)")),(n.xznabs.length?n.xznabs:[{name:"",url:"",key:""}]).map(function(t,n,r){return a.a.createElement("div",{style:O.column,key:n},a.a.createElement("input",{type:"checkbox",title:t.disabled?"Disabled":"Enabled",style:O.checkbox,checked:!t.disabled,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?d({},t,{disabled:!o.target.checked}):e}))}}),a.a.createElement("input",{type:"text",placeholder:j.name,style:d({},O.input,{marginLeft:"1em",marginRight:"1em"}),value:t.name,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?d({},t,{name:o.target.value}):e}))}}),a.a.createElement("input",{type:"text",placeholder:j.url,style:d({},O.input,{marginLeft:"1em",marginRight:"1em"}),value:t.url,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?d({},t,{url:o.target.value}):e}))}}),a.a.createElement("input",{type:"text",placeholder:j.key,style:d({},O.input,{marginLeft:"1em"}),value:t.key,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?d({},t,{key:o.target.value}):e}))}}),a.a.createElement("div",{style:O.remove,onClick:function(){return e.handleChange("xznabs",r.filter(function(e,t){return t!==n}))}},"üóëÔ∏è"))}),a.a.createElement("div",{style:O.add,onClick:function(){return e.handleChange("xznabs",y(n.xznabs).concat([{name:"",url:"",key:""}]))}},"üå±")),a.a.createElement("div",{style:O.column},a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"Filter"),a.a.createElement("p",{style:d({},O.paragraph,{flex:1})},"When using CLI with ",a.a.createElement("code",{style:O.code},"-a")," or ",a.a.createElement("code",{style:O.code},"--auto")," option, results will be filtered with defined ",a.a.createElement("code",{style:O.code},"filter"),"¬† This is just a ",a.a.createElement("a",{href:"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/RegExp",style:O.link},"RegExp"),", you can have multiple filters, just separate theme with ",a.a.createElement("code",{style:O.code},","),"¬† You can filter by specific property and normalized value, see ",a.a.createElement("a",{href:"https://raw.githubusercontent.com/thcolin/oleoo/master/src/rules.json",style:O.link},"full list"),".",a.a.createElement("br",null),a.a.createElement("br",null)),a.a.createElement("p",{style:O.paragraph},"Here you need to specify comma separated ",a.a.createElement("a",{href:"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/RegExp",style:O.link},"RegExp")," :"),a.a.createElement("input",{type:"text",placeholder:x,style:O.input,defaultValue:n.filter,onChange:function(t){return e.handleChange("filter",t.target.value)}})),a.a.createElement("div",{style:O.section},a.a.createElement("h1",{style:O.title},"Sort"),a.a.createElement("p",{style:d({},O.paragraph,{flex:1})},"Same as filter, used by CLI with ",a.a.createElement("code",{style:O.code},"-a")," or ",a.a.createElement("code",{style:O.code},"--auto")," option to sort results, define sort property among : ¬†",a.a.createElement("code",{style:O.code},"seeders"),", ",a.a.createElement("code",{style:O.code},"peers")," and ",a.a.createElement("code",{style:O.code},"size"),a.a.createElement("br",null),a.a.createElement("br",null)),a.a.createElement("p",{style:O.paragraph},"Here you need to specify ",a.a.createElement("strong",null,"sort property")," :"),a.a.createElement("div",{style:O.column},a.a.createElement("input",{type:"text",placeholder:k,style:O.input,defaultValue:n.sort,onChange:function(t){return e.handleChange("sort",t.target.value)}}),a.a.createElement("label",{htmlFor:"descending",style:d({},O.input,{borderColor:"transparent"})},a.a.createElement("input",{id:"descending",type:"checkbox",defaultChecked:n.descending,onChange:function(t){return e.handleChange("descending",t.target.checked)},style:{marginRight:"1em"}}),"Descending")))),a.a.createElement("button",{type:"submit",style:d({},O.button,{marginTop:"1em"})},"üíæ¬†¬†Save")))}}])&&g(l.prototype,u),p&&g(l,p),n}();t.a=Object(u.withToastManager)(C)}).call(this,n(20),n(83).Buffer)},382:function(e,t,n){n(383),n(549),e.exports=n(710)},4:function(e,t,n){"use strict";t.a={colors:{primary:"#01D277",secondary:"#081C24",white:"#FFFFFF",grey:"#EEEEEE",gray:"#CCCCCC",black:"#000000",shadows:{black:"hsla(0, 0%, 0%, 0.75)",grey:"hsla(0, 0%, 0%, 0.5)"}},fonts:{primary:"Raleway, sans-serif",secondary:"Open Sans, sans-serif",monospace:"Maison Mono, monospace"}}},40:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var r=n(0),o=n.n(r),a=n(153),i=n(55),l=n(36),c=n(51),s=n(4);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w={element:{position:"relative",overflow:"hidden",height:"15em",width:"10em",background:"".concat(s.a.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},state:{position:"absolute",right:"0.5em",top:"0.5em",backgroundColor:s.a.colors.shadows.grey,borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em",userSelect:"none",MozUserSelect:"none"},link:{display:"block"},poster:{cursor:"pointer",maxHeight:"100%",maxWidth:"100%"}},O=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=g(n).call(this,e))||"object"!==u(o)&&"function"!=typeof o?b(r):o).state={doc:!1,ready:!1},t.bootstrap=t.bootstrap.bind(b(t)),t.handleStateChange=t.handleStateChange.bind(b(t)),t}var s,m,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,r["PureComponent"]),s=n,(m=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id!==this.props.entity.id&&this.bootstrap()}},{key:"bootstrap",value:function(){var e=d(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,l.a.get();case 4:return t=e.sent,e.next=7,t.movies.findOne().where("id").eq(this.props.entity.id.toString()).exec();case 7:n=e.sent,this.setState({doc:n?n.toJSON():null}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var t=d(regeneratorRuntime.mark(function t(){var n,r,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get();case 2:if(n=t.sent,(r=this.props.entity).alternative_titles&&r.release_dates){t.next=8;break}return t.next=7,i.a.fetch(["movie",r.id],{append_to_response:"alternative_titles,release_dates"});case 7:r=t.sent;case 8:if(!1!==this.state.doc){t.next=10;break}return t.abrupt("return");case 10:if(this.state.doc&&"ignored"!==this.state.doc.state){t.next=17;break}return t.next=13,n.movies.atomicUpsert(new c.Movie(p({},r,{state:"wished"}),e.config.region||localStorage.getItem("region")).normalize());case 13:o=t.sent,this.setState({doc:o.toJSON(),entity:r}),t.next=29;break;case 17:if("wished"!==this.state.doc.state){t.next=24;break}return t.next=20,n.movies.atomicUpsert(new c.Movie(p({},r,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize());case 20:a=t.sent,this.setState({doc:a.toJSON(),entity:r}),t.next=29;break;case 24:if("archived"!==this.state.doc.state){t.next=29;break}return t.next=27,n.movies.atomicUpsert(new c.Movie(p({},r,{state:"ignored"}),e.config.region||localStorage.getItem("region")).normalize());case 27:s=t.sent,this.setState({doc:s.toJSON(),entity:r});case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=(f(t,["entity"]),this.state),i=r.doc,l=r.ready;f(r,["doc","ready"]);return o.a.createElement("div",{title:"".concat(n.title).concat((n.year||n.release_date)&&" (".concat(n.year||new Date(n.release_date).getFullYear(),")")),style:p({},w.element,{background:l?"none":w.element.background})},o.a.createElement("span",{style:p({},w.state,{cursor:!1===i?"default":"pointer"}),onClick:this.handleStateChange},!1===i&&"‚åõ",(null===i||i&&"ignored"===i.state)&&"üîï",i&&"wished"===i.state&&"üçø",i&&"archived"===i.state&&"üìº"),o.a.createElement(a.a,{to:"/movie/".concat(n.id),style:w.link},o.a.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.poster_path),onLoad:function(){return e.setState({ready:!0})},style:w.poster})))}}])&&h(s.prototype,m),y&&h(s,y),n}()}).call(this,n(20))},48:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={element:{width:"40px",height:"40px",position:"relative",margin:"100px auto"},circle:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"#333",opacity:.6,position:"absolute",top:0,left:0,animation:"bounce 2.0s infinite ease-in-out"},second:{animationDelay:"-1.0s"}};t.a=function(e){l({},e);return o.a.createElement("div",{style:c.element},o.a.createElement("div",{style:c.circle}),o.a.createElement("div",{style:a({},c.circle,c.second)}))}},51:function(e,t){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var i=function(){function e(t,n){r(this,e),this.payload=t,this.countries=["US","UK",n.split("-").pop()]}return a(e,[{key:"normalize",value:function(){var e=this;return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,title:this.payload.title,original_title:this.payload.original_title,year:this.payload.year?this.payload.year:(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear(),poster_path:this.payload.poster_path,state:this.payload.state||"wished",time:Date.now(),terms:{titles:n(new Set([this.payload.title,this.payload.original_title].concat(this.payload.titles?this.payload.titles:(this.payload.alternative_titles.titles||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).map(function(e){return e.title})).map(function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\sa-zA-Z0-9]/g," ").replace(/ +/g," ")}))).filter(function(e,t,n){return!n.some(function(t){return t!==e&&new RegExp("^".concat(t)).test(e)})}),years:n(new Set(this.payload.years?this.payload.years:(this.payload.release_dates.results||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).reduce(function(e,t){return n(e).concat(n(t.release_dates.map(function(e){return new Date(e.release_date).getFullYear()})))},[(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear()])))}}}}]),e}(),l=function(){function e(t){r(this,e),this.payload=t}return a(e,[{key:"normalize",value:function(){return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,name:this.payload.name,also_known_as:this.payload.also_known_as||[],birthday:this.payload.birthday||"",popularity:this.payload.popularity,profile_path:this.payload.profile_path,state:this.payload.state||"stalked",time:Date.now(),credits:Array.isArray(this.payload.credits)?this.payload.credits:n((this.payload.credits||{cast:[]}).cast).concat(n((this.payload.credits||{crew:[]}).crew),n((this.payload.movie_credits||{cast:[]}).cast),n((this.payload.movie_credits||{crew:[]}).crew))}}}]),e}();e.exports={Movie:i,Star:l}},55:function(e,t,n){"use strict";(function(e){var r=n(152),o=new(n.n(r).a)({key:e.config.tmdb,region:e.config.region||localStorage.getItem("region")||"en-US"});t.a=o}).call(this,n(20))},574:function(e,t,n){e.exports=n.p+"assets/images/ToyStory.2c34cca7d461eca741597f663a8bb9a1.jpg"},575:function(e,t,n){e.exports=n.p+"assets/images/2001ASpaceOdyssey.5cce0cd9c490afb26bbd26a8bb617750.jpg"},576:function(e,t,n){e.exports=n.p+"assets/images/Alien.7355ab13599d61dcb50047a04b5aefae.jpg"},577:function(e,t,n){e.exports=n.p+"assets/images/Creed.4c0a52a19aff4435fe05cf29e37f423b.jpg"},578:function(e,t,n){e.exports=n.p+"assets/images/Furious7.360048e34552fd4d08badae137f65210.jpg"},579:function(e,t,n){e.exports=n.p+"assets/images/IndianaJones.2a4ebf5deb647c22984cc5b4c12da395.jpg"},580:function(e,t,n){e.exports=n.p+"assets/images/Jaws.113940b0cb2342445119e560d3c3b472.jpg"},581:function(e,t,n){e.exports=n.p+"assets/images/LordOfTheRings.b8458877dbf11b4fcbffbed1247507d3.jpg"},582:function(e,t,n){e.exports=n.p+"assets/images/MadMaxFuryRoad.3eed84cc09f99ecc5ff0b1ee1182c198.jpg"},583:function(e,t,n){e.exports=n.p+"assets/images/Scream.d8fa6f78b2769db7619a43c1610db094.jpg"},584:function(e,t,n){e.exports=n.p+"assets/images/SilenceOfTheLambs.7c215c32d6e693c7f0010b80767def57.jpg"},585:function(e,t,n){e.exports=n.p+"assets/images/TheBreakfastClub.88a484f210ab7b920995eb999535a4f4.jpg"},586:function(e,t,n){e.exports=n.p+"assets/images/TheMartian.bf5260afc737b75468830ab8f75bcc6a.jpg"},587:function(e,t,n){e.exports=n.p+"assets/images/TheMatrix.edc37d394d21382fda2e51e98a014668.jpg"},601:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(602),f=n(603),p=n(606).request,m=n(53),y=m.map,d=m.catchError;e.exports=function(){function e(t,n){var r=t.name,o=t.key,a=t.url,i=n.proxify,l=n.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r,this.key=o,this.url=a,this.options={proxify:i,headers:l||{}}}var t,n,m;return t=e,(n=[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.format="json",e.apikey=this.key;var t="".concat(this.url,"?").concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"));return this.options.proxify?["/proxy?url=".concat(window.btoa(t)),{headers:new Headers(l({},this.options.headers))}]:[t]}},{key:"search",value:function(e){var t=i(this.build({q:e,Query:e,t:"search",cat:"2000,2010,2020,2030,2040,2050,2060"}),2),n=t[0],s=t[1];return p(l({url:n,responseType:"text"},s)).pipe(y(function(e){return e.response}),y(function(e){try{return JSON.parse(e)}catch(n){var t=u.xml2json(e);return{items:(void 0===(t.rss||{channel:{}}).channel.item?[]:Array.isArray(t.rss.channel.item)?t.rss.channel.item:[t.rss.channel.item]).map(function(e){var t=e.torznab,n=a(e,["torznab"]);return l({},t.reduce(function(e,t){return l({},e,c({},t.name,e[t.name]?Array.isArray(e[t.name])?o(e[t.name]).concat([t.value]):[e[t.name],t.value]:t.value))},{}),n)}).map(function(e){var n=e.downloadvolumefactor,r=e.minimumratio,o=e.minimumseedtime,i=e.pubDate,c=e.uploadvolumefactor,s=a(e,["downloadvolumefactor","minimumratio","minimumseedtime","pubDate","uploadvolumefactor"]);return l({},s,{link:f(s.link,"all"),enclosure:f(s.enclosure.url,"all"),grabs:parseInt(s.grabs),size:parseInt(s.size),downloadVolumeFactor:parseInt(n),minimumRatio:parseInt(r),minimumSeedTime:parseInt(o),peers:parseInt(s.peers),publishDate:i,seeders:parseInt(s.seeders),site:s.link.split("".concat(t.rss.channel.atom.href,"dl/")).pop().split("/").shift(),uploadVolumeFactor:parseInt(c),category:Array.isArray(s)?s.category.map(function(e){return parseInt(e)}):parseInt(s.category)})})}}}),y(function(e){return function e(t){switch(r(t)){case"string":case"number":case"boolean":return t;default:return Array.isArray(t)?t.map(function(t){return e(t)}):t instanceof Date?t:null===t?t:Object.keys(t).reduce(function(n,r){return l({},n,c({},r.toUpperCase()===r?r.toLowerCase():"".concat(r.charAt(0).toLowerCase()).concat(r.slice(1)),e(t[r])))},{})}}(e)}),d(function(e){return console.warn(e),{items:[]}}))}}])&&s(t.prototype,n),m&&s(t,m),e}()},608:function(e){e.exports={tmdb:"",blackhole:"/tmp",xznabs:[],filter:"resolution=720p|1080p",sort:"seeders",descending:!0,region:"en-US",auth:{username:"sensorr",password:"sensorr"}}},622:function(e,t){},671:function(e,t){e.exports=function(e){return new Date(Math.floor((parseInt([e.split("-")[2].substring(1),e.split("-")[1],e.split("-")[0]].join(""),16)-122192928e9)/1e4))}},691:function(e,t){},694:function(e,t,n){var r=n(695);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,o);r.locals&&(e.exports=r.locals)},695:function(e,t,n){t=e.exports=n(156)(!1);var r=n(235)(n(696));t.push([e.i,"@font-face {\n  font-family: 'Maison Mono';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Maison Mono '),\n    local('Maison-Mono'),\n    url("+r+") format('woff');\n}\n",""])},696:function(e,t,n){e.exports=n.p+"assets/fonts/maison-latin-400.4cffdca228e706834c5afd62be58a6fa.woff"},697:function(e,t,n){var r=n(698);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,o);r.locals&&(e.exports=r.locals)},698:function(e,t,n){t=e.exports=n(156)(!1);var r=n(235),o=r(n(699)),a=r(n(700)),i=r(n(701));t.push([e.i,"@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Raleway Regular '),\n    local('Raleway-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Raleway SemiBold '),\n    local('Raleway-SemiBold'),\n    url("+a+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Raleway ExtraBold '),\n    local('Raleway-ExtraBold'),\n    url("+i+") format('woff');\n}\n",""])},70:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={element:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"4em",color:n(4).a.colors.secondary},emoji:{fontSize:"5em"},title:{padding:"1em 0",fontWeight:800,textTransform:"uppercase"},subtitle:{}};t.a=function(e){var t=e.style,n=e.emoji,r=e.title,i=e.subtitle;l(e,["style","emoji","title","subtitle"]);return o.a.createElement("div",{style:a({},c.element,t)},o.a.createElement("h1",{style:c.emoji},n||"üëª"),o.a.createElement("h2",{style:c.title},r||"Bouhouuu ! I'm the scary empty ghost !"),o.a.createElement("p",{style:c.subtitle},i||"Sorry, no results."))}},702:function(e,t,n){var r=n(703);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,o);r.locals&&(e.exports=r.locals)},703:function(e,t,n){t=e.exports=n(156)(!1);var r=n(235),o=r(n(704)),a=r(n(705)),i=r(n(706));t.push([e.i,"@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Open Sans Regular '),\n    local('Open Sans-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Open Sans SemiBold '),\n    local('Open Sans-SemiBold'),\n    url("+a+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Open Sans ExtraBold '),\n    local('Open Sans-ExtraBold'),\n    url("+i+") format('woff');\n}\n",""])},707:function(e,t,n){var r=n(708);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,o);r.locals&&(e.exports=r.locals)},708:function(e,t,n){(e.exports=n(156)(!1)).push([e.i,"* {\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n\nhtml {\n  scroll-behavior: smooth;\n  font-size: 16px;\n}\n\nbody {\n  position: relative;\n  font-size: 1rem;\n  font-family: 'Raleway';\n}\n\nb, strong {\n  font-weight: bold;\n}\n\nem {\n  font-style: italic;\n}\n\n@-webkit-keyframes bounce {\n  0%, 100% { -webkit-transform: scale(0.0) }\n  50% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 50% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n",""])},710:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(158),i=n(202),l=n(86),c=n(716),s=n(352),u=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=[{url:n(574),position:"center"},{url:n(575),position:"top"},{url:n(576),position:"top"},{url:n(577),position:"top"},{url:n(578),position:"top"},{url:n(579),position:"top"},{url:n(580),position:"center"},{url:n(581),position:"center"},{url:n(582),position:"center"},{url:n(583),position:"center"},{url:n(584),position:"center"},{url:n(585),position:"center"},{url:n(586),position:"center"},{url:n(587),position:"top"}],w={element:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",backgroundSize:"cover",height:"15em",padding:"0 10em 0 0"},title:{color:u.a.colors.white,fontSize:"6em",fontWeight:800},powered:{display:"flex",color:u.a.colors.white,padding:"0.5em 0"},logo:{width:"3em",height:"3em",margin:"0 1em"},github:{position:"absolute",height:"1.5em",width:"1.5em",bottom:"1em",right:"1em"}},O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,g(t).call(this,e))).state={banner:v[~~(v.length*Math.random())]},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.state,t=e.banner;y(e,["banner"]);return o.a.createElement("div",{style:p({},w.element,{backgroundImage:"url(".concat(t.url,")"),backgroundPosition:t.position})},o.a.createElement("h1",{style:w.title},"Sensorr"),o.a.createElement("div",{style:w.powered},o.a.createElement("span",null,"powered by "),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 251.34 222.81",style:w.logo},o.a.createElement("path",{fill:u.a.colors.primary,d:"M2944.56 2236.34c14.6 0 24.48-9.88 24.48-24.48v-159.28c0-14.6-9.88-24.48-24.48-24.48h-202.37c-14.6 0-24.48 9.88-24.48 24.48v198.33l12.56-14.56v-183.77a11.94 11.94 0 0 1 11.92-11.92h202.37a11.94 11.94 0 0 1 11.92 11.92v159.28a11.94 11.94 0 0 1-11.92 11.92h-183.74l-12.56 12.56-.08-.1",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M61.38 77.29h6.94V49.52h8.64v-6.89H52.74v6.89h8.64v27.77zM99.53 77.29h6.94V42.58h-6.94v13.88H89.14V42.58H82.2v34.71h6.94V63.4h10.39v13.89zM132.25 70.34h-13.02V63.4h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.38v34.71h19.97v-6.95zM68.66 101.35L54.97 86.11h-2.23v35.24h7.04v-19.37l8.88 9.32 8.88-9.32-.04 19.37h7.03V86.11h-2.18l-13.69 15.24z"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M2825.75 2114.16c-23.88 0-23.88 35.77 0 35.77s23.88-35.77 0-35.77zm0 28.59c-13.88 0-13.88-21.45 0-21.45s13.88 21.45 0 21.45z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M165.37 86.65h6.94v34.7h-6.94zM185.07 114.41v-6.94h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.37v34.7h19.96v-6.94h-13.02z"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M2780.79 2158.81h-10.34v34.7h10.34c23.1 0 23.1-34.7 0-34.7zm0 27.76h-3.4v-20.82h3.4c13.49 0 13.49 20.82 0 20.82z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M2824 2176.13c2.18-1.5 3.11-4.22 3.2-6.84.15-6.12-3.69-10.53-9.85-10.53h-13.74v34.75h13.74a10.32 10.32 0 0 0 10.24-10.44 8.43 8.43 0 0 0-3.59-6.94zm-13.4-10.44h6.17a3.51 3.51 0 0 1 0 7h-6.17v-7zm6.17 20.87h-6.17v-6.94h6.17a3.41 3.41 0 0 1 3.49 3.45 3.45 3.45 0 0 1-3.49 3.5z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:u.a.colors.primary,d:"M144.01 105.38l-9.14-18.73h-8.01l16.37 35.43h1.56l16.36-35.43h-8.01l-9.13 18.73z"}))),o.a.createElement("a",{href:"https://github.com/thcolin/sensorr",target:"_blank",style:w.github},o.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z",transform:"scale(64)",fill:u.a.colors.primary}))))}}])&&d(n.prototype,a),i&&d(n,i),t}(),S=n(713),E=n(717),j=n(350);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T={primary:{position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"center",backgroundColor:u.a.colors.secondary,padding:"2em 0"},secondary:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:u.a.colors.primary,padding:"1em 0"},menu:{display:"flex",justifyContent:"center",flex:1},link:{color:u.a.colors.white,margin:"0 2em",fontWeight:800,textTransform:"uppercase",textDecoration:"none",paddingBottom:"0.35em"},light:{fontSize:"0.95em",fontWeight:600},active:{borderBottom:"0.1em solid ".concat(u.a.colors.white),paddingBottom:"0.25em"},emojis:{position:"absolute",display:"flex",alignItems:"center",justifySelf:"flex-end",padding:"0 1em",fontSize:"2em"},configure:{margin:"0 1em",textDecoration:"none"},logs:{margin:"0 1em 0 0",textDecoration:"none"}},A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,D(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.location,n=(M(e,["location"]),t.pathname.split("/").slice(1,2).pop());return o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:T.primary},o.a.createElement("div",{style:T.menu},o.a.createElement(S.a,{to:"/",exact:!0,style:T.link,activeStyle:T.active},"Trending"),o.a.createElement(S.a,{to:"/movies/collection",exact:!0,style:k({},T.link,"movies"===n?T.active:{})},"Movies"),o.a.createElement(S.a,{to:"/stars/upcoming",exact:!0,style:k({},T.link,"stars"===n?T.active:{})},"Stars")),o.a.createElement("div",{style:T.emojis},o.a.createElement(S.a,{to:"/configure",exact:!0,style:T.configure,title:"Configure"},"üéö"),o.a.createElement(S.a,{to:"/logs",exact:!0,style:T.logs,title:"History"},"üìñ"),o.a.createElement(j.a,null))),{movies:o.a.createElement("div",{style:T.secondary},o.a.createElement(S.a,{to:"/movies/collection",exact:!0,style:k({},T.link,T.light),activeStyle:T.active},"Collection"),o.a.createElement(S.a,{to:"/movies/search",style:k({},T.link,T.light),activeStyle:T.active},"Search")),stars:o.a.createElement("div",{style:T.secondary},o.a.createElement(S.a,{to:"/stars/upcoming",exact:!0,style:k({},T.link,T.light),activeStyle:T.active},"Upcoming"),o.a.createElement(S.a,{to:"/stars/following",exact:!0,style:k({},T.link,T.light),activeStyle:T.active},"Following"),o.a.createElement(S.a,{to:"/stars/search",style:k({},T.link,T.light),activeStyle:T.active},"Search"))}[n])}}])&&P(n.prototype,a),i&&P(n,i),t}(),z=Object(E.a)(A),N=n(38),L=n(79),R=n(40),U=n(152);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J={element:{padding:"2em 0",fontSize:"1.125em"},row:{cursor:"pointer"}},V=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=W(t).call(this,e))||"object"!==F(o)&&"function"!=typeof o?B(r):o).randomize={year:function(){return Math.min(Math.round(Math.random()*((new Date).getFullYear()-1925)+1925+20*Math.random()),(new Date).getFullYear()-2)},genre:function(){return Object.keys(U.GENRES)[Math.floor(Math.random()*Object.values(U.GENRES).length)]}},n.state={year:n.randomize.year(),genre:n.randomize.genre()},n.handleRowClick=n.handleRowClick.bind(B(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleRowClick",value:function(e){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,this.randomize[e]()))}},{key:"render",value:function(){var e=this,t=this.state,n=t.year,a=t.genre;Y(t,["year","genre"]);return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,o.a.createElement("title",null,"Sensorr - Trending")),o.a.createElement("div",{style:J.element},o.a.createElement(L.a,{label:"Trending",uri:["trending","movie","week"],params:{sort_by:"popularity.desc"},child:R.a}),o.a.createElement(L.a,{label:"Discover",uri:["discover","movie"],child:R.a}),o.a.createElement(L.a,{label:"Discover (".concat(n,")"),title:"Randomize year",uri:["discover","movie"],params:{primary_release_year:n,sort_by:"popularity.desc"},child:R.a,onClick:function(){return e.handleRowClick("year")},style:J.row}),o.a.createElement(L.a,{label:"Discover (".concat(U.GENRES[a],")"),title:"Randomize genre",uri:["discover","movie"],params:{with_genres:a},child:R.a,onClick:function(){return e.handleRowClick("genre")},style:J.row})))}}])&&H(n.prototype,a),i&&H(n,i),t}(),Q=n(149),G=n.n(Q),Z=n(7),K=n.n(Z),X=n(48),$=n(70),ee=n(36),te=n(55);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pe(e,t,n[t])})}return e}function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ie(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function le(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me={placeholder:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},label:{padding:"0 2em",fontSize:"2em",fontWeight:"bold",color:u.a.colors.black},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 10em)",gridGap:"2rem",justifyContent:"space-between",padding:"2em"},entity:{width:"10em",height:"16em"}},ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=se(t).call(this,e))||"object"!==ne(o)&&"function"!=typeof o?ue(r):o).state={loading:!1,entities:[],buffer:[],max:20},n.expand=n.expand.bind(ue(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.query){e.next=13;break}return this.setState({loading:!0}),e.next=4,ee.a.get();case 4:return t=e.sent,n=this.props.query(t),e.next=8,n.exec();case 8:r=e.sent,this.subscription=n.$.subscribe(function(e){return o.setState({buffer:e.map(function(e){return e.toJSON()})})}),this.setState({loading:!1,entities:r.map(function(e){return e.toJSON()})}),e.next=14;break;case 13:this.props.uri&&(this.setState({loading:!0}),te.a.fetch(this.props.uri,this.props.params).then(function(e){return o.setState({loading:!1,entities:o.props.transform(e)||[]})}));case 14:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){le(a,r,o,i,l,"next",e)}function l(e){le(a,r,o,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.query?this.state.buffer.length&&e.filter!==this.props.filter&&this.setState({entities:this.state.buffer,buffer:[]}):this.props.uri&&(this.props.uri.join("/")===e.uri.join("/")&&JSON.stringify(this.props.params)===JSON.stringify(e.params)||(this.setState({loading:!0}),te.a.fetch(this.props.uri,this.props.params).then(function(e){return n.setState({loading:!1,entities:n.props.transform(e)})})))}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"validate",value:function(e){return e.poster_path||e.profile_path}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+20}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=(t.query,t.uri,t.params,t.transform,t.filter),a=t.label,i=t.child,l=t.empty,c=t.spinner,s=t.limit,u=ie(t,["items","query","uri","params","transform","filter","label","child","empty","spinner","limit"]),f=this.state,p=f.loading,m=f.entities,y=f.max,d=(ie(f,["loading","entities","max"]),ae(m).concat(ae(n)).sort(function(e,t){return(t.time||0)-(e.time||0)}).filter(function(t){return e.validate(t)}).filter(r).filter(function(e,t){return!s||t<=y}));return o.a.createElement("div",re({},u,{style:me.element}),o.a.createElement("h1",{style:oe({},me.label,u.style||{})},a),p?o.a.createElement("div",{style:me.placeholder},o.a.createElement(X.a,c)):d.length?o.a.createElement(G.a,{pageStart:0,hasMore:s&&y<d.length,loadMore:this.expand,loader:o.a.createElement(X.a,re({key:"spinner"},c)),style:me.grid},d.map(function(e,t){return o.a.createElement("div",{key:t,style:me.entity},o.a.createElement(i,{entity:e}))})):o.a.createElement("div",{style:me.placeholder},o.a.createElement($.a,l)))}}])&&ce(n.prototype,a),i&&ce(n,i),t}();function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pe(ye,"propTypes",{items:K.a.array,query:K.a.func,uri:K.a.array,params:K.a.object,transform:K.a.func,filter:K.a.func,label:K.a.string,child:K.a.func.isRequired,empty:K.a.object,limit:K.a.bool}),pe(ye,"defaultProps",{items:[],params:{},transform:function(e){return e.results},filter:function(){return!0},empty:{},limit:!1});var Oe,Se={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:u.a.colors.grey,border:"none",fontSize:"1.25em",padding:"0.75em 1em",margin:0,textAlign:"center",color:u.a.colors.secondary,fontFamily:"inherit"},state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none"},wrapper:{padding:"2em 0"}},Ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=be(t).call(this,e))||"object"!==de(o)&&"function"!=typeof o?ve(r):o).state={query:"",state:"all"},n.handleQueryChange=n.handleQueryChange.bind(ve(n)),n.handleStateChange=n.handleStateChange.bind(ve(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleStateChange",value:function(e){this.setState({state:{all:"wished",wished:"archived",archived:"all"}[e]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.state;he({},this.props);return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,o.a.createElement("title",null,"Sensorr - Collection")),o.a.createElement("div",null,o.a.createElement("div",{style:Se.filter},o.a.createElement("input",{type:"text",onKeyUp:this.handleQueryChange,style:Se.input,placeholder:"Filter..."}),o.a.createElement("i",{onClick:function(){return e.handleStateChange(a)},title:{all:"All",wished:"Wished",archived:"Archived"}[a],style:Se.state},{all:"üìö",wished:"üçø",archived:"üìº"}[a])),o.a.createElement("div",{style:Se.wrapper},o.a.createElement(ye,{limit:!0,query:function(e){return e.movies.find().where("state").ne("ignored")},filter:function(e){return("all"===a||e.state===a)&&[e.title,e.original_title].some(function(e){return new RegExp(n,"i").test(e)})},child:R.a}))))}}])&&ge(n.prototype,a),i&&ge(n,i),t}(),je=n(107),xe=n(370),ke=n.n(xe),Ce=n(162);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne={element:{position:"relative"},input:(Oe={width:"100%",backgroundColor:u.a.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},ze(Oe,"padding","0.75em 1em"),ze(Oe,"textAlign","center"),ze(Oe,"color",u.a.colors.secondary),ze(Oe,"fontFamily","inherit"),Oe),state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none"},container:{margin:"2em 0"}},Le=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=_e(t).call(this,e))||"object"!==Me(a)&&"function"!=typeof a?Te(r):a).input=o.a.createRef(),n.debounce=ke()(),n.handleKeyUp=n.handleKeyUp.bind(Te(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.input.current.focus()}},{key:"handleKeyUp",value:function(e){var t=this,n=this.props.match.params.query,r=e.target.value;n!==r&&this.debounce(function(){return t.props.history.push(t.props.match.path.replace(":query?",r))})}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.match,a=(Ie(e,["state","match"]),n.params.query||"");return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,o.a.createElement("title",null,"Sensorr - Search",a&&': "'.concat(a,'" (').concat({movie:"Movies",person:"Stars"}[t],")"))),o.a.createElement("div",{style:Ne.element},o.a.createElement("input",{ref:this.input,type:"text",defaultValue:a,onKeyUp:this.handleKeyUp,style:Ne.input,placeholder:"Search..."}),o.a.createElement("div",{style:Ne.container},a?o.a.createElement(ye,{label:a,child:{movie:R.a,person:function(e){return o.a.createElement(je.a,Pe({context:"portrait"},e))}}[t],uri:["search",t],params:{query:a,sort_by:"popularity.desc"}}):o.a.createElement($.a,{emoji:{movie:"üéûÔ∏è",person:"‚≠ê"}[t],title:"Are you looking for a ".concat({movie:"movie",person:"star"}[t]," ?"),subtitle:"Search ".concat({movie:'anything, like "Inception"',person:'anyone, like "Audrey Hepburn"'}[t])}))))}}])&&De(n.prototype,a),i&&De(n,i),t}(),Re=n(372),Ue=n(51),Fe=n.n(Ue);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Be(e,t,n[t])})}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Je(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){qe(a,r,o,i,l,"next",e)}function l(e){qe(a,r,o,i,l,"throw",e)}i(void 0)})}}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke={element:{flex:1,display:"flex",flexDirection:"column"},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},container:{position:"relative",flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(u.a.colors.shadows.black)},metadata:{position:"absolute",right:"2em",top:"2em",textAlign:"right"},badges:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"1em 0 0",userSelect:"none",MozUserSelect:"none"},badge:{cursor:"pointer",backgroundColor:u.a.colors.shadows.grey,borderRadius:"5em",padding:"1em",margin:"0.5em 0",fontWeight:800,color:u.a.colors.white,textTransform:"uppercase"},emoji:{margin:"0 0.75em 0 0"},informations:{width:"100%",display:"flex",alignItems:"start",padding:"5em 3em 2em 3em"},poster:{width:"15em",height:"23em",overflow:"hidden",margin:"0 3em",background:"".concat(u.a.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:u.a.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:u.a.colors.white},genres:{fontWeight:600,color:u.a.colors.white,padding:"1em 0 0 0"},tagline:{color:u.a.colors.white,fontWeight:600,padding:"2em 0 0 0"},biography:{maxWidth:"50em",lineHeight:"1.5em",color:u.a.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{width:"100%",fontSize:"0.75em"},row:{color:u.a.colors.white,cursor:"pointer"}},Xe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Qe(t).call(this,e))||"object"!==Ye(o)&&"function"!=typeof o?Ge(r):o).state={doc:!1,details:null,order:{cast:"vote_average",crew:"vote_average"},sort:{release_date:{emoji:"üìÜ",title:"Ordered by release date",apply:function(e,t){return new Date(t.release_date)-new Date(e.release_date)}},vote_average:{emoji:"üíØ",title:"Ordered by vote average",apply:function(e,t){return t.vote_average-500/t.vote_count-(e.vote_average-500/e.vote_count)}},popularity:{emoji:"üì£",title:"Ordered by popularity",apply:function(e,t){return t.popularity-e.popularity}}}},n.bootstrap=n.bootstrap.bind(Ge(n)),n.handleStateChange=n.handleStateChange.bind(Ge(n)),n.handleSortChange=n.handleSortChange.bind(Ge(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"bootstrap",value:function(){var e=Je(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.fetch(["person",this.props.match.params.id],{append_to_response:"images,movie_credits"});case 3:return t=e.sent,this.setState({details:t}),e.next=7,ee.a.get();case 7:return n=e.sent,e.next=10,n.stars.findOne().where("id").eq(t.id.toString()).exec();case 10:r=e.sent,this.setState({doc:r?r.toJSON():null}),setTimeout(function(){return document.getElementById("star").scrollIntoView()},100),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Ce.a.push("/");case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var e=Je(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.get();case 2:if(t=e.sent,n=this.state.details,!1!==this.state.doc){e.next=6;break}return e.abrupt("return");case 6:if(this.state.doc&&"ignored"!==this.state.doc.state){e.next=13;break}return e.next=9,t.stars.atomicUpsert(new Fe.a.Star(We({},n,{state:"stalked"})).normalize());case 9:r=e.sent,this.setState({doc:r.toJSON(),entity:n}),e.next=18;break;case 13:if("stalked"!==this.state.doc.state){e.next=18;break}return e.next=16,t.stars.atomicUpsert(new Fe.a.Star(We({},n,{state:"ignored"})).normalize());case 16:o=e.sent,this.setState({doc:o.toJSON(),entity:n});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSortChange",value:function(e){var t=Object.keys(this.state.sort);this.setState({order:We({},this.state.order,Be({},e,t[(t.indexOf(this.state.order[e])+1)%t.length]))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=(He(t,["match"]),this.state),i=a.doc,l=a.details,c=(a.loading,a.order),s=a.sort;He(a,["doc","details","loading","order","sort"]);return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,l?o.a.createElement("title",null,"Sensorr - ",l.name):o.a.createElement("title",null,"Sensorr - Star (",n.params.id,")")),o.a.createElement("div",{id:"star",style:Ke.element},l?o.a.createElement("div",{style:We({},Ke.container,l.images.profiles.length?{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat((l.images.profiles.sort(function(e,t){return e.width-t.width}).slice(-1).pop()||{}).file_path,")")}:{})},o.a.createElement("div",{style:Ke.metadata},o.a.createElement("div",{style:Ke.badges},!1===i&&o.a.createElement("div",{style:We({},Ke.badge,{cursor:"default"})},o.a.createElement("span",{style:Ke.emoji},"‚åõ"),"Loading"),(null===i||i&&"ignored"===i.state)&&o.a.createElement("div",{style:Ke.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:Ke.emoji},"üîï"),"Ignored"),i&&"stalked"===i.state&&o.a.createElement("div",{style:Ke.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:Ke.emoji},"üîî"),"Following"))),o.a.createElement("div",{style:Ke.informations},o.a.createElement("div",{style:Ke.poster},l.profile_path&&o.a.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(l.profile_path),height:"100%"})),o.a.createElement("div",{style:Ke.wrapper},o.a.createElement("h1",{style:Ke.title},l.name),o.a.createElement("h2",{style:Ke.subtitle},l.place_of_birthday," (",new Date(l.birthday).getFullYear(),")"),o.a.createElement("p",{style:Ke.biography},l.biography))),!!l.movie_credits.cast.length&&o.a.createElement("div",{style:Ke.credits},o.a.createElement(L.a,{label:"Casting - ".concat(s[c.cast].emoji),title:s[c.cast].title,onClick:function(){return e.handleSortChange("cast")},items:l.movie_credits.cast.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(s[c.cast].apply),child:R.a,style:Ke.row})),!!l.movie_credits.crew.length&&o.a.createElement("div",{style:Ke.credits},o.a.createElement(L.a,{label:"Crew - ".concat(s[c.crew].emoji),title:s[c.crew].title,onClick:function(){return e.handleSortChange("crew")},items:l.movie_credits.crew.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(s[c.crew].apply),child:R.a,style:Ke.row}))):o.a.createElement("div",{style:Ke.loading},o.a.createElement(X.a,null))))}}])&&Ve(n.prototype,a),i&&Ve(n,i),t}(),$e=n(153);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ot(e,t,n[t])})}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function it(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ft={wrapper:{padding:"0 0 2em 0"},controls:{position:"sticky",top:"-1px",display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"0.75em 2em",margin:"0 0 -4em 0",fontSize:"1em",zIndex:3},control:{display:"flex",cursor:"pointer",padding:"0.125em",userSelect:"none",MozUserSelect:"none"},label:{position:"sticky",top:"-1px",backgroundColor:u.a.colors.grey,padding:"0.5em 2em",fontSize:"2em",fontWeight:"bold",color:u.a.colors.secondary,textTransform:"capitalize"},year:{textAlign:"right",margin:"0 0 -2em 50%",padding:"0.5em 2.25em 0.5em 2em",zIndex:2},month:{zIndex:1,padding:"0.5em 2em 0.5em 1em"},grid:{padding:"1em 0"},movie:{position:"relative"},star:{position:"absolute",bottom:"-5em",fontSize:"0.375em"}},pt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ct(t).call(this,e))||"object"!==et(o)&&"function"!=typeof o?st(r):o).state={loading:!0,movies:[],year:(new Date).getFullYear(),month:0},n.loadPrevious=n.loadPrevious.bind(st(n)),n.loadNext=n.loadNext.bind(st(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,l,c,s,u,f,p,m,y,d,h,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.get();case 2:return t=e.sent,e.next=5,t.stars.find().where("state").ne("ignored").exec();case 5:n=e.sent,r={},o=!0,a=!1,i=void 0,e.prev=10,l=n[Symbol.iterator]();case 12:if(o=(c=l.next()).done){e.next=37;break}for(s=c.value,u=s.toJSON(),f=u.credits,p=at(u,["credits"]),m=!0,y=!1,d=void 0,e.prev=18,h=f[Symbol.iterator]();!(m=(g=h.next()).done);m=!0)(b=g.value).release_date&&b.poster_path&&(r[b.id]=rt({},r[b.id]||{},b,{release_date:new Date(b.release_date),stars:nt((r[b.id]||{}).stars||[]).concat([p])}));e.next=26;break;case 22:e.prev=22,e.t0=e.catch(18),y=!0,d=e.t0;case 26:e.prev=26,e.prev=27,m||null==h.return||h.return();case 29:if(e.prev=29,!y){e.next=32;break}throw d;case 32:return e.finish(29);case 33:return e.finish(26);case 34:o=!0,e.next=12;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(10),a=!0,i=e.t1;case 43:e.prev=43,e.prev=44,o||null==l.return||l.return();case 46:if(e.prev=46,!a){e.next=49;break}throw i;case 49:return e.finish(46);case 50:return e.finish(43);case 51:this.setState({loading:!1,movies:r});case 52:case"end":return e.stop()}},e,this,[[10,39,43,51],[18,22,26,34],[27,,29,33],[44,,46,50]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){it(a,r,o,i,l,"next",e)}function l(e){it(a,r,o,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"loadPrevious",value:function(){var e=this;document.querySelector("#wrapper").scrollIntoView(!0),setTimeout(function(){return e.setState(function(e){return{year:e.year-1,month:0}})},400)}},{key:"loadNext",value:function(){var e=this;document.querySelector("#wrapper").scrollIntoView(!0),setTimeout(function(){return e.setState(function(e){return{year:e.year+1,month:0}})},400)}},{key:"render",value:function(){var e=this,t=(tt({},this.props),this.state),n=t.loading,a=t.movies,i=t.year,l=t.month,c=(at(t,["loading","movies","year","month"]),{});return c.year=Object.values(a).filter(function(e){return e.release_date.getFullYear()===i}),c.month=Array(l+1).fill(!0).map(function(e,t){return c.year.filter(function(e){return e.release_date.getMonth()===t})}).filter(function(e){return e.length}),o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,{key:"helmet"},o.a.createElement("title",null,"Sensorr - Upcoming")),o.a.createElement("div",{style:ft.wrapper,key:"wrapper",id:"wrapper"},n?o.a.createElement(X.a,null):o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:ft.controls},o.a.createElement("a",{onClick:this.loadPrevious,style:rt({},ft.control,{visibility:i>=1900?"visible":"hidden"})},"üîº"),o.a.createElement("a",{onClick:this.loadNext,style:rt({},ft.control,{visibility:i<=(new Date).getFullYear()+8?"visible":"hidden"})},"üîΩ")),o.a.createElement(r.Fragment,{key:"".concat(i)},o.a.createElement("h1",{style:rt({},ft.label,ft.year,c.year.length?{}:{margin:"unset"}),key:"".concat(i,"-title")},i),c.year.length?o.a.createElement(G.a,{pageStart:0,hasMore:l<11,loadMore:function(){return e.setState({month:l+1})},loader:o.a.createElement(X.a,{key:"spinner"})},c.month.map(function(e,t){return o.a.createElement(r.Fragment,{key:"".concat(i,"-").concat(t)},o.a.createElement("h1",{style:rt({},ft.label,ft.month),key:"".concat(i,"-").concat(t,"-title")},new Date(i,t).toLocaleString("en-US",{month:"long"})),o.a.createElement("div",{style:ft.grid,key:"".concat(i,"-").concat(t,"-grid")},o.a.createElement(ye,{items:e,child:function(e){var t=e.entity,n=t.stars,r=at(t,["stars"]),a=at(e,["entity"]);return o.a.createElement("div",{style:ft.movie,key:r.id},o.a.createElement(R.a,tt({entity:r},a)),n.filter(function(e,t,n){return n.map(function(e){return e.id}).indexOf(e.id)===t}).filter(function(e,t){return t<4}).map(function(e,t){return o.a.createElement(je.a,{style:rt({},ft.star,{right:"".concat(6*t,"em")}),entity:e,context:"avatar",key:e.id})}))}})))})):o.a.createElement($.a,{emoji:"üë©‚Äçüé§",title:"Sorry, no upcoming movies this year",subtitle:o.a.createElement("span",null,"Try to ",o.a.createElement($e.a,{to:"/stars/search/",style:ft.link},"follow")," more stars !")})))))}}])&&lt(n.prototype,a),i&&lt(n,i),t}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:u.a.colors.grey,border:"none",fontSize:"1.25em",padding:"0.75em 1em",margin:0,textAlign:"center",color:u.a.colors.secondary,fontFamily:"inherit"},wrapper:{padding:"2em 0"},link:{color:u.a.colors.primary}},Ot=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gt(t).call(this,e))||"object"!==mt(o)&&"function"!=typeof o?bt(r):o).state={query:""},n.handleQueryChange=n.handleQueryChange.bind(bt(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"render",value:function(){var e=this.state.query;dt({},this.props);return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,o.a.createElement("title",null,"Sensorr - Following")),o.a.createElement("div",null,o.a.createElement("div",{style:wt.filter},o.a.createElement("input",{type:"text",onKeyUp:this.handleQueryChange,style:wt.input,placeholder:"Filter..."})),o.a.createElement("div",{style:wt.wrapper},o.a.createElement(ye,{limit:!0,query:function(e){return e.stars.find().where("state").ne("ignored")},filter:function(t){return[t.name].concat(yt(t.also_known_as||[])).some(function(t){return new RegExp(e,"i").test(t)})},child:function(e){return o.a.createElement(je.a,dt({context:"portrait"},e))},empty:{emoji:"üë©‚Äçüé§",title:"Oh no, you are not following anyone",subtitle:o.a.createElement("span",null,"You should try to ",o.a.createElement($e.a,{to:"/stars/search/",style:wt.link},"search")," for stars and start following them !")}}))))}}])&&ht(n.prototype,a),i&&ht(n,i),t}(),St=n(376),Et=n(378);function jt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xt=n.n(Et)()({createElement:o.a.createElement,elements:{p:function(e){var t=e.children,n=(e.context,jt(e,["children","context"]));return o.a.createElement("span",n,t)},codespan:function(e){var t=e.children,n=jt(e,["children"]);return o.a.createElement("code",n,t)},ul:function(e){var t=e.children;jt(e,["children"]);return t},li:function(e){var t=e.children;jt(e,["children"]);return o.a.createElement("span",null,"- ",t)}}});n(671);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dt(e,t,n[t])})}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Tt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){_t(a,r,o,i,l,"next",e)}function l(e){_t(a,r,o,i,l,"throw",e)}i(void 0)})}}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt={element:{padding:"1em"},summary:{display:"flex",overflowX:"auto",padding:"1em 0 1em 1em"},digest:{display:"flex",margin:"1em",border:"none",fontSize:"1em",lineHeight:"1em",cursor:"pointer"},catch:{flex:1,padding:"0 0 0 2em",textAlign:"center",lineHeight:"1.4em",fontSize:"0.75em",fontFamily:u.a.fonts.monospace},bar:{zIndex:1,position:"sticky",display:"flex",justifyContent:"space-between",top:"-1px",width:"100%",backgroundColor:u.a.colors.grey,fontFamily:u.a.fonts.monospace,fontSize:"1.25em",padding:"0.75em 1em",textAlign:"center",color:u.a.colors.secondary},small:{opacity:.5,fontSize:"0.75em",margin:"0 0.75em"},navigator:{cursor:"pointer",margin:"0 0.125em",userSelect:"none",MozUserSelect:"none"},loading:{display:"flex",alignItems:"center",height:"90vh"},record:{display:"flex",padding:"1em"},film:{flexShrink:0},scroller:{flexGrow:1,overflowX:"auto",padding:"0.5em 0 1em",margin:"0 1em",fontFamily:u.a.fonts.monospace,fontSize:"0.75em",lineHeight:"1.75em"},title:{fontWeight:"bold",margin:"0 0 0.5em 0.25em"},wrapper:{display:"flex"},container:{flex:1,display:"inline-flex",flexDirection:"column",whiteSpace:"nowrap"},text:{cursor:"pointer",padding:"0 2em 0 1em"},focus:{flex:1,whiteSpace:"pre",backgroundColor:u.a.colors.grey,borderRadius:"0.5em",margin:"1em",padding:"1em 2em"}},Ut=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zt(t).call(this,e))||"object"!==kt(o)&&"function"!=typeof o?Nt(r):o).subscriptions={},n.filters={all:function(){return!0},success:function(e){return e.success},filtered:function(e){return!e.success&&e.logs.some(function(e){return e.message.match(/Release doesn't pass configured filtering/)})},missing:function(e){return!e.success&&!e.logs.some(function(e){return e.message.match(/Release doesn't pass configured filtering/)})}},n.state={loading:!0,sessions:[],session:null,records:[],filter:n.filters.all,focus:null,max:5},n.move=n.move.bind(Nt(n)),n.expand=n.expand.bind(Nt(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Tt(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.get();case 2:t=e.sent,n=t.sessions.find(),r=n.$.subscribe(function(e){return o.setState(function(t){return It({loading:!1,sessions:e},{session:e.length?null===t.session?e.length-1:t.session:null})})}),this.subscriptions.sessions=r;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Tt(regeneratorRuntime.mark(function e(t,n){var r,o,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.state.session||n.session===this.state.session){e.next=9;break}return this.setState({loading:!0,records:[],max:5}),e.next=4,ee.a.get();case 4:r=e.sent,o=r.records.find().where("session").eq(this.state.sessions.sort(function(e,t){return e.time-t.time})[this.state.session].uuid),a=o.$.subscribe(function(e){return i.setState({loading:!1,records:Object.values(e.map(function(e){return e.toJSON()}).reduce(function(e,t){return It({},e,Dt({},t.record,It({},e[t.record]||{},{time:t.time},void 0!==(t.data||{}).success?{success:t.data.success}:{},void 0!==(t.data||{}).movie?{movie:t.data.movie}:{},{logs:Pt((e[t.record]||{logs:[]}).logs).concat([t]).sort(function(e,t){return e.time-t.time})})))},{})).sort(function(e,t){return t.time-e.time})})}),this.subscriptions.records&&this.subscriptions.records.unsubscribe(),this.subscriptions.records=a;case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subscriptions.sessions&&this.subscriptions.sessions.unsubscribe(),this.subscriptions.records&&this.subscriptions.records.unsubscribe()}},{key:"move",value:function(e){this.setState({session:e})}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+5}})}},{key:"render",value:function(){var e=this,t=(Mt({},this.props),this.state),n=t.loading,a=t.sessions,i=t.session,l=t.records,c=t.filter,s=t.focus,u=t.max,f=(Ct(t,["loading","sessions","session","records","filter","focus","max"]),l.filter(c).filter(function(e,t){return t<=u}));return o.a.createElement(r.Fragment,null,o.a.createElement(N.Helmet,null,o.a.createElement("title",null,"Sensorr - History")),a.length>0&&o.a.createElement("div",{style:Rt.bar},o.a.createElement("span",{style:i>0?{}:{visibility:"hidden"}},o.a.createElement("a",{onClick:function(){return i>0&&e.move(0)},style:Rt.navigator},"‚è™"),o.a.createElement("a",{onClick:function(){return i>0&&e.move(i-1)},style:Rt.navigator},"‚¨ÖÔ∏è")),o.a.createElement("div",null,o.a.createElement("span",null,new Date(a[i].time).toLocaleString()),o.a.createElement("span",{style:Rt.small},"#",a[i].uuid.split("-").pop())),o.a.createElement("span",{style:i<a.length-1?{}:{visibility:"hidden"}},o.a.createElement("a",{onClick:function(){return i<a.length-1&&e.move(i+1)},style:Rt.navigator},"‚û°Ô∏è"),o.a.createElement("a",{onClick:function(){return i<a.length-1&&e.move(a.length-1)},style:Rt.navigator},"‚è©"))),l.length>0&&o.a.createElement("div",{style:Rt.summary},o.a.createElement("button",{style:It({},Rt.focus,Rt.digest),onClick:function(){return e.setState({filter:e.filters.all})}},o.a.createElement("span",null,"üçø"),o.a.createElement("span",{style:Rt.catch},xt("Searching for **".concat(l.length,"** movies")).tree)),o.a.createElement("button",{style:It({},Rt.focus,Rt.digest),onClick:function(){return e.setState({filter:e.filters.success})}},o.a.createElement("span",null,"üìº"),o.a.createElement("span",{style:Rt.catch},l.filter(function(e){return e.success>0}).length>0?xt("Amazing ! **".concat(l.filter(function(e){return e.success}).length,"** movies were archived !")).tree:xt("Oops... No movies were archived").tree)),!!l.filter(this.filters.missing).length&&o.a.createElement("button",{style:It({},Rt.focus,Rt.digest),onClick:function(){return e.setState({filter:e.filters.missing})}},o.a.createElement("span",null,"üì≠"),o.a.createElement("span",{style:Rt.catch},xt("Sorry, **".concat(l.filter(this.filters.missing).length,"** movies still missing")).tree)),!!l.filter(this.filters.filtered).length&&o.a.createElement("button",{style:It({},Rt.focus,Rt.digest),onClick:function(){return e.setState({filter:e.filters.filtered})}},o.a.createElement("span",null,"üíé"),o.a.createElement("span",{style:Rt.catch},xt("But if you lower your filter you could get **".concat(l.filter(this.filters.filtered).length,"** more movies !")).tree)),o.a.createElement("div",{style:{flex:"0 0 1em"}})),o.a.createElement("div",{style:Rt.element},n?o.a.createElement("div",{style:Rt.loading},o.a.createElement(X.a,null)):!f.length&&o.a.createElement($.a,null),o.a.createElement(G.a,{pageStart:0,hasMore:u<f.length,loadMore:this.expand,loader:o.a.createElement(X.a,{key:"spinner"})},f.map(function(t){return o.a.createElement("div",{style:Rt.record,key:t.time},t.movie&&o.a.createElement("div",{style:Rt.film},o.a.createElement(R.a,{entity:t.movie})),o.a.createElement("div",{style:Rt.scroller},o.a.createElement("h4",{style:Rt.title},"# ",new Date(t.time).toLocaleString()),t.logs.map(function(n,r){return o.a.createElement("div",{style:Rt.wrapper,key:"".concat(t.time,"-").concat(r)},o.a.createElement("div",{style:Rt.container},o.a.createElement("p",{style:Rt.text,onClick:function(){return e.setState({focus:s==="".concat(t.time,"-").concat(r)?null:"".concat(t.time,"-").concat(r)})}},xt(n.message).tree),s==="".concat(t.time,"-").concat(r)&&o.a.createElement("div",{style:Rt.focus},JSON.stringify(n,null,2))),o.a.createElement("br",null))})))}))))}}])&&At(n.prototype,a),i&&At(n,i),t}(),Ft=Object(l.withToastManager)(Ut);function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ht={element:{display:"flex",flexDirection:"column",minHeight:"100vh"}},Wt=n(92),Bt=n(159),qt=n(123);function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qt(e,t,n[t])})}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Zt=Wt.a.create({shrink:{animationName:{from:{height:"100%"},to:{height:"0%"}}}}),Kt={container:{position:"fixed",bottom:0,left:0,boxSizing:"border-box",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",padding:"0 1em",zIndex:10},toast:{width:"50vw",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.175)",display:"flex",marginBottom:"1em"},appearances:{success:{icon:qt.CheckIcon,text:"hsl(154, 100%, 30%)",fg:"hsl(154, 99%, 40%)",bg:"hsl(154, 100%, 99%)"},error:{icon:qt.FlameIcon,text:"hsl(12, 100%, 40%)",fg:"hsl(12, 99%, 60%)",bg:"hsl(12, 100%, 99%)"},warning:{icon:qt.AlertIcon,text:"hsl(33, 100%, 50%)",fg:"hsl(40, 100%, 50%)",bg:"hsl(48, 100%, 99%)"},info:{icon:qt.InfoIcon,text:"hsl(218, 20%, 40%)",fg:"hsl(218, 100%, 60%)",bg:"white"}},text:{position:"absolute"},button:{cursor:"pointer",flexShrink:0,opacity:.5,padding:"0.5em",transition:"opacity 150ms"},content:{flexGrow:1,fontSize:"0.825em",lineHeight:1.4,padding:"0.5em 0.75em"},icon:{flexShrink:0,padding:"0.5em",position:"relative",overflow:"hidden",textAlign:"center"},timeout:{backgroundColor:"rgba(0, 0, 0, 0.1)",bottom:0,height:0,left:0,position:"absolute",width:"100%"},svg:{position:"relative",zIndex:1}},Xt=n(122),$t=n(714),en=n(715),tn=n(309),nn=n(27),rn=n(379),on=n.n(rn)()("".concat(location.protocol,"//").concat(location.host),{transports:["websocket"]});on.on("reconnect_attempt",function(){return on.io.opts.transports=["polling","websocket"]}),on.emit("ready");var an=on;function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn={},sn=function(e){return{type:"sensorr/status/AMEND_STATUS",status:e}},un=Object($t.a)(function(e){return Object(tn.a)(an,"status").pipe(Object(nn.a)(function(e){var t=e.status;return sn(t)}))});var fn=Object(Xt.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"sensorr/status/AMEND_STATUS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ln(e,t,n[t])})}return e}({},e,t.status);default:return e}}}),pn=Object($t.a)(un),mn=Object(en.a)(),yn=(0,Xt.d)(Object(Xt.a)(mn)),dn=Object(Xt.e)(fn,yn);mn.run(pn);var hn=dn;n(694),n(697),n(702),n(707);Object(a.render)(o.a.createElement(i.a,{store:hn},o.a.createElement(l.ToastProvider,{components:{Toast:function(e){var t=e.appearance,n=e.autoDismiss,r=e.autoDismissTimeout,a=e.children,i=(e.onExited,e.onDismiss),l=(e.placement,e.transitionDuration),c=e.transitionState;return o.a.createElement("div",{style:Vt({},Kt.toast,{backgroundColor:Kt.appearances[t].bg,color:Kt.appearances[t].text,transition:"transform ".concat(l,"ms cubic-bezier(0.2, 0, 0, 1)")},{entering:{transform:"translate3d(-120%, 0, 0)"},entered:{transform:"translate3d(0, 0, 0)"},exiting:{transform:"translate3d(-120%, 0, 0)"},exited:{transform:"translate3d(-120%, 0, 0)"}}[c])},o.a.createElement("div",{style:Vt({},Kt.icon,{backgroundColor:Kt.appearances[t].fg,color:Kt.appearances[t].bg})},o.a.createElement("div",{className:Object(Wt.b)(Zt.shrink),style:Vt({},Kt.timeout,{animationTimingFunction:"linear",animationDuration:"".concat(r,"ms"),opacity:n?1:0})}),o.a.createElement(Kt.appearances[t].icon,{style:Kt.svg,fill:Kt.appearances[t].bg})),o.a.createElement("div",{style:Kt.content},a),i?o.a.createElement("div",{onClick:i,role:"button",style:Kt.button},o.a.createElement(qt.CloseIcon,null)):null)},ToastContainer:function(e){var t=e.children,n=(e.autoDismissTimeout,e.transitionDuration,Gt(e,["children","autoDismissTimeout","transitionDuration"]));return o.a.createElement("div",Jt({},n,{style:Vt({},Kt.container,{pointerEvents:r.Children.count(t)?"auto":"none"},n.style||{})}),o.a.createElement(Bt.TransitionGroup,{component:null},t))}}},o.a.createElement(c.a,null,o.a.createElement(function(e){Yt({},e);return o.a.createElement("div",{style:Ht.element},o.a.createElement(O,null),o.a.createElement(z,null),o.a.createElement(s.a,{path:"/",exact:!0,component:V}),o.a.createElement(s.a,{path:"/movies/collection",exact:!0,component:Ee}),o.a.createElement(s.a,{path:"/movies/search/:query?",exact:!0,component:function(e){return o.a.createElement(Le,Yt({state:"movie"},e))}}),o.a.createElement(s.a,{path:"/stars/upcoming",exact:!0,component:pt}),o.a.createElement(s.a,{path:"/stars/following",exact:!0,component:Ot}),o.a.createElement(s.a,{path:"/stars/search/:query?",exact:!0,component:function(e){return o.a.createElement(Le,Yt({state:"person"},e))}}),o.a.createElement(s.a,{path:"/movie/:id",exact:!0,component:Re.a}),o.a.createElement(s.a,{path:"/star/:id",exact:!0,component:Xe}),o.a.createElement(s.a,{path:"/configure",exact:!0,component:St.a}),o.a.createElement(s.a,{path:"/logs",exact:!0,component:Ft}))},null)))),document.querySelector("#mount"))},79:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(0),o=n.n(r),a=n(7),i=n.n(a),l=n(70),c=n(48),s=n(55);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={element:{padding:"2em 0"},label:{padding:"0 2em",fontSize:"2em",fontWeight:"bold",color:n(4).a.colors.black},row:{left:0,display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"hidden"},entity:{flex:"0 0 auto"}},O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,g(t).call(this,e))).state={entities:[],loading:!1},n.reference=o.a.createRef(),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.props.uri&&(this.setState({loading:!0}),s.a.fetch(this.props.uri,this.props.params).then(function(t){return e.setState({loading:!1,entities:e.props.transform(t)||[]})}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.uri&&(this.props.uri.join("/")!==e.uri.join("/")||JSON.stringify(this.props.params)!==JSON.stringify(e.params)?(this.setState({loading:!0}),s.a.fetch(this.props.uri,this.props.params).then(function(e){t.setState({loading:!1,entities:t.props.transform(e)}),t.reference.current.scroll(0,0)})):this.reference.current.scroll(0,0))}},{key:"valid",value:function(e){return e.poster_path||e.profile_path}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=(t.uri,t.params,t.child),a=(t.transform,t.label),i=t.space,s=t.empty,u=y(t,["items","uri","params","child","transform","label","space","empty"]),d=this.state,h=d.entities,g=d.loading,b=(y(d,["entities","loading"]),m(n).concat(m(h)).filter(function(t){return e.valid(t)}));return o.a.createElement("div",{style:w.element},o.a.createElement("h1",f({},u,{style:p({},w.label,u.style||{})}),a),o.a.createElement("div",{style:w.row,ref:this.reference},g&&o.a.createElement(c.a,null),!g&&!b.length&&o.a.createElement(l.a,{style:s}),b.map(function(e,t){return o.a.createElement("div",{key:t,style:p({},w.entity,{padding:"".concat(i,"em")})},o.a.createElement(r,{entity:e}))})))}}])&&d(n.prototype,a),i&&d(n,i),t}();v(O,"propTypes",{items:i.a.array,child:i.a.func.isRequired,uri:i.a.array,params:i.a.object,transform:i.a.func,label:i.a.string,space:i.a.number,empty:i.a.object}),v(O,"defaultProps",{items:[],params:{},transform:function(e){return e.results},space:2,empty:{}})}});