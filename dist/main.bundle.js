!function(e){function t(t){for(var r,i,l=t[0],u=t[1],c=t[2],f=0,d=[];f<l.length;f++)i=l[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=u;a.push([393,1]),n()}({102:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=n(90),i=n(128),l=h(n(735)),u=h(n(743)),c=h(n(744)),s=h(n(745)),f=h(n(746)),d=h(n(747)),p=h(n(750)),y=h(n(166)),m=h(n(44));function h(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E={element:{display:"flex",flexDirection:"column",padding:"2em 2em 3em"},column:{display:"flex"},section:{padding:"1em",display:"flex",flexDirection:"column"},title:{padding:"0 0 0.5em",fontSize:"2em",fontWeight:"bold",color:m.default.colors.black},subtitle:{padding:"0 0 0.25em",fontSize:"1.5em",fontWeight:"bold",color:m.default.colors.black},paragraph:{lineHeight:1.75,color:m.default.colors.black},list:{lineHeight:1.75,listStyle:"inside"},link:{color:m.default.colors.primary},select:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",borderRadius:0,border:"0.0625em solid ".concat(m.default.colors.gray),WebkitAppearance:"none",background:m.default.colors.white},input:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",whiteSpace:"nowrap",borderRadius:0,border:"0.0625em solid ".concat(m.default.colors.gray)},checkbox:{padding:"0.5em"},code:{backgroundColor:m.default.colors.primary,padding:"0.125em 0.375em",borderRadius:"0.25em",fontFamily:m.default.fonts.secondary,fontSize:"0.875em",fontWeight:600,color:m.default.colors.white},button:{cursor:"pointer",backgroundColor:m.default.colors.primary,color:m.default.colors.white,padding:"1em 1.25em 0.75em",border:"none",fontFamily:m.default.fonts.primary,fontSize:"1.125em",fontWeight:"bold",textTransform:"uppercase",whiteSpace:"nowrap"},remove:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"0 0 0 1em"},add:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"1em"}};t.styles=E;var x=function(t){function n(t){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(r=!(a=w(n).call(this,t))||"object"!==b(a)&&"function"!=typeof a?j(o):a).state={values:g({},y.default.config,{region:e.config.region||localStorage.getItem("region")||window.navigator.languages.filter(function(e){return e.match(/-/)}).reverse().pop()||"en-US"})},r.handleSubmit=r.handleSubmit.bind(j(r)),r.handleChange=r.handleChange.bind(j(r)),r}var i,m,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,o.PureComponent),i=n,(m=[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.toastManager,n=g({},this.state.values,{xznabs:this.state.values.xznabs.filter(function(e){return e.name&&e.url&&e.key})});fetch("/api/configure",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(y.default.config.auth.username,":").concat(y.default.config.auth.password)).toString("base64"))}),body:JSON.stringify({config:n})}).then(function(e){try{e.json().then(function(n){e.ok?(t.add(o.default.createElement("span",null,"Configuration updated ! Reloading page..."),{appearance:"success",autoDismiss:!0}),setTimeout(function(){return location.reload()},5e3)):t.add(o.default.createElement("span",null,"Something went wrong during configuration update : ",o.default.createElement("strong",null,n.reason)),{appearance:"error",autoDismiss:!0})})}catch(n){t.add(o.default.createElement("span",null,"Unexpected error during configuration update : ",o.default.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"handleChange",value:function(e,t){this.setState({values:g({},this.state.values,v({},e,t))})}},{key:"render",value:function(){var e=this.state.values;return o.default.createElement(o.Fragment,null,o.default.createElement(a.Helmet,null,o.default.createElement("title",null,"Sensorr - Configure")),o.default.createElement("form",{style:E.element,onSubmit:this.handleSubmit},o.default.createElement(l.default,{values:e,handleChange:this.handleChange}),o.default.createElement(u.default,{values:e,handleChange:this.handleChange}),o.default.createElement(c.default,{values:e,handleChange:this.handleChange}),o.default.createElement(p.default,{values:e,handleChange:this.handleChange}),o.default.createElement(s.default,{values:e,handleChange:this.handleChange}),o.default.createElement(f.default,{values:e,handleChange:this.handleChange}),o.default.createElement(d.default,{values:e,handleChange:this.handleChange}),o.default.createElement("button",{type:"submit",style:g({},E.button,{marginTop:"1em"})},"💾  Save")))}}])&&O(i.prototype,m),h&&O(i,h),n}(),k=(0,i.withToastManager)(x);t.default=k}).call(this,n(27),n(72).Buffer)},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={element:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"4em",color:a(n(44)).default.colors.secondary},emoji:{fontSize:"5em",margin:0},title:{padding:"1em 0",margin:0,fontWeight:800,textTransform:"uppercase"},subtitle:{padding:0,margin:0}},s=function(e){var t=e.style,n=e.emoji,o=e.title,a=e.subtitle;u(e,["style","emoji","title","subtitle"]);return r.default.createElement("div",{style:i({},c.element,t)},r.default.createElement("h1",{style:c.emoji},n),r.default.createElement("h2",{style:c.title},o),r.default.createElement("p",{style:c.subtitle},a))};s.propTypes={emoji:o.default.string,title:o.default.node,subtitle:o.default.node},s.defaultProps={emoji:"👻",title:"Bouhouuu ! I'm the scary empty ghost !",subtitle:"Sorry, no results."};var f=s;t.default=f},112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r};function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={element:{width:"40px",height:"40px",position:"relative",margin:"100px auto"},circle:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"#333",opacity:.6,position:"absolute",top:0,left:0,animation:"bounce 2.0s infinite ease-in-out"},second:{animationDelay:"-1.0s"}};t.default=function(e){l({},e);return o.default.createElement("div",{style:u.element},o.default.createElement("div",{style:u.circle}),o.default.createElement("div",{style:a({},u.circle,u.second)}))}},113:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(21)),a=n(103),i=s(n(130)),l=s(n(114)),u=n(167),c=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={element:{position:"relative",overflow:"hidden",height:"15em",width:"10em",background:"".concat(c.default.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},state:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",right:"0.5em",top:"0.5em",backgroundColor:c.default.colors.shadows.grey,borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},link:{display:"block"},poster:{cursor:"pointer",maxHeight:"100%",maxWidth:"100%"}},j=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=b(n).call(this,e))||"object"!==f(o)&&"function"!=typeof o?g(r):o).state={doc:!1,ready:!1},t.bootstrap=t.bootstrap.bind(g(t)),t.handleStateChange=t.handleStateChange.bind(g(t)),t}var o,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,r.PureComponent),o=n,(c=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id!==this.props.entity.id&&(this.subscription&&this.subscription.unsubscribe(),this.bootstrap())}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"bootstrap",value:function(){var e=m(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,l.default.get();case 4:return t=e.sent,n=t.movies.findOne().where("id").eq(this.props.entity.id.toString()),e.next=8,n.exec();case 8:r=e.sent,this.setState({doc:r?r.toJSON():null}),this.subscription=n.$.subscribe(function(e){return o.setState({doc:e?e.toJSON():null})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var t=m(regeneratorRuntime.mark(function t(){var n,r,o,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get();case 2:if(n=t.sent,(r=this.props.entity).alternative_titles&&r.release_dates){t.next=8;break}return t.next=7,i.default.fetch(["movie",r.id],{append_to_response:"alternative_titles,release_dates"});case 7:r=t.sent;case 8:if(!1!==this.state.doc){t.next=10;break}return t.abrupt("return");case 10:if(this.state.doc&&"ignored"!==this.state.doc.state){t.next=17;break}return t.next=13,n.movies.atomicUpsert(new u.Movie(p({},r,{state:"wished"}),e.config.region||localStorage.getItem("region")).normalize());case 13:o=t.sent,this.setState({doc:o.toJSON(),entity:r}),t.next=29;break;case 17:if("wished"!==this.state.doc.state){t.next=24;break}return t.next=20,n.movies.atomicUpsert(new u.Movie(p({},r,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize());case 20:a=t.sent,this.setState({doc:a.toJSON(),entity:r}),t.next=29;break;case 24:if("archived"!==this.state.doc.state){t.next=29;break}return t.next=27,n.movies.atomicUpsert(new u.Movie(p({},r,{state:"ignored"}),e.config.region||localStorage.getItem("region")).normalize());case 27:c=t.sent,this.setState({doc:c.toJSON(),entity:r});case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.entity,o=(d(t,["entity"]),this.state),i=o.doc,l=o.ready;d(o,["doc","ready"]);return r.default.createElement("div",{title:"".concat(n.title).concat((n.year||n.release_date)&&" (".concat(n.year||new Date(n.release_date).getFullYear(),")")),style:p({},w.element,{background:l?"none":w.element.background})},r.default.createElement("span",{style:p({},w.state,{cursor:!1===i?"default":"pointer"}),onClick:this.handleStateChange},!1===i&&"⌛",(null===i||i&&"ignored"===i.state)&&"🔕",i&&"wished"===i.state&&"🍿",i&&"archived"===i.state&&"📼"),r.default.createElement(a.Link,{to:"/movie/".concat(n.id),style:w.link},r.default.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.poster_path),onLoad:function(){return e.setState({ready:!0})},style:w.poster})))}}])&&h(o.prototype,c),s&&h(o,s),n}();t.default=j,O(j,"propTypes",{entity:o.default.object.isRequired})}).call(this,n(27))},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(687)),o=a(n(166));function a(e){return e&&e.__esModule?e:{default:e}}var i=new r.default({sync:"".concat(location.protocol,"//").concat(o.default.config.auth.username,":").concat(o.default.config.auth.password,"@").concat(location.host,"/db")});t.default=i},130:function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=new(((r=n(342))&&r.__esModule?r:{default:r}).default)({key:e.config.tmdb,region:e.config.region||localStorage.getItem("region")||"en-US"});t.default=o}).call(this,n(27))},166:function(e,t,n){"use strict";(function(e,r){var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new(((o=n(666))&&o.__esModule?o:{default:o}).default)(e.config,{proxify:!0,headers:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},(e.config||{auth:{}}).auth.username?{Authorization:"Basic ".concat(new r("".concat(e.config.auth.username,":").concat(e.config.auth.password)).toString("base64"))}:{})});t.default=i}).call(this,n(27),n(72).Buffer)},167:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var l=n(242).clean,u=function(){function e(t,n){o(this,e),this.payload=t,this.countries=["US","UK",n.split("-").pop()]}return i(e,[{key:"normalize",value:function(){var e=this;return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,title:this.payload.title,original_title:this.payload.original_title,year:this.payload.year?this.payload.year:(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear(),poster_path:this.payload.poster_path,state:this.payload.state||"wished",time:Date.now(),terms:{titles:r(new Set([this.payload.title,this.payload.original_title].concat(this.payload.titles?this.payload.titles:(this.payload.alternative_titles.titles||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).map(function(e){return e.title})).map(function(e){return l(e)}).filter(function(e){return e}))).filter(function(e,t,n){return!n.some(function(t){return t!==e&&new RegExp("^".concat(t)).test(e)})}),years:r(new Set(this.payload.years?this.payload.years:(this.payload.release_dates.results||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).reduce(function(e,t){return[].concat(r(e),r(t.release_dates.map(function(e){return new Date(e.release_date).getFullYear()})))},[(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear()])))}}}}]),e}(),c=function(){function e(t){o(this,e),this.payload=t}return i(e,[{key:"normalize",value:function(){return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,name:this.payload.name,also_known_as:this.payload.also_known_as||[],birthday:this.payload.birthday||"",popularity:this.payload.popularity,profile_path:this.payload.profile_path||"",state:this.payload.state||"stalked",time:Date.now(),credits:Array.isArray(this.payload.credits)?this.payload.credits:[].concat(r((this.payload.credits||{cast:[]}).cast),r((this.payload.credits||{crew:[]}).crew),r((this.payload.movie_credits||{cast:[]}).cast),r((this.payload.movie_credits||{crew:[]}).crew))}}}]),e}();e.exports={Movie:u,Star:c}},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(244)),a=s(n(21)),i=s(n(112)),l=s(n(111)),u=s(n(114)),c=s(n(130));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={placeholder:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},label:{padding:"0 2em",margin:0,fontSize:"2em",fontWeight:"bold",color:s(n(44)).default.colors.black},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 10em)",gridGap:"2rem",justifyContent:"space-between",padding:"2em"},entity:{width:"10em",height:"16em"}},S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?v(r):o).state={loading:!1,entities:[],buffer:[],max:20},n.expand=n.expand.bind(v(n)),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.query){e.next=13;break}return this.setState({loading:!0}),e.next=4,u.default.get();case 4:return t=e.sent,n=this.props.query(t),e.next=8,n.exec();case 8:r=e.sent,this.subscription=n.$.subscribe(function(e){return o.setState({buffer:e.map(function(e){return e.toJSON()})})}),this.setState({loading:!1,entities:r.map(function(e){return e.toJSON()})}),e.next=14;break;case 13:this.props.uri&&(this.setState({loading:!0}),c.default.fetch(this.props.uri,this.props.params).then(function(e){return o.setState({loading:!1,entities:o.props.transform(e)||[]})}));case 14:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.query?this.state.buffer.length&&e.filter!==this.props.filter&&this.setState({entities:this.state.buffer,buffer:[]}):this.props.uri&&(this.props.uri.join("/")===e.uri.join("/")&&JSON.stringify(this.props.params)===JSON.stringify(e.params)||(this.setState({loading:!0}),c.default.fetch(this.props.uri,this.props.params).then(function(e){return n.setState({loading:!1,entities:n.props.transform(e)})})))}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"validate",value:function(e){return e.poster_path||e.profile_path}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+20}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=(t.query,t.uri,t.params,t.transform,t.filter),u=t.label,c=t.child,s=t.empty,f=t.spinner,h=t.limit,b=m(t,["items","query","uri","params","transform","filter","label","child","empty","spinner","limit"]),g=this.state,v=g.loading,O=g.entities,w=g.max,S=(m(g,["loading","entities","max"]),[].concat(y(O),y(n)).sort(function(e,t){return(t.time||0)-(e.time||0)}).filter(function(t){return e.validate(t)}).filter(a).filter(function(e,t){return!h||t<=w}));return r.default.createElement("div",d({},b,{style:j.element}),r.default.createElement("h1",{style:p({},j.label,b.style||{})},u),v?r.default.createElement("div",{style:j.placeholder},r.default.createElement(i.default,f)):S.length?r.default.createElement(o.default,{pageStart:0,hasMore:h&&w<S.length,loadMore:this.expand,loader:r.default.createElement(i.default,d({key:"spinner"},f)),style:j.grid},S.map(function(e,t){return r.default.createElement("div",{key:t,style:j.entity},r.default.createElement(c,{entity:e}))})):r.default.createElement("div",{style:j.placeholder},r.default.createElement(l.default,s)))}}])&&b(n.prototype,a),s&&b(n,s),t}();t.default=S,w(S,"propTypes",{items:a.default.array,query:a.default.func,uri:a.default.array,params:a.default.object,transform:a.default.func,filter:a.default.func,label:a.default.string,child:a.default.func.isRequired,empty:a.default.object,spinner:a.default.object,limit:a.default.bool}),w(S,"defaultProps",{items:[],params:{},transform:function(e){return e.results},filter:function(){return!0},empty:{},spinner:{},limit:!1})},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(21)),a=n(103),i=n(167),l=s(n(114)),u=s(n(130)),c=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function m(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,l,"next",e)}function l(e){m(a,r,o,i,l,"throw",e)}i(void 0)})}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={container:{display:"flex",justifyContent:"center"},wrapper:{position:"relative"},link:{textDecoration:"none"},element:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},state:{position:"absolute",backgroundColor:c.default.colors.shadows.grey,userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},poster:{height:"14em",width:"10em",overflow:"hidden"},img:{width:"100%"},tooltip:{backgroundColor:c.default.colors.shadows.black,borderRadius:"0.25em",color:c.default.colors.white,textAlign:"center",whiteSpace:"nowrap",padding:"0.25em 0.5em",margin:0}},S={portrait:{container:{flexDirection:"column"},wrapper:{},element:{},poster:{},state:{display:"flex",justifyContent:"center",alignItems:"center",right:"0.75em",top:"0.75em",borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em"},tooltip:{margin:"0.5em 0",width:"100%",overflow:"hidden",textOverflow:"ellipsis"}},avatar:{container:{margin:"0 -2em 0 0",padding:"0 0 3.5em",alignItems:"flex-end"},wrapper:{borderRadius:"50%",border:"solid 0.375em white",overflow:"hidden"},element:{width:"10em"},poster:{height:"10em"},state:{width:"50%",height:"100%",right:0,display:"flex",justifyContent:"center",alignItems:"center",padding:"0 0.5em 0 0",fontSize:"2em"},tooltip:{position:"absolute",bottom:0,fontSize:"2em"}}},E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?v(r):o).state={doc:!1,loading:!1,ready:!1,tooltip:!1},n.bootstrap=n.bootstrap.bind(v(n)),n.handleStateChange=n.handleStateChange.bind(v(n)),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r.PureComponent),n=t,(o=[{key:"componentDidMount",value:function(){this.props.updatable&&this.bootstrap()}},{key:"componentDidUpdate",value:function(e){!e.updatable&&this.props.updatable&&(this.subscription&&this.subscription.unsubscribe(),this.bootstrap())}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"bootstrap",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,l.default.get();case 4:return t=e.sent,n=t.stars.findOne().where("id").eq(this.props.entity.id.toString()),e.next=8,n.exec();case 8:r=e.sent,this.setState({doc:r?r.toJSON():null}),this.subscription=n.$.subscribe(function(e){return o.setState({doc:e?e.toJSON():null})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get();case 2:if(t=e.sent,n=this.props.entity,!1!==this.state.doc){e.next=6;break}return e.abrupt("return");case 6:if(this.state.doc&&"ignored"!==this.state.doc.state){e.next=17;break}return this.setState({loading:!0}),e.next=10,u.default.fetch(["person",n.id,"movie_credits"]);case 10:return r=e.sent,e.next=13,t.stars.atomicUpsert(new i.Star(y({},n,{credits:r,state:"stalked"})).normalize());case 13:o=e.sent,this.setState({loading:!1,doc:o.toJSON(),entity:n}),e.next=22;break;case 17:if("stalked"!==this.state.doc.state){e.next=22;break}return e.next=20,t.stars.atomicUpsert(new i.Star(y({},n,{state:"ignored"})).normalize());case 20:a=e.sent,this.setState({doc:a.toJSON(),entity:n});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.entity,o=t.context,i=t.updatable,l=p(t,["entity","context","updatable"]),u=this.state,s=u.doc,f=u.loading,m=u.ready,h=u.tooltip;p(u,["doc","loading","ready","tooltip"]);return r.default.createElement("div",d({},l,{style:y({},j.container,S[o].container,l.style?l.style:{}),onMouseEnter:function(){return e.setState({tooltip:!0})},onMouseLeave:function(){return e.setState({tooltip:!1})}}),r.default.createElement("div",{style:y({},j.wrapper,S[o].wrapper)},r.default.createElement("div",{style:y({},j.state,S[o].state,{cursor:!1===s?"default":"pointer"},!i||"portrait"!==o&&!h?{display:"none"}:{}),onClick:this.handleStateChange},(f||!1===s)&&"⌛",!f&&(null===s||s&&"ignored"===s.state)&&"🔕",!f&&s&&"stalked"===s.state&&"🔔"),r.default.createElement(a.Link,{to:"/star/".concat(n.id),style:j.link},r.default.createElement("div",{style:y({},j.element,S[o].element)},r.default.createElement("div",{style:y({},j.poster,S[o].poster,{backgroundColor:m?"transparent":c.default.colors.grey})},r.default.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.profile_path),onLoad:function(){return e.setState({ready:!0})},style:j.img}))))),r.default.createElement("h5",{style:y({},j.tooltip,S[o].tooltip),hidden:"portrait"!==o&&!h},n.name))}}])&&b(n.prototype,o),s&&b(n,s),t}();t.default=E,w(E,"propTypes",{entity:o.default.object.isRequired,context:o.default.oneOf(["portrait","avatar"]),updatable:o.default.bool}),w(E,"defaultProps",{context:"avatar",updatable:!0})},193:function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((r=n(757))&&r.__esModule?r:{default:r}).default)("".concat(location.protocol,"//").concat(location.hostname,":").concat("production"===e.config.env?location.port:"5070"),{transports:["websocket"]});o.on("reconnect_attempt",function(){return o.io.opts.transports=["polling","websocket"]}),o.emit("ready");var a=o;t.default=a}).call(this,n(27))},242:function(e,t,n){"use strict";var r=n(668);e.exports={similarity:function(e,t){return r.compareTwoStrings(e,t)},clean:function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\sa-zA-Z0-9]/g," ").replace(/ +/g," ").trim()}}},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=u(n(21)),a=u(n(111)),i=u(n(112)),l=u(n(130));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={element:{position:"relative",padding:"2em 0"},label:{padding:"0 2em",margin:0,fontSize:"2em",fontWeight:"bold",color:u(n(44)).default.colors.black},row:{left:0,display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"hidden"},entity:{flex:"0 0 auto"}},O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,h(t).call(this,e))).state={entities:[],loading:!1},n.reference=r.default.createRef(),n}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.PureComponent),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.uri&&(this.setState({loading:!0}),l.default.fetch(this.props.uri,this.props.params).then(function(t){return e.setState({loading:!1,entities:e.props.transform(t)||[]})}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.uri&&(this.props.uri.join("/")!==e.uri.join("/")||JSON.stringify(this.props.params)!==JSON.stringify(e.params)?(this.setState({loading:!0}),l.default.fetch(this.props.uri,this.props.params).then(function(e){t.setState({loading:!1,entities:t.props.transform(e)}),t.reference.current.scroll(0,0)})):this.reference.current.scroll(0,0))}},{key:"valid",value:function(e){return e.poster_path||e.profile_path}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,o=(t.uri,t.params,t.child),l=(t.transform,t.label),u=t.space,c=t.empty,y=p(t,["items","uri","params","child","transform","label","space","empty"]),m=this.state,h=m.entities,b=m.loading,g=(p(m,["entities","loading"]),[].concat(d(n),d(h)).filter(function(t){return e.valid(t)}));return r.default.createElement("div",{style:v.element},r.default.createElement("h1",s({},y,{style:f({},v.label,y.style||{})}),l),r.default.createElement("div",{style:v.row,ref:this.reference},b&&r.default.createElement(i.default,null),!b&&!g.length&&r.default.createElement(a.default,c),g.map(function(e,t){return r.default.createElement("div",{key:t,style:f({},v.entity,{padding:"".concat(u,"em")})},r.default.createElement(o,{entity:e}))})))}}])&&y(n.prototype,o),u&&y(n,u),t}();t.default=O,g(O,"propTypes",{items:o.default.array,child:o.default.func.isRequired,uri:o.default.array,params:o.default.object,transform:o.default.func,label:o.default.string,space:o.default.number,empty:o.default.object}),g(O,"defaultProps",{items:[],params:{},transform:function(e){return e.results},space:2,empty:{}})},342:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(683);e.exports=function(){function e(t){var n=t.key,r=t.region,o=void 0===r?"en-US":r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=n,this.region=o,this.base="https://api.themoviedb.org/3/"}var t,n,i;return t=e,(n=[{key:"build",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{language:this.region,api_key:this.key});return"".concat(this.base).concat(e.join("/"),"?").concat(a.stringify(t))}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(this.build(e,t)).then(function(e){return new Promise(function(t,n){try{e.json().then(function(r){e.ok?t(r):n(r)})}catch(e){n(e)}})})})}])&&o(t.prototype,n),i&&o(t,i),e}(),e.exports.GENRES={28:"Action",12:"Aventure",16:"Animation",35:"Comédie",80:"Crime",99:"Documentaire",18:"Drame",10751:"Familial",14:"Fantastique",36:"Histoire",27:"Horreur",10402:"Musique",9648:"Mystère",10749:"Romance",878:"Science-Fiction",10770:"Téléfilm",53:"Thriller",10752:"Guerre",37:"Western"}},384:function(e,t){},393:function(e,t,n){n(394),n(397),e.exports=n(618)},397:function(e,t,n){"use strict";n(398),n(617)},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={colors:{primary:"#01D277",secondary:"#081C24",wrong:"#E32626",white:"#FFFFFF",grey:"#EEEEEE",gray:"#CCCCCC",black:"#000000",shadows:{black:"hsla(0, 0%, 0%, 0.75)",grey:"hsla(0, 0%, 0%, 0.5)"}},fonts:{primary:"Raleway, sans-serif",secondary:"Open Sans, sans-serif",monospace:"Maison Mono, monospace"}}},618:function(e,t,n){"use strict";var r=f(n(1)),o=n(73),a=n(198),i=n(128),l=n(103),u=f(n(638)),c=n(781),s=f(n(782));function f(e){return e&&e.__esModule?e:{default:e}}n(786),(0,o.render)(r.default.createElement(a.Provider,{store:s.default},r.default.createElement(i.ToastProvider,{components:{Toast:c.Toast,ToastContainer:c.ToastContainer}},r.default.createElement(l.BrowserRouter,null,r.default.createElement(u.default,null)))),document.querySelector("#mount"))},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(1)),o=n(103),a=b(n(639)),i=b(n(654)),l=b(n(677)),u=b(n(725)),c=b(n(727)),s=b(n(728)),f=b(n(732)),d=b(n(733)),p=b(n(734)),y=b(n(102)),m=b(n(751)),h=b(n(780));function b(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v={element:{display:"flex",flexDirection:"column",minHeight:"100vh"}};t.default=function(e){g({},e);return r.default.createElement("div",{style:v.element},r.default.createElement(a.default,null),r.default.createElement(i.default,null),r.default.createElement(o.Switch,null,r.default.createElement(o.Route,{path:"/",exact:!0,component:l.default}),r.default.createElement(o.Route,{path:"/movies/collection",exact:!0,component:u.default}),r.default.createElement(o.Route,{path:"/movies/search/:query?",exact:!0,component:function(e){return r.default.createElement(c.default,g({state:"movie"},e))}}),r.default.createElement(o.Route,{path:"/stars/upcoming/:year?",exact:!0,component:d.default}),r.default.createElement(o.Route,{path:"/stars/following",exact:!0,component:p.default}),r.default.createElement(o.Route,{path:"/stars/search/:query?",exact:!0,component:function(e){return r.default.createElement(c.default,g({state:"person"},e))}}),r.default.createElement(o.Route,{path:"/movie/:id",exact:!0,component:s.default}),r.default.createElement(o.Route,{path:"/star/:id",exact:!0,component:f.default}),r.default.createElement(o.Route,{path:"/configure",exact:!0,component:y.default}),r.default.createElement(o.Route,{path:"/logs",exact:!0,component:m.default}),r.default.createElement(o.Route,{component:h.default})))}},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=(r=n(44))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=[{url:n(640),position:"center"},{url:n(641),position:"top"},{url:n(642),position:"top"},{url:n(643),position:"top"},{url:n(644),position:"top"},{url:n(645),position:"top"},{url:n(646),position:"center"},{url:n(647),position:"center"},{url:n(648),position:"center"},{url:n(649),position:"center"},{url:n(650),position:"center"},{url:n(651),position:"center"},{url:n(652),position:"center"},{url:n(653),position:"top"}],m={element:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",backgroundSize:"cover",height:"15em",padding:"0 10em 0 0"},title:{color:a.default.colors.white,fontSize:"6em",fontWeight:800},powered:{display:"flex",color:a.default.colors.white,padding:"0.5em 0"},logo:{width:"3em",height:"3em",margin:"0 1em"},github:{position:"absolute",height:"1.5em",width:"1.5em",bottom:"1em",right:"1em"}},h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,d(t).call(this,e))).state={banner:y[~~(y.length*Math.random())]},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.banner;c(e,["banner"]);return o.default.createElement("div",{style:l({},m.element,{backgroundImage:"url(".concat(t.url,")"),backgroundPosition:t.position})},o.default.createElement("h1",{style:m.title},"Sensorr"),o.default.createElement("div",{style:m.powered},o.default.createElement("span",null,"powered by "),o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 251.34 222.81",style:m.logo},o.default.createElement("path",{fill:a.default.colors.primary,d:"M2944.56 2236.34c14.6 0 24.48-9.88 24.48-24.48v-159.28c0-14.6-9.88-24.48-24.48-24.48h-202.37c-14.6 0-24.48 9.88-24.48 24.48v198.33l12.56-14.56v-183.77a11.94 11.94 0 0 1 11.92-11.92h202.37a11.94 11.94 0 0 1 11.92 11.92v159.28a11.94 11.94 0 0 1-11.92 11.92h-183.74l-12.56 12.56-.08-.1",transform:"translate(-2717.71 -2028.09)"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M61.38 77.29h6.94V49.52h8.64v-6.89H52.74v6.89h8.64v27.77zM99.53 77.29h6.94V42.58h-6.94v13.88H89.14V42.58H82.2v34.71h6.94V63.4h10.39v13.89zM132.25 70.34h-13.02V63.4h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.38v34.71h19.97v-6.95zM68.66 101.35L54.97 86.11h-2.23v35.24h7.04v-19.37l8.88 9.32 8.88-9.32-.04 19.37h7.03V86.11h-2.18l-13.69 15.24z"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M2825.75 2114.16c-23.88 0-23.88 35.77 0 35.77s23.88-35.77 0-35.77zm0 28.59c-13.88 0-13.88-21.45 0-21.45s13.88 21.45 0 21.45z",transform:"translate(-2717.71 -2028.09)"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M165.37 86.65h6.94v34.7h-6.94zM185.07 114.41v-6.94h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.37v34.7h19.96v-6.94h-13.02z"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M2780.79 2158.81h-10.34v34.7h10.34c23.1 0 23.1-34.7 0-34.7zm0 27.76h-3.4v-20.82h3.4c13.49 0 13.49 20.82 0 20.82z",transform:"translate(-2717.71 -2028.09)"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M2824 2176.13c2.18-1.5 3.11-4.22 3.2-6.84.15-6.12-3.69-10.53-9.85-10.53h-13.74v34.75h13.74a10.32 10.32 0 0 0 10.24-10.44 8.43 8.43 0 0 0-3.59-6.94zm-13.4-10.44h6.17a3.51 3.51 0 0 1 0 7h-6.17v-7zm6.17 20.87h-6.17v-6.94h6.17a3.41 3.41 0 0 1 3.49 3.45 3.45 3.45 0 0 1-3.49 3.5z",transform:"translate(-2717.71 -2028.09)"}),o.default.createElement("path",{fill:a.default.colors.primary,d:"M144.01 105.38l-9.14-18.73h-8.01l16.37 35.43h1.56l16.36-35.43h-8.01l-9.13 18.73z"}))),o.default.createElement("a",{href:"https://github.com/thcolin/sensorr",target:"_blank",style:m.github},o.default.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z",transform:"scale(64)",fill:a.default.colors.primary}))))}}])&&s(n.prototype,r),i&&s(n,i),t}();t.default=h},640:function(e,t,n){e.exports=n.p+"assets/images/ToyStory.2c34cca7d461eca741597f663a8bb9a1.jpg"},641:function(e,t,n){e.exports=n.p+"assets/images/2001ASpaceOdyssey.5cce0cd9c490afb26bbd26a8bb617750.jpg"},642:function(e,t,n){e.exports=n.p+"assets/images/Alien.7355ab13599d61dcb50047a04b5aefae.jpg"},643:function(e,t,n){e.exports=n.p+"assets/images/Creed.4c0a52a19aff4435fe05cf29e37f423b.jpg"},644:function(e,t,n){e.exports=n.p+"assets/images/Furious7.360048e34552fd4d08badae137f65210.jpg"},645:function(e,t,n){e.exports=n.p+"assets/images/IndianaJones.2a4ebf5deb647c22984cc5b4c12da395.jpg"},646:function(e,t,n){e.exports=n.p+"assets/images/Jaws.113940b0cb2342445119e560d3c3b472.jpg"},647:function(e,t,n){e.exports=n.p+"assets/images/LordOfTheRings.b8458877dbf11b4fcbffbed1247507d3.jpg"},648:function(e,t,n){e.exports=n.p+"assets/images/MadMaxFuryRoad.3eed84cc09f99ecc5ff0b1ee1182c198.jpg"},649:function(e,t,n){e.exports=n.p+"assets/images/Scream.d8fa6f78b2769db7619a43c1610db094.jpg"},650:function(e,t,n){e.exports=n.p+"assets/images/SilenceOfTheLambs.7c215c32d6e693c7f0010b80767def57.jpg"},651:function(e,t,n){e.exports=n.p+"assets/images/TheBreakfastClub.88a484f210ab7b920995eb999535a4f4.jpg"},652:function(e,t,n){e.exports=n.p+"assets/images/TheMartian.bf5260afc737b75468830ab8f75bcc6a.jpg"},653:function(e,t,n){e.exports=n.p+"assets/images/TheMatrix.edc37d394d21382fda2e51e98a014668.jpg"},654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(103),a=l(n(655)),i=l(n(44));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={primary:{position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"center",backgroundColor:i.default.colors.secondary,padding:"2em 0"},secondary:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:i.default.colors.primary,padding:"1em 0"},menu:{display:"flex",justifyContent:"center",flex:1},link:{color:i.default.colors.white,margin:"0 2em",fontWeight:800,textTransform:"uppercase",textDecoration:"none",paddingBottom:"0.35em"},light:{fontSize:"0.95em",fontWeight:600},active:{borderBottom:"0.1em solid ".concat(i.default.colors.white),paddingBottom:"0.25em"},emojis:{position:"absolute",display:"flex",alignItems:"center",justifySelf:"flex-end",padding:"0 1em",fontSize:"2em"},configure:{margin:"0 1em",textDecoration:"none"},logs:{margin:"0 1em 0 0",textDecoration:"none"}},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.Component),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.location,n=(f(e,["location"]),t.pathname.split("/").slice(1,2).pop());return r.default.createElement(r.Fragment,null,r.default.createElement("div",{style:h.primary},r.default.createElement("div",{style:h.menu},r.default.createElement(o.NavLink,{to:"/",exact:!0,style:h.link,activeStyle:h.active},"Trending"),r.default.createElement(o.NavLink,{to:"/movies/collection",exact:!0,style:c({},h.link,"movies"===n?h.active:{})},"Movies"),r.default.createElement(o.NavLink,{to:"/stars/upcoming",exact:!0,style:c({},h.link,"stars"===n?h.active:{})},"Stars")),r.default.createElement("div",{style:h.emojis},r.default.createElement(o.NavLink,{to:"/configure",exact:!0,style:h.configure,title:"Configure"},"🎚"),r.default.createElement(o.NavLink,{to:"/logs",exact:!0,style:h.logs,title:"History"},"📖"),r.default.createElement(a.default,null))),{movies:r.default.createElement("div",{style:h.secondary},r.default.createElement(o.NavLink,{to:"/movies/collection",exact:!0,style:c({},h.link,h.light),activeStyle:h.active},"Collection"),r.default.createElement(o.NavLink,{to:"/movies/search",style:c({},h.link,h.light),activeStyle:h.active},"Search")),stars:r.default.createElement("div",{style:h.secondary},r.default.createElement(o.NavLink,{to:"/stars/upcoming",style:c({},h.link,h.light),activeStyle:h.active},"Upcoming"),r.default.createElement(o.NavLink,{to:"/stars/following",exact:!0,style:c({},h.link,h.light),activeStyle:h.active},"Following"),r.default.createElement(o.NavLink,{to:"/stars/search",style:c({},h.link,h.light),activeStyle:h.active},"Search"))}[n])}}])&&d(n.prototype,i),l&&d(n,l),t}(),g=(0,o.withRouter)(b);t.default=g},655:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=n(198),i=n(128),l=n(250),u=(r=n(166))&&r.__esModule?r:{default:r};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={bounce:{"0%":{transform:"translateY(-0.0625em)"},"50%":{transform:"translateY(0.25em)"},"100%":{transform:"translateY(-0.0625em)"}},rotate:{"0%":{transform:"rotateY(0deg)"},"10%":{transform:"rotateY(0deg)"},"45%":{transform:"rotateY(180deg)"},"55%":{transform:"rotateY(180deg)"},"90%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}},g=l.StyleSheet.create({bounce:{animationName:b.bounce,animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"},rotate:{perspective:"2em",textAlign:"center",animationName:b.rotate,animationDuration:"3s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate",transformStyle:"preserve-3d"}}),v={},O=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=y(n).call(this,e))||"object"!==c(o)&&"function"!=typeof o?m(r):o).state={loading:!1},t.triggerJob=t.triggerJob.bind(m(t)),t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,o.PureComponent),r=n,(a=[{key:"triggerJob",value:function(t){var n=this,r=this.props.toastManager;this.setState({loading:!0}),fetch("/api/trigger",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(u.default.config.auth.username,":").concat(u.default.config.auth.password)).toString("base64"))}),body:JSON.stringify({type:t})}).then(function(e){try{e.json().then(function(n){e.ok?r.add({record:o.default.createElement("span",null,o.default.createElement("strong",null,"Record")," job triggered ! See ",o.default.createElement("strong",null,"Logs")," page to follow progress !")}[t],{appearance:"success",autoDismiss:!0}):r.add({record:o.default.createElement("span",null,o.default.createElement("strong",null,"Record")," job already in progress")}[t],{appearance:"error",autoDismiss:!0})})}catch(t){r.add(o.default.createElement("span",null,"Unexpected error during job trigger : ",o.default.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}finally{n.setState({loading:!1})}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ongoing,r=(t.toastManager,d(t,["ongoing","toastManager"]),this.state),a=r.loading;d(r,["loading"]);return o.default.createElement("div",{className:a?(0,l.css)(g.rotate):n?(0,l.css)(g.bounce):"",style:s({},v,n?{}:{cursor:"pointer "}),title:'Trigger "Record" job',onClick:function(){return!n&&e.triggerJob("record")}},a?"🏗":"🚀")}}])&&p(r.prototype,a),i&&p(r,i),n}(),w=(0,a.connect)(function(e){return{ongoing:e.jobs["sensorr:record"]}},function(){return{}})((0,i.withToastManager)(O));t.default=w}).call(this,n(72).Buffer)},666:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(48),u=l.from,c=l.of,s=l.throwError,f=n(47),d=f.tap,p=f.map,y=f.delay,m=f.toArray,h=f.concatAll,b=f.filter,g=f.mergeMap,v=f.pluck,O=f.timeout,w=f.retry,j=f.catchError,S=n(667),E=n(242),x=n(669),k=n(676),P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MINIMUM_SIMILARITY=.6,this.options=n,this.config=o({tmdb:"",blackhole:"/tmp",xznabs:[],filter:"",sort:"seeders",descending:!1},k,t),this.xznabs=(this.config.xznabs||[]).filter(function(e){return!e.disabled}).map(function(e){return new x(e,n)})}var t,n,l;return t=e,(n=[{key:"score",value:function(e){var t=this;return Object.keys(this.config.policy.prefer||{}).map(function(n){return t.config.policy.prefer[n].map(function(t,r,o){return(Array.isArray(e.meta[n])?e.meta[n]:[e.meta[n]]).includes(t)?"flags"===n?1:(o.length-r)/o.length:0}).reduce(function(e,t){return e+parseInt(100*t)},0)}).reduce(function(e,t){return e+t},0)}},{key:"filter",value:function(e){var t=this;return Object.keys(this.config.policy.avoid||{}).map(function(n){var r=t.config.policy.avoid[n].filter(function(t){return(Array.isArray(e.meta[n])?e.meta[n]:[e.meta[n]]).includes(t)});if(r.length)throw new Error("Release doesn't pass configured policy (".concat(n,"=").concat(r.join(", "),")"));return!0}).every(function(e){return e})}},{key:"sort",value:function(e,t){return function(n,r){if(n.score===r.score){if(t){if(n[e]<r[e])return 1;if(n[e]>r[e])return-1}else{if(n[e]<r[e])return-1;if(n[e]>r[e])return 1}return 0}return n.score<r.score?1:-1}}},{key:"look",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(e.terms.titles).pipe(g(function(r){return u(t.xznabs).pipe(g(function(a){return c(a).pipe(d(function(e){return"function"==typeof i.search&&i.search(e,r)}),y(2e3),g(function(e){return e.search(r).pipe(O(1e4),j(function(t){return"TimeoutError"===t.name&&"function"==typeof i.timeout&&i.timeout(e,r),s(t)}))}),w(1),j(function(){return c({items:[]})}),v("items"),d(function(e){return"function"==typeof i.found&&i.found(a,r,e)}),h(),p(function(e){return o({},e,{meta:S.parse(e.title,{strict:!1,flagged:!0,defaults:{language:"ENGLISH",resolution:"SD",year:0}})})}),p(function(e){return o({},e,{score:t.score(e)})}),p(function(n){var r=e.terms.titles.map(function(e){return E.similarity(e,E.clean(n.meta.title)).toFixed(2)}).sort(function(e,t){return t-e}).shift();return o({},n,{similarity:r,valid:r>=t.MINIMUM_SIMILARITY,reason:"Similarity too low : ".concat(r," (📩 ").concat(E.clean(n.meta.title)," / 🎯 ").concat(e.terms.titles.join(", "),")"),warning:2})}),p(function(e){return e.valid?o({},e,{valid:e.seeders,reason:"No seeders (0)",warning:2}):e}),p(function(t){return t.valid?o({},t,{valid:e.terms.years.some(function(e){return new Date(t.publishDate).getFullYear()>=e}),reason:"Release published year (".concat(new Date(t.publishDate).getFullYear(),") prior to movie release years (").concat(e.terms.years.join(", "),")"),warning:2}):t}),p(function(t){return t.valid?o({},t,{valid:0===parseInt(t.meta.year)||e.terms.years.some(function(e){return parseInt(t.meta.year)===e}),reason:"Release year (".concat(t.meta.year,") ").concat(0===parseInt(t.meta.year)?"unknown":"different from movie release years (".concat(e.terms.years.join(", "),")")),warning:2}):t}),p(function(e){if(!e.valid)return e;try{return o({},e,{valid:t.filter(e),reason:null,warning:0})}catch(t){return o({},e,{valid:!1,reason:t.message,warning:1})}}),p(function(e){return o({},e,{reason:e.valid?null:e.reason,warning:e.valid?0:e.warning})}),d(function(e){return"function"==typeof i.release&&i.release(a,r,e)}),b(function(e){return!n||e.valid}))},null,1))},null,1),m(),p(function(e){return Object.values(e.reduce(function(e,t){return o({},e,a({},t.guid,[].concat(r(e[t.guid]||[]),[t])))},{})).map(function(e){return e.sort(function(e,t){return e.valid?e:t}).shift()})}),p(function(e){return e.sort(t.sort(t.config.sort,t.config.descending))}))}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=P},669:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(670),f=n(671),d=n(674).request,p=n(48).of,y=n(47),m=y.map,h=y.catchError;e.exports=function(){function e(t,n){var r=t.name,o=t.key,a=t.url,i=n.proxify,l=n.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r,this.key=o,this.url=a,this.options={proxify:i,headers:l||{}}}var t,n,y;return t=e,(n=[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.format="json",e.apikey=this.key;var t="".concat(this.url,"?").concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"));return this.options.proxify?["/proxy?url=".concat(window.btoa(t)),{headers:new Headers(l({},this.options.headers))}]:[t]}},{key:"search",value:function(e){var t=i(this.build({q:e,Query:e,t:"search",cat:"2000,2010,2020,2030,2040,2050,2060"}),2),n=t[0],c=t[1];return d(l({url:n,responseType:"text"},c)).pipe(m(function(e){return e.response}),m(function(e){try{return JSON.parse(e)}catch(n){var t=s.xml2json(e);return{items:(void 0===(t.rss||{channel:{}}).channel.item?[]:Array.isArray(t.rss.channel.item)?t.rss.channel.item:[t.rss.channel.item]).map(function(e){var t=e.torznab,n=a(e,["torznab"]);return l({},t.reduce(function(e,t){return l({},e,u({},t.name,e[t.name]?Array.isArray(e[t.name])?[].concat(o(e[t.name]),[t.value]):[e[t.name],t.value]:t.value))},{}),n)}).map(function(e){var n=e.downloadvolumefactor,r=e.minimumratio,o=e.minimumseedtime,i=e.pubDate,u=e.uploadvolumefactor,c=a(e,["downloadvolumefactor","minimumratio","minimumseedtime","pubDate","uploadvolumefactor"]);return l({},c,{link:f(c.link,"all"),enclosure:f(c.enclosure.url,"all"),grabs:parseInt(c.grabs),size:parseInt(c.size),downloadVolumeFactor:parseInt(n),minimumRatio:parseInt(r),minimumSeedTime:parseInt(o),peers:parseInt(c.peers),publishDate:i,seeders:parseInt(c.seeders),site:c.link.split("".concat(t.rss.channel.atom.href,"dl/")).pop().split("/").shift(),uploadVolumeFactor:parseInt(u),category:Array.isArray(c)?c.category.map(function(e){return parseInt(e)}):parseInt(c.category)})})}}}),m(function(e){return function e(t){switch(r(t)){case"string":case"number":case"boolean":return t;default:return Array.isArray(t)?t.map(function(t){return e(t)}):t instanceof Date?t:null===t?t:Object.keys(t).reduce(function(n,r){return l({},n,u({},r.toUpperCase()===r?r.toLowerCase():"".concat(r.charAt(0).toLowerCase()).concat(r.slice(1)),e(t[r])))},{})}}(e)}),h(function(e){return console.warn("XZNAB Search error :",e),p({items:[]})}))}}])&&c(t.prototype,n),y&&c(t,y),e}()},676:function(e){e.exports={tmdb:"",blackhole:"/tmp",xznabs:[],filter:"resolution=720p|1080p",sort:"seeders",descending:!0,region:"en-US",auth:{username:"sensorr",password:"sensorr"},policy:{prefer:{},avoid:{}},plex:{url:"",pin:{code:"",id:""},token:""}}},677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=u(n(243)),i=u(n(113)),l=n(342);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m={element:{padding:"2em 0",fontSize:"1.125em"},row:{cursor:"pointer"}},h=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==c(o)&&"function"!=typeof o?p(r):o).randomize={year:function(){return Math.min(Math.round(Math.random()*((new Date).getFullYear()-1925)+1925+20*Math.random()),(new Date).getFullYear()-2)},genre:function(){return Object.keys(l.GENRES)[Math.floor(Math.random()*Object.values(l.GENRES).length)]}},n.state={year:n.randomize.year(),genre:n.randomize.genre()},n.handleRowClick=n.handleRowClick.bind(p(n)),n}var n,u,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.PureComponent),n=t,(u=[{key:"handleRowClick",value:function(e){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,this.randomize[e]()))}},{key:"render",value:function(){var e=this,t=this.state,n=t.year,u=t.genre;s(t,["year","genre"]);return r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,null,r.default.createElement("title",null,"Sensorr - Trending")),r.default.createElement("div",{style:m.element},r.default.createElement(a.default,{label:"Trending",uri:["trending","movie","week"],params:{sort_by:"popularity.desc"},child:i.default}),r.default.createElement(a.default,{label:"Discover",uri:["discover","movie"],child:i.default}),r.default.createElement(a.default,{label:"Discover (".concat(n,")"),title:"Randomize year",uri:["discover","movie"],params:{primary_release_year:n,sort_by:"popularity.desc"},child:i.default,onClick:function(){return e.handleRowClick("year")},style:m.row}),r.default.createElement(a.default,{label:"Discover (".concat(l.GENRES[u],")"),title:"Randomize genre",uri:["discover","movie"],params:{with_genres:u},child:i.default,onClick:function(){return e.handleRowClick("genre")},style:m.row})))}}])&&f(n.prototype,u),h&&f(n,h),t}();t.default=h},687:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=n(804),s=n(719),f=n(242).clean;c.plugin(n(806)),c.plugin(n(724));var d={movies:{1:function(e){return e.time=Date.now(),e},2:function(e){return e.terms={titles:u(new Set([e.title,e.original_title].map(function(e){return f(e)}))),years:[e.year]},e}}},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=null,this.options=t}var t,n,u;return t=e,(n=[{key:"bootstrap",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var i,l,u,f,p=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next="pouchdb"===t.t0?3:"rxdb"===t.t0?4:15;break;case 3:return t.abrupt("return",Object.keys(e.SCHEMAS).reduce(function(e,t){return o({},e,a({},t,new s(o({},p.options,{name:"".concat(p.options.name,"/sensorr-").concat(t)}))))},{}));case 4:return i=this.options,l=i.sync,u=r(i,["sync"]),t.next=7,c.removeDatabase("sessions","idb");case 7:return t.next=9,c.removeDatabase("records","idb");case 9:return t.next=11,c.create(o({name:"sensorr",adapter:"idb",multiInstance:!0},u));case 11:return f=t.sent,t.next=14,Promise.all(Object.keys(e.SCHEMAS).map(function(t){return f.collection({name:t,schema:e.SCHEMAS[t],migrationStrategies:d[t]}).then(function(e){return"string"==typeof l?e.sync({remote:"".concat(l,"/sensorr-").concat(t),waitForLeadership:!0,direction:{pull:!0,push:!0},options:{live:!0,retry:!0}}):null})}));case 14:return t.abrupt("return",f);case 15:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}()},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rxdb";return this.instance||(this.instance=this.bootstrap(e)),this.instance}}])&&l(t.prototype,n),u&&l(t,u),e}();p._POUCHDB="pouchdb",p._RXDB="rxdb",p.SCHEMAS={movies:{title:"movie",version:2,description:"Describe a TMDB movie",type:"object",required:["id","title","year","poster_path"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"wished"},imdb_id:{type:"string"},title:{type:"string"},original_title:{type:"string"},year:{type:"number"},poster_path:{type:"string"},time:{type:"number"},terms:{type:"object",properties:{titles:{type:"array",uniqueItems:!0},years:{type:"array",uniqueItems:!0}}}}},stars:{title:"star",version:0,description:"Describe a TMDB star",type:"object",required:["id","state","name"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"stalked"},imdb_id:{type:"string"},name:{type:"string"},also_known_as:{type:"array"},birthday:{type:"string"},popularity:{type:"number"},profile_path:{type:"string"},time:{type:"number"},credits:{type:"array"}}}},e.exports=p},688:function(e,t){},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=u(n(191)),i=u(n(113)),l=u(n(44));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:l.default.colors.grey,border:"none",fontSize:"1.25em",padding:"0.75em 1em",margin:0,textAlign:"center",color:l.default.colors.secondary,fontFamily:"inherit"},state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},wrapper:{padding:"2em 0"}},h=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==c(o)&&"function"!=typeof o?p(r):o).state={query:"",state:"all"},n.handleQueryChange=n.handleQueryChange.bind(p(n)),n.handleStateChange=n.handleStateChange.bind(p(n)),n}var n,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.PureComponent),n=t,(l=[{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleStateChange",value:function(e){this.setState({state:{all:"wished",wished:"archived",archived:"all"}[e]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.query,l=t.state;s({},this.props);return r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,null,r.default.createElement("title",null,"Sensorr - Collection")),r.default.createElement("div",null,r.default.createElement("div",{style:m.filter},r.default.createElement("input",{type:"text",onKeyUp:this.handleQueryChange,style:m.input,placeholder:"Filter..."}),r.default.createElement("i",{onClick:function(){return e.handleStateChange(l)},title:{all:"All",wished:"Wished",archived:"Archived"}[l],style:m.state},{all:"📚",wished:"🍿",archived:"📼"}[l])),r.default.createElement("div",{style:m.wrapper},r.default.createElement(a.default,{limit:!0,query:function(e){return e.movies.find().where("state").ne("ignored")},filter:function(e){return("all"===l||e.state===l)&&[e.title,e.original_title].some(function(e){return new RegExp(n,"i").test(e)})},child:i.default}))))}}])&&f(n.prototype,l),u&&f(n,u),t}();t.default=h},727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=n(90),i=d(n(191)),l=d(n(113)),u=d(n(192)),c=d(n(111)),s=d(n(359)),f=d(n(44));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={element:{position:"relative"},input:(r={width:"100%",backgroundColor:f.default.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},O(r,"padding","0.75em 1em"),O(r,"textAlign","center"),O(r,"color",f.default.colors.secondary),O(r,"fontFamily","inherit"),r),state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},container:{margin:"2em 0"}},j=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=b(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?g(r):a).state={value:e.match.params.query||""},n.input=o.default.createRef(),n.debounce=(0,s.default)(500),n.handleChange=n.handleChange.bind(g(n)),n}var n,r,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.input.current.focus()}},{key:"handleChange",value:function(e){var t=this,n=this.props.match.params.query,r=e.target.value;n!==r&&(this.setState({value:r}),this.debounce(function(){return t.props.history.push(t.props.match.path.replace(":query?",r))}))}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.match.params,r=(m(e,["state","match"]),this.state.value),s=n.query||"";return o.default.createElement(o.Fragment,null,o.default.createElement(a.Helmet,null,o.default.createElement("title",null,"Sensorr - Search",s&&': "'.concat(s,'" (').concat({movie:"Movies",person:"Stars"}[t],")"))),o.default.createElement("div",{style:w.element},o.default.createElement("input",{ref:this.input,type:"text",value:r,onChange:this.handleChange,style:w.input,placeholder:"Search..."}),o.default.createElement("div",{style:w.container},s?o.default.createElement(i.default,{label:s,child:{movie:l.default,person:function(e){return o.default.createElement(u.default,y({context:"portrait"},e))}}[t],uri:["search",t],params:{query:s,sort_by:"popularity.desc"}}):o.default.createElement(c.default,{emoji:{movie:"🎞️",person:"⭐"}[t],title:"Are you looking for a ".concat({movie:"movie",person:"star"}[t]," ?"),subtitle:"Search ".concat({movie:'anything, like "Inception"',person:'anyone, like "Audrey Hepburn"'}[t])}))))}}])&&h(n.prototype,r),f&&h(n,f),t}();t.default=j},728:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=n(103),i=m(n(243)),l=m(n(192)),u=m(n(113)),c=m(n(112)),s=m(n(729)),f=m(n(130)),d=m(n(114)),p=m(n(167)),y=m(n(44));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)})}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k={element:{position:"relative",flex:1,display:"flex",flexDirection:"column"},link:{color:y.default.colors.white},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},details:{flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(y.default.colors.shadows.black)},metadata:{position:"absolute",right:"2em",top:"2em",textAlign:"right"},popularity:{fontFamily:y.default.fonts.secondary,fontSize:"2em",fontWeight:800,color:y.default.colors.white},runtime:{fontFamily:y.default.fonts.secondary,fontSize:"1em",fontWeight:600,color:y.default.colors.white,padding:"1em 0 0"},preview:{fontFamily:y.default.fonts.secondary,fontSize:"1em",fontWeight:600,color:y.default.colors.white,padding:"1em 0 0"},badges:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"1em 0 0",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},badge:{cursor:"pointer",backgroundColor:y.default.colors.shadows.grey,borderRadius:"5em",padding:"1em",margin:"0.5em 0",fontWeight:800,color:y.default.colors.white,textTransform:"uppercase"},emoji:{margin:"0 0.75em 0 0"},informations:{width:"100%",display:"flex",padding:"5em 13em 2em 3em"},poster:{maxWidth:"15em",margin:"0 3em"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:y.default.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:y.default.colors.white},genres:{fontWeight:600,color:y.default.colors.white,padding:"1em 0 0 0"},directors:{fontWeight:600,color:y.default.colors.white,padding:"1em 0 0 0"},tagline:{color:y.default.colors.white,fontWeight:600,padding:"2em 0 0 0"},plot:{maxWidth:"50em",lineHeight:"1.5em",color:y.default.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{margin:"3em 0 0",overflow:"visible",fontSize:"0.5em"},more:{width:"100%",fontSize:"0.75em"},row:{color:y.default.colors.white,cursor:"pointer"},empty:{color:y.default.colors.white}},P=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=S(n).call(this,e))||"object"!==h(o)&&"function"!=typeof o?E(r):o).state={details:null,doc:!1,unpinned:!1,more:"recommendations"},t.bootstrap=t.bootstrap.bind(E(t)),t.handleStateChange=t.handleStateChange.bind(E(t)),t.handleMoreChange=t.handleMoreChange.bind(E(t)),t.handleLookClick=t.handleLookClick.bind(E(t)),t}var y,m,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,r.PureComponent),y=n,(m=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"bootstrap",value:function(){var e=w(regeneratorRuntime.mark(function e(){var t,n,r,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1,unpinned:!1}),e.next=4,f.default.fetch(["movie",this.props.match.params.id],{append_to_response:"videos,credits,similar,recommendations,alternative_titles,release_dates"});case 4:return t=e.sent,this.setState({details:t}),e.next=8,d.default.get();case 8:return n=e.sent,r=n.movies.findOne().where("id").eq(t.id.toString()),e.next=12,r.exec();case 12:o=e.sent,this.setState({doc:o?o.toJSON():null}),this.subscription=r.$.subscribe(function(e){return a.setState({doc:e?e.toJSON():null})}),setTimeout(function(){return document.getElementById("movie").scrollIntoView()},100),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.props.history.push("/");case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var t=w(regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.default.get();case 2:if(n=t.sent,!1!==this.state.doc){t.next=5;break}return t.abrupt("return");case 5:if(this.state.doc&&"ignored"!==this.state.doc.state){t.next=12;break}return t.next=8,n.movies.atomicUpsert(new p.default.Movie(g({},this.state.details,{state:"wished"}),e.config.region||localStorage.getItem("region")).normalize());case 8:r=t.sent,this.setState({doc:r.toJSON()}),t.next=24;break;case 12:if("wished"!==this.state.doc.state){t.next=19;break}return t.next=15,n.movies.atomicUpsert(new p.default.Movie(g({},this.state.details,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize());case 15:o=t.sent,this.setState({doc:o.toJSON()}),t.next=24;break;case 19:if("archived"!==this.state.doc.state){t.next=24;break}return t.next=22,n.movies.atomicUpsert(new p.default.Movie(g({},this.state.details,{state:"ignored"}),e.config.region||localStorage.getItem("region")).normalize());case 22:a=t.sent,this.setState({doc:a.toJSON()});case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"handleMoreChange",value:function(){this.setState({more:{similar:"recommendations",recommendations:"similar"}[this.state.more]})}},{key:"handleLookClick",value:function(){var e=this;this.setState({unpinned:!1}),setTimeout(function(){return e.setState({unpinned:!0})},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,f=(b(t,["match"]),this.state),d=f.doc,p=f.details,y=(f.loading,f.unpinned),m=f.more,h=(b(f,["doc","details","loading","unpinned","more"]),p?p.videos.results.filter(function(e){return"YouTube"===e.site&&["Trailer","Teaser"].includes(e.type)}).pop():null);return r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,null,p?r.default.createElement("title",null,"Sensorr - ",p.title,p.release_date&&" (".concat(new Date(p.release_date).getFullYear(),")")):r.default.createElement("title",null,"Sensorr - Movie (",n.params.id,")")),r.default.createElement("div",{id:"movie",style:k.element},p?[r.default.createElement("div",{key:"details",style:g({},k.details,{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat(p.backdrop_path,")")})},r.default.createElement("div",{style:k.metadata},r.default.createElement("h3",{style:k.popularity},r.default.createElement("span",null,p.vote_average.toFixed(1)),r.default.createElement("span",null," "),r.default.createElement("span",null,0===p.vote_average?"🤷":p.vote_average<5?"👎":p.vote_average<8?"👍":"🙏")),r.default.createElement("h4",{style:k.runtime},p.runtime," mins 🕙"),h&&r.default.createElement("a",{href:"https://youtu.be/".concat(h.key),target:"_blank",style:{textDecoration:"none"}},r.default.createElement("h4",{style:k.preview},"Preview 🎬")),r.default.createElement("div",{style:k.badges},!1===d&&r.default.createElement("div",{style:g({},k.badge,{cursor:"default"})},r.default.createElement("span",{style:k.emoji},"⌛"),"Loading"),(null===d||d&&"ignored"===d.state)&&r.default.createElement("div",{style:k.badge,onClick:this.handleStateChange},r.default.createElement("span",{style:k.emoji},"🔕"),"Ignored"),d&&"wished"===d.state&&r.default.createElement("div",{style:k.badge,onClick:this.handleStateChange},r.default.createElement("span",{style:k.emoji},"🍿"),"Wished"),d&&"archived"===d.state&&r.default.createElement("div",{style:k.badge,onClick:this.handleStateChange},r.default.createElement("span",{style:k.emoji},"📼"),"Archived"),r.default.createElement("div",{style:k.badge,onClick:this.handleLookClick},r.default.createElement("span",{style:k.emoji},"🔍"),"Look"))),r.default.createElement("div",{style:k.informations},r.default.createElement("div",null,r.default.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(p.poster_path),style:k.poster})),r.default.createElement("div",{style:k.wrapper},r.default.createElement("h1",{style:k.title},p.title),r.default.createElement("h2",{style:k.subtitle},p.title!==p.original_title&&r.default.createElement("span",{style:{margin:"0 0.5em 0 0"}},p.original_title),p.release_date&&r.default.createElement("span",{title:new Date(p.release_date).toLocaleDateString()},"(",new Date(p.release_date).getFullYear(),")")),r.default.createElement("p",{style:k.genres},p.genres.map(function(e){return e.name}).join(", ")),!!p.credits.crew.filter(function(e){return["Director"].includes(e.job)}).length&&r.default.createElement("p",{style:k.directors},"🎥   ",p.credits.crew.filter(function(e){return["Director"].includes(e.job)}).map(function(e){return r.default.createElement(a.Link,{to:"/star/".concat(e.id),style:k.link,key:e.id},e.name)}).reduce(function(e,t){return[e,", ",t]})),!!p.tagline&&r.default.createElement("h3",{style:k.tagline},p.tagline),r.default.createElement("p",{style:k.plot},p.overview),r.default.createElement("div",{style:k.credits},r.default.createElement(i.default,{items:p.credits.cast.slice(0,10),child:l.default,space:0})))),r.default.createElement("div",{style:k.more},r.default.createElement(i.default,{label:"".concat(m.charAt(0).toUpperCase()).concat(m.slice(1)),onClick:function(){return e.handleMoreChange()},items:p[m].results,style:k.row,child:u.default,empty:{style:k.empty}}))),y&&r.default.createElement(s.default,{key:"releases",movie:p})]:r.default.createElement("div",{style:k.loading},r.default.createElement(c.default,null))))}}])&&j(y.prototype,m),v&&j(y,v),n}();t.default=P}).call(this,n(27))},729:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=n(250),l=b(n(21)),u=n(167),c=n(128),s=b(n(730)),f=b(n(111)),d=b(n(112)),p=b(n(731)),y=b(n(166)),m=b(n(114)),h=b(n(44));function b(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=i.StyleSheet.create({striped:{backgroundColor:"hsl(0, 0%, 100%)",":nth-child(2n)":{backgroundColor:"hsl(0, 0%, 98%)"}}}),P={element:{},container:{display:"flex",flexDirection:"column"},search:{position:"sticky",top:"-1px",backgroundColor:h.default.colors.primary,color:h.default.colors.white,fontWeight:800,textTransform:"uppercase",zIndex:1},column:{padding:"1em"},input:(o={width:"100%",backgroundColor:h.default.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},x(o,"padding","0.75em 1em"),x(o,"textAlign","center"),x(o,"color",h.default.colors.secondary),x(o,"fontFamily","inherit"),o),filter:{position:"relative",backgroundColor:h.default.colors.grey,color:h.default.colors.secondary,fontWeight:800,textTransform:"uppercase",padding:"1em"},clear:{position:"absolute",right:"1.25em",alignSelf:"center",width:"1.25em",cursor:"pointer"},row:{display:"flex",flexDirection:"row",flexGrow:0,flexWrap:"wrap",width:"100%"},rows:{title:{width:"56%"},site:{width:"12%"},peers:{width:"8%"},seeders:{width:"10%"},size:{width:"8%"},grab:{width:"6%"}},cell:{fontSize:"0.9em",textAlign:"center",fontFamily:h.default.fonts.secondary,padding:"0.8em",borderBottom:"1px solid ".concat(h.default.colors.grey),overflow:"hidden",whiteSpace:"nowrap"},link:{color:h.default.colors.primary},grab:{cursor:"pointer",fontSize:"2em",textDecoration:"none"}},_=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=j(n).call(this,e))||"object"!==g(o)&&"function"!=typeof o?S(r):o).state={releases:[],loading:!0,sort:y.default.config.sort,descending:y.default.config.descending,filter:""},t.subscription=null,t.filter=t.filter.bind(S(t)),t.handleSortChange=t.handleSortChange.bind(S(t)),t.handleQueryChange=t.handleQueryChange.bind(S(t)),t.handleGrabClick=t.handleGrabClick.bind(S(t)),t}var o,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,a.PureComponent),o=n,(l=[{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100),this.subscription=y.default.look(new u.Movie(this.props.movie,e.config.region||localStorage.getItem("region")).normalize(),!1,{search:function(e,t){return console.log("🔫 ",'Looking for "'.concat(t,'" on "').concat(e.name,'" XZNAB'))},timeout:function(e,t){return console.log("⌛ ",'Request for "'.concat(t,'" on "').concat(e.name,'" XZNAB timed out ! Retrying...'))},found:function(e,t,n){return console.log("🎞️ ",'Found "'.concat(n.length,'" releases'))},release:function(e,t,n){return console.log("*",n.title,n.valid?"(".concat(n.score,")"):n.reason)},sorted:function(e){e.length?console.log("🚧",'Filtering and ordering "'.concat(e.length,'" releases'),"[".concat(t.state.sort,"]"),{true:"🔻",false:"🔺"}[t.state.descending]):console.log("📭","️Sorry, no valid releases found")}}).subscribe(function(e){return t.setState({releases:e})},function(e){t.setState({loading:!1}),console.warn(e)},function(){t.setState({loading:!1}),setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100)})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"filter",value:function(e){return this.state.filter.split(",").every(function(t){return new RegExp(t.trim(),"i").test(e.title)})}},{key:"handleQueryChange",value:function(e){this.setState({filter:e.target.value})}},{key:"handleSortChange",value:function(e){this.setState({sort:e,descending:e===this.state.sort?!this.state.descending:this.state.descending})}},{key:"handleGrabClick",value:function(t){var n=this,o=this.props.toastManager;o.add(a.default.createElement("span",null,"Trying to grab release ",a.default.createElement("strong",null,t.title),"..."),{appearance:"info",autoDismiss:!0}),fetch("/api/grab",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(y.default.config.auth.username,":").concat(y.default.config.auth.password)).toString("base64"))}),body:JSON.stringify({release:t})}).then(function(r){try{r.json().then(function(i){r.ok?(o.add(a.default.createElement("span",null,"Release ",a.default.createElement("strong",null,t.title)," grabbed to ",a.default.createElement("strong",null,y.default.config.blackhole)),{appearance:"success",autoDismiss:!0}),m.default.get().then(function(t){return t.movies.atomicUpsert(new u.Movie(O({},n.props.movie,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize())})):o.add(a.default.createElement("span",null,"Something went wrong during ",a.default.createElement("strong",null,t.title)," grabing : ",a.default.createElement("strong",null,i.reason)),{appearance:"error",autoDismiss:!0})})}catch(e){o.add(a.default.createElement("span",null,"Unexpected error during ",a.default.createElement("strong",null,t.title)," grabing : ",a.default.createElement("strong",null,r.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.sort,o=t.descending,l=t.releases,u=t.filter;v(t,["loading","sort","descending","releases","filter"]);return a.default.createElement("div",{key:"releases",id:"releases",style:P.element},a.default.createElement("div",{style:P.container},a.default.createElement("div",{style:P.search},a.default.createElement("div",{style:P.row},a.default.createElement("div",{style:O({},P.column,P.rows.title,{cursor:"pointer"}),onClick:function(){return e.handleSortChange("title")}},"title"===r&&a.default.createElement("span",null,o?"🔻":"🔺"," "),a.default.createElement("span",null,"Title")),a.default.createElement("div",{style:O({},P.column,P.rows.site,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("site")}},"site"===r&&a.default.createElement("span",null,o?"🔻":"🔺"," "),a.default.createElement("span",null,"Source")),a.default.createElement("div",{style:O({},P.column,P.rows.peers,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("peers")}},"peers"===r&&a.default.createElement("span",null,o?"🔻":"🔺"," "),a.default.createElement("span",null,"Peers")),a.default.createElement("div",{style:O({},P.column,P.rows.seeders,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("seeders")}},"seeders"===r&&a.default.createElement("span",null,o?"🔻":"🔺"," "),a.default.createElement("span",null,"Seeders")),a.default.createElement("div",{style:O({},P.column,P.rows.size,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("size")}},"size"===r&&a.default.createElement("span",null,o?"🔻":"🔺"," "),a.default.createElement("span",null,"Size")),a.default.createElement("div",{style:O({},P.column,P.rows.grab,{textAlign:"center"})},"Grab")),a.default.createElement("div",{style:P.row},a.default.createElement("input",{type:"text",value:u,onChange:this.handleQueryChange,style:P.input,placeholder:"Filter..."}),a.default.createElement("span",{style:P.clear,onClick:function(){return e.handleQueryChange({target:{value:""}})}},u&&a.default.createElement(s.default,null)))),n||l.filter(this.filter).length?l.filter(this.filter).sort(y.default.sort(r,o)).map(function(t,n){var r=new URL(t.link);return r.searchParams.set("file",t.meta.generated.normalize("NFD").replace(/[^\x00-\x7F]/g,"")),a.default.createElement("div",{key:n,className:(0,i.css)(k.striped),style:P.row},a.default.createElement("div",{title:t.valid?"Score : ".concat(t.score):t.reason,style:O({},P.cell,P.rows.title,{flexGrow:1,textAlign:"left",textOverflow:"ellipsis"})},a.default.createElement("span",{style:{opacity:[1,.5,.25][t.warning]}},t.title)),a.default.createElement("div",{style:O({},P.cell,P.rows.site)},a.default.createElement("a",{href:t.guid,style:P.link},t.site)),a.default.createElement("div",{style:O({},P.cell,P.rows.peers)},t.peers),a.default.createElement("div",{style:O({},P.cell,P.rows.seeders)},t.seeders),a.default.createElement("div",{style:O({},P.cell,P.rows.size,{textAlign:"right"})},(0,p.default)(t.size)),a.default.createElement("div",{style:O({},P.cell,P.rows.grab,{display:"flex",alignItems:"center",justifyContent:"center",padding:0})},a.default.createElement("a",{href:"/proxy?url=".concat(window.btoa(r.toString())),style:P.grab,target:"_blank",onClick:function(n){n.preventDefault(),e.handleGrabClick(t)}},"🎟")))}):a.default.createElement("div",{style:P.row},a.default.createElement(f.default,null))),n&&a.default.createElement("div",{style:P.loading},a.default.createElement(d.default,null)))}}])&&w(o.prototype,l),c&&w(o,c),n}();x(_,"propTypes",{movie:l.default.object.isRequired});var M=(0,c.withToastManager)(_);t.default=M}).call(this,n(27),n(72).Buffer)},730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=function(e){return o.default.createElement("svg",a({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}),o.default.createElement("path",{fill:"black",opacity:.2,d:"M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm5.66 14.24l-1.41 1.41L10 11.41l-4.24 4.25-1.42-1.42L8.59 10 4.34 5.76l1.42-1.42L10 8.59l4.24-4.24 1.41 1.41L11.41 10z"}))};t.default=i},732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=d(n(112)),i=d(n(243)),l=d(n(113)),u=d(n(130)),c=d(n(114)),s=d(n(167)),f=d(n(44));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)})}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S={element:{flex:1,display:"flex",flexDirection:"column"},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},container:{position:"relative",flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(f.default.colors.shadows.black)},metadata:{position:"absolute",right:"2em",top:"2em",textAlign:"right"},badges:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"1em 0 0",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},badge:{cursor:"pointer",backgroundColor:f.default.colors.shadows.grey,borderRadius:"5em",padding:"1em",margin:"0.5em 0",fontWeight:800,color:f.default.colors.white,textTransform:"uppercase"},emoji:{margin:"0 0.75em 0 0"},informations:{width:"100%",display:"flex",alignItems:"start",padding:"5em 3em 2em 3em"},poster:{width:"15em",height:"23em",overflow:"hidden",margin:"0 3em",background:"".concat(f.default.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:f.default.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:f.default.colors.white},genres:{fontWeight:600,color:f.default.colors.white,padding:"1em 0 0 0"},tagline:{color:f.default.colors.white,fontWeight:600,padding:"2em 0 0 0"},biography:{maxWidth:"50em",lineHeight:"1.5em",color:f.default.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{width:"100%",fontSize:"0.85em"},row:{color:f.default.colors.white,cursor:"pointer"}},E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=O(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?w(r):o).state={doc:!1,details:null,order:{cast:"vote_average",crew:"vote_average"},sort:{release_date:{emoji:"📆",title:"Ordered by release date",apply:function(e,t){return new Date(t.release_date)-new Date(e.release_date)}},vote_average:{emoji:"💯",title:"Ordered by vote average",apply:function(e,t){return t.vote_average-500/t.vote_count-(e.vote_average-500/e.vote_count)}},popularity:{emoji:"📣",title:"Ordered by popularity",apply:function(e,t){return t.popularity-e.popularity}}}},n.bootstrap=n.bootstrap.bind(w(n)),n.handleStateChange=n.handleStateChange.bind(w(n)),n.handleSortChange=n.handleSortChange.bind(w(n)),n}var n,f,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r.PureComponent),n=t,(f=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"bootstrap",value:function(){var e=g(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.fetch(["person",this.props.match.params.id],{append_to_response:"images,movie_credits"});case 3:return t=e.sent,this.setState({details:t}),e.next=7,c.default.get();case 7:return n=e.sent,e.next=10,n.stars.findOne().where("id").eq(t.id.toString()).exec();case 10:r=e.sent,this.setState({doc:r?r.toJSON():null}),setTimeout(function(){return document.getElementById("star").scrollIntoView()},100),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.props.history.push("/");case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var e=g(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get();case 2:if(t=e.sent,n=this.state.details,!1!==this.state.doc){e.next=6;break}return e.abrupt("return");case 6:if(this.state.doc&&"ignored"!==this.state.doc.state){e.next=13;break}return e.next=9,t.stars.atomicUpsert(new s.default.Star(m({},n,{state:"stalked"})).normalize());case 9:r=e.sent,this.setState({doc:r.toJSON(),entity:n}),e.next=18;break;case 13:if("stalked"!==this.state.doc.state){e.next=18;break}return e.next=16,t.stars.atomicUpsert(new s.default.Star(m({},n,{state:"ignored"})).normalize());case 16:o=e.sent,this.setState({doc:o.toJSON(),entity:n});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSortChange",value:function(e){var t=Object.keys(this.state.sort);this.setState({order:m({},this.state.order,h({},e,t[(t.indexOf(this.state.order[e])+1)%t.length]))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,u=(y(t,["match"]),this.state),c=u.doc,s=u.details,f=(u.loading,u.order),d=u.sort;y(u,["doc","details","loading","order","sort"]);return r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,null,s?r.default.createElement("title",null,"Sensorr - ",s.name):r.default.createElement("title",null,"Sensorr - Star (",n.params.id,")")),r.default.createElement("div",{id:"star",style:S.element},s?r.default.createElement("div",{style:m({},S.container,s.images.profiles.length?{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat((s.images.profiles.sort(function(e,t){return e.width-t.width}).slice(-1).pop()||{}).file_path,")")}:{})},r.default.createElement("div",{style:S.metadata},r.default.createElement("div",{style:S.badges},!1===c&&r.default.createElement("div",{style:m({},S.badge,{cursor:"default"})},r.default.createElement("span",{style:S.emoji},"⌛"),"Loading"),(null===c||c&&"ignored"===c.state)&&r.default.createElement("div",{style:S.badge,onClick:this.handleStateChange},r.default.createElement("span",{style:S.emoji},"🔕"),"Ignored"),c&&"stalked"===c.state&&r.default.createElement("div",{style:S.badge,onClick:this.handleStateChange},r.default.createElement("span",{style:S.emoji},"🔔"),"Following"))),r.default.createElement("div",{style:S.informations},r.default.createElement("div",{style:S.poster},s.profile_path&&r.default.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(s.profile_path),height:"100%"})),r.default.createElement("div",{style:S.wrapper},r.default.createElement("h1",{style:S.title},s.name),r.default.createElement("h2",{style:S.subtitle},s.place_of_birthday," (",new Date(s.birthday).getFullYear(),")"),r.default.createElement("p",{style:S.biography},s.biography))),!!s.movie_credits.cast.length&&r.default.createElement("div",{style:S.credits},r.default.createElement(i.default,{label:"Casting - ".concat(d[f.cast].emoji),title:d[f.cast].title,onClick:function(){return e.handleSortChange("cast")},items:s.movie_credits.cast.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(d[f.cast].apply),child:l.default,style:S.row})),!!s.movie_credits.crew.length&&r.default.createElement("div",{style:S.credits},r.default.createElement(i.default,{label:"Crew - ".concat(d[f.crew].emoji),title:d[f.crew].title,onClick:function(){return e.handleSortChange("crew")},items:s.movie_credits.crew.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(d[f.crew].apply),child:l.default,style:S.row}))):r.default.createElement("div",{style:S.loading},r.default.createElement(a.default,null))))}}])&&v(n.prototype,f),d&&v(n,d),t}();t.default=E},733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=y(n(244)),i=n(103),l=y(n(112)),u=y(n(111)),c=y(n(191)),s=y(n(113)),f=y(n(192)),d=y(n(114)),p=y(n(44));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k={wrapper:{padding:"0 0 2em 0"},controls:{position:"sticky",top:"-1px",display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"0.75em 2em",margin:"0 0 -4em 0",fontSize:"1em",zIndex:3},control:{display:"flex",cursor:"pointer",padding:"0.125em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},label:{position:"sticky",top:"-1px",backgroundColor:p.default.colors.grey,padding:"0.5em 2em",fontSize:"2em",fontWeight:"bold",color:p.default.colors.secondary,textTransform:"capitalize"},year:{textAlign:"right",margin:"0 0 -2em 50%",padding:"0.5em 2.25em 0.5em 2em",zIndex:2},month:{zIndex:1,padding:"0.5em 2em 0.5em 1em"},grid:{padding:"1em 0"},movie:{position:"relative"},star:{position:"absolute",bottom:"-5em",fontSize:"0.375em"}},P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=S(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?E(r):o).state={loading:!0,movies:[],month:0},n.loadPrevious=n.loadPrevious.bind(E(n)),n.loadNext=n.loadNext.bind(E(n)),n}var n,p,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r.PureComponent),n=t,(p=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,l,u,c,s,f,p,y,m,h,v,w,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.get();case 2:return t=e.sent,e.next=5,t.stars.find().where("state").ne("ignored").exec();case 5:n=e.sent,r={},o=!0,a=!1,i=void 0,e.prev=10,l=n[Symbol.iterator]();case 12:if(o=(u=l.next()).done){e.next=37;break}for(c=u.value,s=c.toJSON(),f=s.credits,p=O(s,["credits"]),y=!0,m=!1,h=void 0,e.prev=18,v=f[Symbol.iterator]();!(y=(w=v.next()).done);y=!0)(j=w.value).release_date&&j.poster_path&&(r[j.id]=g({},r[j.id]||{},j,{release_date:new Date(j.release_date),stars:[].concat(b((r[j.id]||{}).stars||[]),[p])}));e.next=26;break;case 22:e.prev=22,e.t0=e.catch(18),m=!0,h=e.t0;case 26:e.prev=26,e.prev=27,y||null==v.return||v.return();case 29:if(e.prev=29,!m){e.next=32;break}throw h;case 32:return e.finish(29);case 33:return e.finish(26);case 34:o=!0,e.next=12;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(10),a=!0,i=e.t1;case 43:e.prev=43,e.prev=44,o||null==l.return||l.return();case 46:if(e.prev=46,!a){e.next=49;break}throw i;case 49:return e.finish(46);case 50:return e.finish(43);case 51:this.setState({loading:!1,movies:r});case 52:case"end":return e.stop()}},e,this,[[10,39,43,51],[18,22,26,34],[27,,29,33],[44,,46,50]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"loadPrevious",value:function(){var e=this;document.querySelector("#wrapper").scrollIntoView(!0),setTimeout(function(){return e.setState({month:0},function(){return e.props.history.push("/stars/upcoming/".concat(parseInt(e.props.match.params.year||(new Date).getFullYear())-1))},400)})}},{key:"loadNext",value:function(){var e=this;document.querySelector("#wrapper").scrollIntoView(!0),setTimeout(function(){return e.setState({month:0},function(){return e.props.history.push("/stars/upcoming/".concat(parseInt(e.props.match.params.year||(new Date).getFullYear())+1))},400)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match.params,d=(O(t,["match"]),this.state),p=d.loading,y=d.movies,m=d.month,b=(O(d,["loading","movies","month"]),parseInt(n.year)||(new Date).getFullYear()),v={};return v.year=Object.values(y).filter(function(e){return e.release_date.getFullYear()===b}),v.month=Array(m+1).fill(!0).map(function(e,t){return v.year.filter(function(e){return e.release_date.getMonth()===t})}).filter(function(e){return e.length}),r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,{key:"helmet"},r.default.createElement("title",null,"Sensorr - Upcoming (".concat(b,")"))),r.default.createElement("div",{style:k.wrapper,key:"wrapper",id:"wrapper"},p?r.default.createElement(l.default,null):r.default.createElement(r.Fragment,null,r.default.createElement("div",{style:k.controls},r.default.createElement("a",{onClick:this.loadPrevious,style:g({},k.control,{visibility:b>=1900?"visible":"hidden"})},"🔼"),r.default.createElement("a",{onClick:this.loadNext,style:g({},k.control,{visibility:b<=(new Date).getFullYear()+8?"visible":"hidden"})},"🔽")),r.default.createElement(r.Fragment,{key:"".concat(b)},r.default.createElement("h1",{style:g({},k.label,k.year,v.year.length?{}:{margin:"unset"}),key:"".concat(b,"-title")},b),v.year.length?r.default.createElement(a.default,{pageStart:0,hasMore:m<11,loadMore:function(){return e.setState({month:m+1})},loader:r.default.createElement(l.default,{key:"spinner"})},v.month.map(function(e,t){return r.default.createElement(r.Fragment,{key:"".concat(b,"-").concat(t)},r.default.createElement("h1",{style:g({},k.label,k.month),key:"".concat(b,"-").concat(t,"-title")},new Date(b,t).toLocaleString("en-US",{month:"long"})),r.default.createElement("div",{style:k.grid,key:"".concat(b,"-").concat(t,"-grid")},r.default.createElement(c.default,{items:e,child:function(e){var t=e.entity,n=t.stars,o=O(t,["stars"]),a=O(e,["entity"]);return r.default.createElement("div",{style:k.movie,key:o.id},r.default.createElement(s.default,h({entity:o},a)),n.filter(function(e,t,n){return n.map(function(e){return e.id}).indexOf(e.id)===t}).filter(function(e,t){return t<4}).map(function(e,t){return r.default.createElement(f.default,{entity:e,context:"avatar",updatable:!1,key:e.id,style:g({},k.star,{right:"".concat(6*t,"em")})})}))}})))})):r.default.createElement(u.default,{emoji:"👩‍🎤",title:"Sorry, no upcoming movies this year",subtitle:r.default.createElement("span",null,"Try to ",r.default.createElement(i.Link,{to:"/stars/search/",style:k.link},"follow")," more stars !")})))))}}])&&j(n.prototype,p),y&&j(n,y),t}();t.default=P},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(90),a=n(103),i=c(n(191)),l=c(n(192)),u=c(n(44));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:u.default.colors.grey,border:"none",fontSize:"1.25em",padding:"0.75em 1em",margin:0,textAlign:"center",color:u.default.colors.secondary,fontFamily:"inherit"},wrapper:{padding:"2em 0"},link:{color:u.default.colors.primary}},g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=y(t).call(this,e))||"object"!==s(o)&&"function"!=typeof o?m(r):o).state={query:""},n.handleQueryChange=n.handleQueryChange.bind(m(n)),n}var n,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.PureComponent),n=t,(u=[{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"render",value:function(){var e=this.state.query;d({},this.props);return r.default.createElement(r.Fragment,null,r.default.createElement(o.Helmet,null,r.default.createElement("title",null,"Sensorr - Following")),r.default.createElement("div",null,r.default.createElement("div",{style:b.filter},r.default.createElement("input",{type:"text",onKeyUp:this.handleQueryChange,style:b.input,placeholder:"Filter..."})),r.default.createElement("div",{style:b.wrapper},r.default.createElement(i.default,{limit:!0,query:function(e){return e.stars.find().where("state").ne("ignored")},filter:function(t){return[t.name].concat(f(t.also_known_as||[])).some(function(t){return new RegExp(e,"i").test(t)})},child:function(e){return r.default.createElement(l.default,d({context:"portrait"},e))},empty:{emoji:"👩‍🎤",title:"Oh no, you are not following anyone",subtitle:r.default.createElement("span",null,"You should try to ",r.default.createElement(a.Link,{to:"/stars/search/",style:b.link},"search")," for stars and start following them !")}}))))}}])&&p(n.prototype,u),c&&p(n,c),t}();t.default=g},735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=n(736),i=(r=n(739))&&r.__esModule?r:{default:r},l=n(102);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,d(t).call(this,e))).state={regions:[]},n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;Promise.all(Object.keys(a.countries).map(function(e){return new Promise(function(t){return i.default.getCountryLanguages(e,function(n,r){!n&&r&&r.length&&r[0].iso639_1?t({country:e,language:r[0].iso639_1,emoji:(0,a.flag)(e),name:(0,a.name)(e)}):t(null)})})})).then(function(t){return e.setState({regions:t.filter(function(e){return e})})})}},{key:"render",value:function(){var e=this.state,t=e.regions,n=(c(e,["regions"]),this.props),r=n.values,a=n.handleChange;c(n,["values","handleChange"]);return o.default.createElement("div",{style:l.styles.section},o.default.createElement("h1",{style:l.styles.title},"Region"),o.default.createElement("p",{style:l.styles.paragraph},"When you ",o.default.createElement("code",{style:l.styles.code},"wish")," a movie, all data about movie (like title, year and stuff) are saved from ",o.default.createElement("a",{href:"https://www.themoviedb.org/",style:l.styles.link},"The Movie Database")," in configured region language.",o.default.createElement("br",null),o.default.createElement("br",null),"You can overide it here, just select your ",o.default.createElement("code",{style:l.styles.code},"region")," :"),o.default.createElement("select",{style:l.styles.select,value:r.region,onChange:function(e){return a("region",e.target.value)}},t.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return o.default.createElement("option",{key:e.country,value:"".concat(e.language,"-").concat(e.country)},e.name," ",e.emoji)})))}}])&&s(n.prototype,r),u&&s(n,u),t}();t.default=y},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},a=n(102);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=function(e){var t=e.values,n=e.handleChange;u(e,["values","handleChange"]);return o.default.createElement("div",{style:a.styles.section},o.default.createElement("h1",{style:a.styles.title},"Authentication"),o.default.createElement("p",{style:a.styles.paragraph},"To securize your Sensorr instance you can fill a username and a password. Leave blank for no authentication.",o.default.createElement("br",null),o.default.createElement("br",null),"Specify ",o.default.createElement("code",{style:a.styles.code},"username")," and ",o.default.createElement("code",{style:a.styles.code},"password")," :"),o.default.createElement("div",{style:a.styles.column},o.default.createElement("input",{type:"text",placeholder:"Username",style:i({},a.styles.input,{marginRight:"1em"}),defaultValue:t.auth.username,required:!0,onChange:function(e){return n("auth",i({},t.auth,{username:e.target.value}))}}),o.default.createElement("input",{type:"text",placeholder:"Password",style:i({},a.styles.input,{marginLeft:"1em"}),defaultValue:t.auth.password,required:!0,onChange:function(e){return n("auth",i({},t.auth,{password:e.target.value}))}})))};t.default=c},744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},a=n(102);function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l="TMDB API Key (v3 auth)",u=function(e){var t=e.values,n=e.handleChange;i(e,["values","handleChange"]);return o.default.createElement("div",{style:a.styles.section},o.default.createElement("h1",{style:a.styles.title},"TMDB"),o.default.createElement("p",{style:a.styles.paragraph},"Sensorr is powered by ",o.default.createElement("a",{href:"https://www.themoviedb.org/",style:a.styles.link},"The Movie Database")," API, to works properly, you need to fill ",o.default.createElement("a",{href:"https://www.themoviedb.org/settings/api",style:a.styles.link},"your own API Key (v3 auth)"),".",o.default.createElement("br",null),o.default.createElement("br",null),"Specify ",o.default.createElement("code",{style:a.styles.code},"API Key")," (v3 auth) :"),o.default.createElement("input",{type:"text",placeholder:l,style:a.styles.input,defaultValue:t.tmdb,onChange:function(e){return n("tmdb",e.target.value)}}))};t.default=u},745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},a=n(102);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c="/tmp",s=function(e){var t=e.values,n=e.handleChange;u(e,["values","handleChange"]);return o.default.createElement("div",{style:a.styles.section},o.default.createElement("h1",{style:a.styles.title},"Blackhole"),o.default.createElement("p",{style:i({},a.styles.paragraph,{flex:1})},"Sensorr works with ",o.default.createElement("strong",null,"XZNAB")," API servers and will download any ",o.default.createElement("code",{style:a.styles.code},".torrent")," or ",o.default.createElement("code",{style:a.styles.code},".nzb")," file into defined Server ",o.default.createElement("code",{style:a.styles.code},"blackhole")," path.",o.default.createElement("br",null),"If you run Sensorr from ",o.default.createElement("a",{href:"https://hub.docker.com/r/thcolin/sensorr/",style:a.styles.link},"Docker")," image, keep it to ",o.default.createElement("code",{style:a.styles.code},"/app/sensorr/blackhole"),".",o.default.createElement("br",null),o.default.createElement("br",null)),o.default.createElement("p",{style:a.styles.paragraph},"Here you need to fill ",o.default.createElement("strong",null,"server")," blackhole ",o.default.createElement("strong",null,"path")," :"),o.default.createElement("input",{type:"text",placeholder:c,style:a.styles.input,defaultValue:t.blackhole,onChange:function(e){return n("blackhole",e.target.value)}}))};t.default=s},746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},a=n(102);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s={name:"Name",url:"http://localhost:5060/torznab/aggregate/api",key:"API Key"},f=function(e){var t=e.values,n=e.handleChange;c(e,["values","handleChange"]);return o.default.createElement("div",{style:a.styles.section},o.default.createElement("h1",{style:a.styles.title},"XZNAB"),o.default.createElement("p",{style:a.styles.paragraph},"Sensorr works with ",o.default.createElement("strong",null,"XZNAB")," (",o.default.createElement("a",{href:"https://github.com/Sonarr/Sonarr/wiki/Implementing-a-Torznab-indexer",style:a.styles.link},"Torznab")," or ",o.default.createElement("a",{href:"http://www.newznab.com/",style:a.styles.link},"Newznab"),") API servers, add as many as you wish, they will be used to perform looks query.",o.default.createElement("br",null),o.default.createElement("br",null)),o.default.createElement("p",{style:a.styles.paragraph},"Example:"),o.default.createElement("ul",{style:a.styles.list},o.default.createElement("li",null,"Jackett: ",o.default.createElement("code",{style:a.styles.code},"http://localhost:9117/api/v2.0/indexers/xxx/results/torznab/")),o.default.createElement("li",null,"Cardigann: ",o.default.createElement("code",{style:a.styles.code},"http://localhost:5060/torznab/xxx/api")," (don't forget ",o.default.createElement("code",{style:a.styles.code},"/api")," after copied Cardigann Torznab link !)")),(t.xznabs.length?t.xznabs:[{name:"",url:"",key:""}]).map(function(e,t,r){return o.default.createElement("div",{style:l({},a.styles.column,{alignItems:"center"}),key:t},o.default.createElement("input",{type:"checkbox",title:e.disabled?"Disabled":"Enabled",style:a.styles.checkbox,checked:!e.disabled,onChange:function(o){return n("xznabs",r.map(function(n,r){return r===t?l({},e,{disabled:!o.target.checked}):n}))}}),o.default.createElement("input",{type:"text",placeholder:s.name,style:l({},a.styles.input,{marginLeft:"1em",marginRight:"1em"}),value:e.name,onChange:function(o){return n("xznabs",r.map(function(n,r){return r===t?l({},e,{name:o.target.value}):n}))}}),o.default.createElement("input",{type:"text",placeholder:s.url,style:l({},a.styles.input,{marginLeft:"1em",marginRight:"1em"}),value:e.url,onChange:function(o){return n("xznabs",r.map(function(n,r){return r===t?l({},e,{url:o.target.value}):n}))}}),o.default.createElement("input",{type:"text",placeholder:s.key,style:l({},a.styles.input,{marginLeft:"1em"}),value:e.key,onChange:function(o){return n("xznabs",r.map(function(n,r){return r===t?l({},e,{key:o.target.value}):n}))}}),o.default.createElement("div",{style:a.styles.remove,onClick:function(){return n("xznabs",r.filter(function(e,n){return n!==t}))}},"🗑️"))}),o.default.createElement("div",{style:a.styles.add,onClick:function(){return n("xznabs",[].concat(i(t.xznabs),[{name:"",url:"",key:""}]))}},"🌱"))};t.default=f},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(748),a=u(n(749)),i=n(102),l=u(n(340));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=(0,o.SortableElement)(function(e){var t=e.value,n=e.index,o=e.disabled,a=e.onRemoveClick;g(e,["value","index","disabled","onRemoveClick"]);return r.default.createElement("li",{key:n,style:{listStyle:"inherit",cursor:o?"default":"pointer"}},r.default.createElement("span",{style:{display:"flex",justifyContent:"space-between",padding:"0.5em 0",MozUserSelect:"none",WebkitUserSelect:"none"}},r.default.createElement("span",null,t),r.default.createElement("span",{style:{cursor:"pointer"},onClick:a},"🗑️")))}),O=function(e){var t=e.values,n=e.behavior,u=e.handleChange,c=b((0,r.useState)("source"),2),s=c[0],f=c[1],d=b((0,r.useState)(Object.keys(l.default[s]).filter(function(e){return!(t.policy[n][s]||[]).includes(e)}).shift()||""),2),p=d[0],g=d[1];return r.default.createElement("div",{style:{prefer:{margin:"0 1em 0 0"},avoid:{margin:"0 0 0 1em"}}[n]},r.default.createElement("h2",{style:m({},i.styles.subtitle,{textTransform:"capitalize"})},n),r.default.createElement("p",{style:i.styles.paragraph},{prefer:'Here you can specify and order prefered keywords, top ones will get a better "score" when choosing appropriate release',avoid:"Here you can specify custom avoided keywords, if any is found in a release title, this one will be filtered"}[n]),r.default.createElement("div",{style:m({},i.styles.column,{alignItems:"center"})},r.default.createElement("select",{style:i.styles.select,value:s,onChange:function(e){f(e.target.value),g(Object.keys(l.default[e.target.value]).filter(function(r){return!(t.policy[n][e.target.value]||[]).includes(r)}).shift()||"")}},Object.keys(l.default).map(function(e){return r.default.createElement("option",{key:e,value:e},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),r.default.createElement("select",{style:m({},i.styles.select,{margin:"1em"}),value:p,onChange:function(e){return g(e.target.value)}},r.default.createElement("option",{key:"null",value:"",disabled:!0},"-"),Object.keys(l.default[s]).map(function(e){return r.default.createElement("option",{key:e,value:e,disabled:(t.policy[n][s]||[]).includes(e)},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),r.default.createElement("button",{type:"button",style:{background:"none",border:"none",fontSize:"1.25em",cursor:p?"pointer":"default"},disabled:!p,onClick:function(){g(Object.keys(l.default[s]).filter(function(e){return!(t.policy[n][s]||[]).includes(e)&&e!==p}).shift()||""),u("policy",m({},t.policy,h({},n,m({},t.policy[n],h({},s,[].concat(y(t.policy[n][s]||[]),[p]))))))}},{prefer:"👍",avoid:"👎"}[n])),r.default.createElement("br",null),Object.keys(t.policy[n]).filter(function(e){return t.policy[n][e].length}).map(function(e){var i=(0,o.SortableContainer)(function(o){var a=o.items;return r.default.createElement("ul",{style:{prefer:"flags"===e?{}:{listStyle:"decimal",padding:"0 0 0 2em"},avoid:{}}[n]},a.map(function(o,a){return r.default.createElement(v,{key:a,index:a,value:o,disabled:"avoid"===n||"flags"===e,onRemoveClick:function(){return u("policy",m({},t.policy,h({},n,m({},t.policy[n],h({},e,t.policy[n][e].filter(function(e){return o!==e}))))))}})}))});return[r.default.createElement("h3",{key:"title",style:{textTransform:"capitalize",padding:"0.5em 0",fontSize:"1.125em"}},r.default.createElement("strong",null,e)),r.default.createElement("div",{key:"list"},r.default.createElement(i,{items:t.policy[n][e],lockAxis:"y",distance:10,lockToContainerEdges:!0,onSortEnd:function(r){var o=r.oldIndex,i=r.newIndex;return u("policy",m({},t.policy,h({},n,m({},t.policy[n],h({},e,(0,a.default)(t.policy[n][e],o,i))))))}}))]}))},w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,d(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.values,n=e.handleChange;g(e,["values","handleChange"]);return r.default.createElement("div",{style:i.styles.section},r.default.createElement("h1",{style:i.styles.title},"Policy"),r.default.createElement("p",{style:m({},i.styles.paragraph,{flex:1})},"When using CLI with ",r.default.createElement("code",{style:i.styles.code},"-a")," or ",r.default.createElement("code",{style:i.styles.code},"--auto")," option, results will be filtered and ordered with defined ",r.default.createElement("code",{style:i.styles.code},"policy"),r.default.createElement("br",null),r.default.createElement("br",null)),r.default.createElement("div",null,r.default.createElement("h2",{style:i.styles.subtitle},"Sort"),r.default.createElement("p",{style:m({},i.styles.paragraph,{flex:1})},"Choose default ",r.default.createElement("code",{style:i.styles.code},"sort")," option :",r.default.createElement("br",null)),r.default.createElement("div",{style:i.styles.column},r.default.createElement("select",{style:m({},i.styles.select,{margin:"1em 1em 1em 0"}),value:t.sort,onChange:function(e){return n("sort",e.target.value)}},["seeders","peers","size"].map(function(e){return r.default.createElement("option",{key:e,value:e},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),r.default.createElement("label",{htmlFor:"descending",style:m({},i.styles.input,{borderColor:"transparent"})},r.default.createElement("input",{id:"descending",type:"checkbox",defaultChecked:t.descending,onChange:function(e){return n("descending",e.target.checked)},style:{marginRight:"1em"}}),"Descending")),r.default.createElement("br",null),r.default.createElement("br",null)),r.default.createElement("div",{style:i.styles.column},r.default.createElement(O,{behavior:"prefer",values:t,handleChange:n}),r.default.createElement(O,{behavior:"avoid",values:t,handleChange:n})))}}])&&s(n.prototype,o),a&&s(n,a),t}();t.default=w},750:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(198),a=n(128),i=c(n(166)),l=n(102),u=c(n(44));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g="http://192.168.0.42:32400",v=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=m(n).call(this,e))||"object"!==s(o)&&"function"!=typeof o?h(r):o).state={loading:!1},t.handleChange=t.handleChange.bind(h(t)),t.handleSubmit=t.handleSubmit.bind(h(t)),t}var o,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,r.PureComponent),o=n,(a=[{key:"handleChange",value:function(e,t){this.props.handleChange("plex",d({},this.props.values.plex,p({},e,t)))}},{key:"handleSubmit",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.props.toastManager;this.setState({loading:!0}),fetch("/api/plex",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(i.default.config.auth.username,":").concat(i.default.config.auth.password)).toString("base64"))}),body:JSON.stringify(n)}).then(function(e){try{e.json().then(function(n){e.ok?(o.add(n.plex.pin.code?r.default.createElement("span",null,"Sensorr registred on your Plex server, please fill PIN code ",r.default.createElement("strong",null,n.plex.pin.code)," on ",r.default.createElement("strong",null,"Plex")," website that comes next"):r.default.createElement("span",null,"Sensorr is now ",r.default.createElement("strong",null,"unregistred")," on your ",r.default.createElement("strong",null,"Plex")," server"),{appearance:"success",autoDismiss:!0}),t.props.handleChange("plex",n.plex),n.plex.pin.code&&setTimeout(function(){return window.open("https://plex.tv/pin?code=".concat(n.plex.pin.code))},5e3)):n.err&&o.add(r.default.createElement("span",null,"Something went wrong during Sensorr registration on your Plex server : ",r.default.createElement("strong",null,n.err)),{appearance:"error",autoDismiss:!0})})}catch(t){o.add(r.default.createElement("span",null,"Unexpected error during Sensorr registration on your Plex server : ",r.default.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}finally{t.setState({loading:!1})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,o=(f(t,["loading"]),this.props),a=o.values,i=(o.handleChange,f(o,["values","handleChange"])),c=n?"loading":i.status,s={loading:!1,off:function(){return e.handleSubmit({url:a.plex.url})},waiting:!1,invalid:function(){return e.handleSubmit({url:a.plex.url})},error:function(){return e.handleSubmit({url:a.plex.url})},authorized:function(){return e.handleSubmit()}}[c];return r.default.createElement("div",{style:l.styles.section},r.default.createElement("h1",{style:l.styles.title},"Plex"),r.default.createElement("p",{style:d({},l.styles.paragraph,{flex:1})},r.default.createElement("a",{href:"https://www.plex.tv/",target:"_blank",style:l.styles.link},"Plex")," user ? You can connect your ",r.default.createElement("strong",null,"Sensorr")," instance to your ",r.default.createElement("strong",null,"Plex")," server and never inadvertently download a movie you already own !",r.default.createElement("br",null),"All movies from your ",r.default.createElement("strong",null,"Plex")," server will be considered as ",r.default.createElement("code",{style:l.styles.code},"📼 archived")," on ",r.default.createElement("strong",null,"Sensorr"),"."),r.default.createElement("div",{style:l.styles.column},r.default.createElement("span",{title:"Status: ".concat(c),style:{fontSize:"1.5em",display:"flex",alignItems:"center",flexBasis:"2em",margin:"0 0.25em 0 0"}},{unknown:"⌛",loading:"⌛",off:"🚫",waiting:"📲",invalid:"⛔",error:"⛔",authorized:"✅"}[c]),r.default.createElement("input",{type:"text",placeholder:g,style:l.styles.input,defaultValue:(a.plex||{}).url,onChange:function(t){return e.handleChange("url",t.target.value)}})),r.default.createElement("button",{type:"button",style:d({},l.styles.button,{cursor:["unknown","loading","waiting"].includes(c)?"default":"pointer"},["unknown","authorized","loading","waiting"].includes(c)?{backgroundColor:{authorized:u.default.colors.gray,loading:u.default.colors.grey,unknown:u.default.colors.grey,waiting:u.default.colors.grey}[c]}:{}),disabled:!s,onClick:s||function(){}},{unknown:"Loading",loading:"Loading",off:"Connect",waiting:"Enter PIN",invalid:"Re-connect",error:"Re-connect",authorized:"Unregister"}[c]),["waiting"].includes(c)&&r.default.createElement("p",{style:{margin:"1em 0 0 0"}},r.default.createElement("em",null,"Just go to "),r.default.createElement("a",{href:"https://plex.tv/pin?code=".concat(((a.plex||{}).pin||{}).code),style:l.styles.link,target:"_blank"},"https://plex.tv/pin"),r.default.createElement("em",null," and enter PIN code "),r.default.createElement("code",{style:l.styles.code},((a.plex||{}).pin||{}).code),"."))}}])&&y(o.prototype,a),c&&y(o,c),n}(),O=(0,o.connect)(function(e){return{status:e.plex.status||"loading"}},function(){return{}})((0,a.withToastManager)(v));t.default=O}).call(this,n(72).Buffer)},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(198),a=n(90),i=n(128),l=m(n(359)),u=m(n(244)),c=m(n(113)),s=m(n(112)),f=m(n(111)),d=m(n(752)),p=m(n(193)),y=m(n(44));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x={element:{display:"flex",flexDirection:"column",flex:1,padding:"1em"},summary:{display:"flex",overflowX:"auto",padding:"1em 0 1em 1em"},digest:{display:"flex",margin:"1em",border:"none",fontSize:"1em",lineHeight:"1em",cursor:"pointer"},catch:{flex:1,padding:"0 0 0 2em",textAlign:"center",lineHeight:"1.4em",fontSize:"0.75em",fontFamily:y.default.fonts.monospace},bar:{zIndex:1,position:"sticky",display:"flex",justifyContent:"space-between",top:"-1px",width:"100%",backgroundColor:y.default.colors.grey,fontFamily:y.default.fonts.monospace,fontSize:"1.25em",padding:"0.75em 1em",textAlign:"center",color:y.default.colors.secondary},small:{opacity:.5,fontSize:"0.75em",margin:"0 0.75em"},navigator:{cursor:"pointer",margin:"0 0.125em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},loading:{display:"flex",alignItems:"center",flex:1},record:{display:"flex",padding:"1em"},film:{flexShrink:0},scroller:{flexGrow:1,overflowX:"auto",padding:"0.5em 0 1em",margin:"0 1em",fontFamily:y.default.fonts.monospace,fontSize:"0.75em",lineHeight:"1.75em"},title:{fontWeight:"bold",margin:"0 0 0.5em 0.25em"},wrapper:{display:"flex"},container:{flex:1,display:"inline-flex",flexDirection:"column",whiteSpace:"nowrap"},text:{cursor:"pointer",padding:"0 2em 0 1em"},focus:{flex:1,whiteSpace:"pre",backgroundColor:y.default.colors.grey,borderRadius:"0.5em",margin:"1em",padding:"1em 2em"}},k=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=j(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?S(r):o).filters={all:function(){return!0},success:function(e){return e.success},filtered:function(e){return!e.success&&e.logs.some(function(e){return e.message.match(/Release doesn't pass configured filtering/)})},missing:function(e){return!e.success&&!e.logs.some(function(e){return e.message.match(/Release doesn't pass configured filtering/)})}},n.state={loading:!0,index:null,records:[],filter:n.filters.all,focus:null,max:5},n.move=n.move.bind(S(n)),n.expand=n.expand.bind(S(n)),n.debounce=(0,l.default)(500),n.logs=[],n.records={},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.PureComponent),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;p.default.on("session",function(t){var n=t.session,r=t.record,o=O(t,["session","record"]);r||n!==e.props.sessions[e.state.index].uuid?(e.logs.push(g({session:n,record:r},o)),e.records=g({},e.records,v({},r,g({},e.records[r]||{},{session:n,record:r,time:Math.min((e.records[r]||{}).time||o.time,o.time),done:(e.records[r]||{}).done||!!o.data.done,success:(e.records[r]||{}).success||!!o.data.success},void 0!==(o.data||{}).movie?{movie:o.data.movie}:{},{logs:Object.values(g({},(e.records[r]||{logs:[]}).logs.reduce(function(e,t){return g({},e,v({},t.uuid,t))},{}),v({},o.uuid,o))).sort(function(e,t){return e.time-t.time})}))),e.debounce(function(){return e.setState({loading:!1,records:e.records})})):e.setState({loading:!1})}),this.props.sessions.length&&this.setState({loading:!0,index:this.props.sessions.length-1})}},{key:"componentDidUpdate",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null===this.state.index&&this.props.sessions.length&&this.setState({loading:!0,index:this.props.sessions.length-1}),null!==this.state.index&&n.index!==this.state.index&&(this.setState({loading:!0,max:5}),null!==n.index&&p.default.emit("session",{session:t.sessions[n.index].uuid,stop:!0}),p.default.emit("session",{session:this.props.sessions[this.state.index].uuid}));case 2:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){null!==this.state.index&&p.default.emit("session",{session:this.props.sessions[this.state.index].uuid,stop:!0})}},{key:"move",value:function(e){this.setState({loading:!0,index:e})}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+5}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sessions,o=O(t,["sessions"]),i=this.state,l=i.index,p=i.filter,y=i.focus,m=i.max,h=O(i,["index","filter","focus","max"]),b=!(!o.loading&&!n.length)&&h.loading,v=Object.values(h.records).filter(function(e){return e.session===n[l].uuid}).sort(function(e,t){return t.time-e.time}),w=v.filter(p).filter(function(e,t){return t<=m});return r.default.createElement(r.Fragment,null,r.default.createElement(a.Helmet,null,r.default.createElement("title",null,"Sensorr - History")),n.length>0&&null!==l&&r.default.createElement("div",{style:x.bar},r.default.createElement("span",{style:l>0?{}:{visibility:"hidden"}},r.default.createElement("a",{onClick:function(){return l>0&&e.move(0)},style:x.navigator},"⏪"),r.default.createElement("a",{onClick:function(){return l>0&&e.move(l-1)},style:x.navigator},"⬅️")),r.default.createElement("div",null,r.default.createElement("span",null,new Date(n[l].time).toLocaleString()),r.default.createElement("span",{style:x.small},"#",n[l].uuid.split("-").pop())),r.default.createElement("span",{style:l<n.length-1?{}:{visibility:"hidden"}},r.default.createElement("a",{onClick:function(){return l<n.length-1&&e.move(l+1)},style:x.navigator},"➡️"),r.default.createElement("a",{onClick:function(){return l<n.length-1&&e.move(n.length-1)},style:x.navigator},"⏩"))),v.length>0&&r.default.createElement("div",{style:x.summary},r.default.createElement("button",{style:g({},x.focus,x.digest),onClick:function(){return e.setState({filter:e.filters.all})}},r.default.createElement("span",null,"🍿"),r.default.createElement("span",{style:x.catch},(0,d.default)("Searching for **".concat(v.length,"** movies")).tree)),r.default.createElement("button",{style:g({},x.focus,x.digest),onClick:function(){return e.setState({filter:e.filters.success})}},r.default.createElement("span",null,"📼"),r.default.createElement("span",{style:x.catch},v.filter(function(e){return e.success>0}).length>0?(0,d.default)("Amazing ! **".concat(v.filter(function(e){return e.success}).length,"** movies were archived !")).tree:(0,d.default)("Oops... No movies were archived").tree)),!!v.filter(this.filters.missing).length&&r.default.createElement("button",{style:g({},x.focus,x.digest),onClick:function(){return e.setState({filter:e.filters.missing})}},r.default.createElement("span",null,"📭"),r.default.createElement("span",{style:x.catch},(0,d.default)("Sorry, **".concat(v.filter(this.filters.missing).length,"** movies still missing")).tree)),!!v.filter(this.filters.filtered).length&&r.default.createElement("button",{style:g({},x.focus,x.digest),onClick:function(){return e.setState({filter:e.filters.filtered})}},r.default.createElement("span",null,"💎"),r.default.createElement("span",{style:x.catch},(0,d.default)("But if you lower your filter you could get **".concat(v.filter(this.filters.filtered).length,"** more movies !")).tree)),r.default.createElement("div",{style:{flex:"0 0 1em"}})),r.default.createElement("div",{style:x.element},r.default.createElement(u.default,{pageStart:0,hasMore:m<v.length,loadMore:this.expand,loader:r.default.createElement(s.default,{key:"spinner"})},w.map(function(t){return r.default.createElement("div",{style:x.record,key:t.record},t.movie&&r.default.createElement("div",{style:x.film},r.default.createElement(c.default,{entity:t.movie})),r.default.createElement("div",{style:x.scroller},r.default.createElement("h4",{style:x.title},"# ",new Date(t.time).toLocaleString()),t.logs.map(function(n,o){return r.default.createElement("div",{style:x.wrapper,key:n.uuid},r.default.createElement("div",{style:x.container},r.default.createElement("p",{style:x.text,onClick:function(){return e.setState({focus:y==="".concat(t.time,"-").concat(o)?null:"".concat(t.time,"-").concat(o)})}},(0,d.default)(n.message).tree),y==="".concat(t.time,"-").concat(o)&&r.default.createElement("div",{style:x.focus},JSON.stringify(n,null,2))),r.default.createElement("br",null))})))})),b?r.default.createElement("div",{style:x.loading},r.default.createElement(s.default,null)):n.length?!w.length&&r.default.createElement(f.default,{emoji:"📖",title:"No records available for this session",subtitle:"Try to launch the rocket for a new ride !"}):r.default.createElement(f.default,{emoji:"📖",title:"No session available yet",subtitle:"Try to launch the rocket !"})))}}])&&w(n.prototype,o),i&&w(n,i),t}(),P=(0,o.connect)(function(e){return{sessions:Object.values(e.sessions.entities).sort(function(e,t){return new Date(e.time)-new Date(t.time)}),loading:e.sessions.loading}},function(){return{}})(k),_=(0,i.withToastManager)(P);t.default=_},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=(0,o(n(753)).default)({createElement:r.default.createElement,elements:{p:function(e){var t=e.children,n=(e.context,a(e,["children","context"]));return r.default.createElement("span",n,t)},codespan:function(e){var t=e.children,n=a(e,["children"]);return r.default.createElement("code",n,t)},ul:function(e){var t=e.children;a(e,["children"]);return t},li:function(e){var t=e.children;a(e,["children"]);return r.default.createElement("span",null,"- ",t)}}});t.default=i},777:function(e,t){},780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(111));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l={wrapper:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"2em 0"}},u=function(e){i({},e);return r.default.createElement("div",{style:l.wrapper},r.default.createElement(o.default,{emoji:"🗺️",title:"Are you lost ?",subtitle:"Nothing to see here, sorry !"}))};t.default=u},781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=t.ToastContainer=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(250),a=n(805),i=n(334);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=o.StyleSheet.create({shrink:{animationName:{from:{height:"100%"},to:{height:"0%"}}}}),d={container:{position:"fixed",bottom:0,left:0,boxSizing:"border-box",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",padding:"0 1em",zIndex:10},toast:{width:"50vw",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.175)",display:"flex",marginBottom:"1em"},appearances:{success:{icon:i.CheckIcon,text:"hsl(154, 100%, 30%)",fg:"hsl(154, 99%, 40%)",bg:"hsl(154, 100%, 99%)"},error:{icon:i.FlameIcon,text:"hsl(12, 100%, 40%)",fg:"hsl(12, 99%, 60%)",bg:"hsl(12, 100%, 99%)"},warning:{icon:i.AlertIcon,text:"hsl(33, 100%, 50%)",fg:"hsl(40, 100%, 50%)",bg:"hsl(48, 100%, 99%)"},info:{icon:i.InfoIcon,text:"hsl(218, 20%, 40%)",fg:"hsl(218, 100%, 60%)",bg:"white"}},text:{position:"absolute"},button:{cursor:"pointer",flexShrink:0,opacity:.5,padding:"0.5em",transition:"opacity 150ms"},content:{flexGrow:1,fontSize:"0.825em",lineHeight:1.4,padding:"0.5em 0.75em"},icon:{flexShrink:0,padding:"0.5em",position:"relative",overflow:"hidden",textAlign:"center"},timeout:{backgroundColor:"rgba(0, 0, 0, 0.1)",bottom:0,height:0,left:0,position:"absolute",width:"100%"},svg:{position:"relative",zIndex:1}};t.ToastContainer=function(e){var t=e.children,n=(e.autoDismissTimeout,e.transitionDuration,s(e,["children","autoDismissTimeout","transitionDuration"]));return r.default.createElement("div",l({},n,{style:u({},d.container,{pointerEvents:r.Children.count(t)?"auto":"none"},n.style||{})}),r.default.createElement(a.TransitionGroup,{component:null},t))};t.Toast=function(e){var t=e.appearance,n=e.autoDismiss,a=e.autoDismissTimeout,l=e.children,c=(e.onExited,e.onDismiss),s=(e.placement,e.transitionDuration),p=e.transitionState;return r.default.createElement("div",{style:u({},d.toast,{backgroundColor:d.appearances[t].bg,color:d.appearances[t].text,transition:"transform ".concat(s,"ms cubic-bezier(0.2, 0, 0, 1)")},{entering:{transform:"translate3d(-120%, 0, 0)"},entered:{transform:"translate3d(0, 0, 0)"},exiting:{transform:"translate3d(-120%, 0, 0)"},exited:{transform:"translate3d(-120%, 0, 0)"}}[p])},r.default.createElement("div",{style:u({},d.icon,{backgroundColor:d.appearances[t].fg,color:d.appearances[t].bg})},r.default.createElement("div",{className:(0,o.css)(f.shrink),style:u({},d.timeout,{animationTimingFunction:"linear",animationDuration:"".concat(a,"ms"),opacity:n?1:0})}),r.default.createElement(d.appearances[t].icon,{style:d.svg,fill:d.appearances[t].bg})),r.default.createElement("div",{style:d.content},l),c?r.default.createElement("div",{onClick:c,role:"button",style:d.button},r.default.createElement(i.CloseIcon,null)):null)}},782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.epic=void 0;var r=n(251),o=n(199),a=u(n(783)),i=u(n(784)),l=u(n(785));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var c=(0,r.combineReducers)({jobs:a.default,plex:i.default,sessions:l.default}),s=(0,o.combineEpics)(a.epics,i.epics,l.epics);t.epic=s;var f=(0,o.createEpicMiddleware)(),d=(0,r.compose)((0,r.applyMiddleware)(f)),p=(0,r.createStore)(c,d);f.run(s);var y=p;t.default=y},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},e,t.jobs);default:return e}},t.epics=t.amendJobs=void 0;var r,o=n(199),a=n(48),i=n(47),l=(r=n(193))&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={},s="sensorr/jobs/AMEND_JOBS";var f=function(e){return{type:s,jobs:e}};t.amendJobs=f;var d=(0,o.combineEpics)(function(e){return(0,a.fromEvent)(l.default,"jobs").pipe((0,i.map)(function(e){var t=e.jobs;return f(t)}))});t.epics=d},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},e,{status:t.status,err:t.err});default:return e}},t.epics=t.amendStatus=void 0;var r,o=n(199),a=n(48),i=n(47),l=(r=n(193))&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={status:"unknown",err:null},s="sensorr/plex/AMEND_STATUS";var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:s,status:e,err:t}};t.amendStatus=f;var d=(0,o.combineEpics)(function(e){return(0,a.fromEvent)(l.default,"plex").pipe((0,i.map)(function(e){var t=e.status,n=e.err;return f(t,n)}))});t.epics=d},785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return u({},e,{loading:!1,entities:u({},e.entities,t.sessions)});default:return e}},t.epics=t.amendSessions=void 0;var r,o=n(199),a=n(48),i=n(47),l=(r=n(193))&&r.__esModule?r:{default:r};function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={loading:!0,entities:{}},f="sensorr/sessions/AMEND_SESSIONS";var d=function(e){return{type:f,sessions:e}};t.amendSessions=d;var p=(0,o.combineEpics)(function(e){return(0,a.fromEvent)(l.default,"sessions").pipe((0,i.map)(function(e){var t=e.sessions;return d(t)}))});t.epics=p},786:function(e,t,n){"use strict";n(787),n(790),n(795),n(800),n(802)},787:function(e,t,n){var r=n(788);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(122)(r,o);r.locals&&(e.exports=r.locals)},788:function(e,t,n){t=e.exports=n(121)(!1);var r=n(249)(n(789));t.push([e.i,"@font-face {\n  font-family: 'Maison Mono';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Maison Mono '),\n    local('Maison-Mono'),\n    url("+r+") format('woff');\n}\n",""])},789:function(e,t,n){e.exports=n.p+"assets/fonts/maison-latin-400.4cffdca228e706834c5afd62be58a6fa.woff"},790:function(e,t,n){var r=n(791);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(122)(r,o);r.locals&&(e.exports=r.locals)},791:function(e,t,n){t=e.exports=n(121)(!1);var r=n(249),o=r(n(792)),a=r(n(793)),i=r(n(794));t.push([e.i,"@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Raleway Regular '),\n    local('Raleway-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Raleway SemiBold '),\n    local('Raleway-SemiBold'),\n    url("+a+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Raleway ExtraBold '),\n    local('Raleway-ExtraBold'),\n    url("+i+") format('woff');\n}\n",""])},795:function(e,t,n){var r=n(796);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(122)(r,o);r.locals&&(e.exports=r.locals)},796:function(e,t,n){t=e.exports=n(121)(!1);var r=n(249),o=r(n(797)),a=r(n(798)),i=r(n(799));t.push([e.i,"@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Open Sans Regular '),\n    local('Open Sans-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Open Sans SemiBold '),\n    local('Open Sans-SemiBold'),\n    url("+a+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Open Sans ExtraBold '),\n    local('Open Sans-ExtraBold'),\n    url("+i+") format('woff');\n}\n",""])},800:function(e,t,n){var r=n(801);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(122)(r,o);r.locals&&(e.exports=r.locals)},801:function(e,t,n){(e.exports=n(121)(!1)).push([e.i,"* {\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n\nhtml {\n  scroll-behavior: smooth;\n  font-size: 16px;\n}\n\nbody {\n  position: relative;\n  font-size: 1rem;\n  font-family: 'Raleway';\n  list-style: none;\n}\n\nb, strong {\n  font-weight: bold;\n}\n\nem {\n  font-style: italic;\n}\n",""])},802:function(e,t,n){var r=n(803);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(122)(r,o);r.locals&&(e.exports=r.locals)},803:function(e,t,n){(e.exports=n(121)(!1)).push([e.i,"@-webkit-keyframes bounce {\n  0%, 100% { -webkit-transform: scale(0.0) }\n  50% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 50% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n",""])}});