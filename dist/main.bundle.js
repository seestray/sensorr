!function(e){function t(t){for(var r,i,l=t[0],c=t[1],s=t[2],f=0,p=[];f<l.length;f++)i=l[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;a.push([323,1]),n()}({102:function(e,t,n){"use strict";var r=n(296),o=n.n(r),a=n(37),i=new o.a({sync:"".concat(location.protocol,"//").concat(a.a.config.auth.username,":").concat(a.a.config.auth.password,"@").concat(location.host,"/db")});t.a=i},103:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.payload=t}var t,r,o;return t=e,(r=[{key:"normalize",value:function(){return{id:this.payload.id.toString(),title:this.payload.title,original_title:this.payload.original_title,year:this.payload.year?this.payload.year:(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear(),poster_path:this.payload.poster_path,state:this.payload.state||"wished",time:Date.now()}}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=r},115:function(e,t,n){"use strict";(function(e){var r=new(n(142).b)({key:e.config.tmdb});t.a=r}).call(this,n(34))},142:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(295),o=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.key;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=n,this.base="https://api.themoviedb.org/3/"}var t,n,r;return t=e,(n=[{key:"build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.language=localStorage.getItem("language"),t.api_key=this.key,"".concat(this.base).concat(e.join("/"),"?").concat(o.a.stringify(t))}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(this.build(e,t)).then(function(e){return e.json()})})}])&&a(t.prototype,n),r&&a(t,r),e}();t.b=i;var l={28:"Action",12:"Aventure",16:"Animation",35:"Comédie",80:"Crime",99:"Documentaire",18:"Drame",10751:"Familial",14:"Fantastique",36:"Histoire",27:"Horreur",10402:"Musique",9648:"Mystère",10749:"Romance",878:"Science-Fiction",10770:"Téléfilm",53:"Thriller",10752:"Guerre",37:"Western"}},296:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n(611);c.plugin(n(613)),c.plugin(n(576));var s={movies:{title:"movie",version:1,description:"Describe a TMDB movie",type:"object",required:["id","title","year","poster_path"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"wished"},imdb_id:{type:"string"},title:{type:"string"},original_title:{type:"string"},year:{type:"number"},poster_path:{type:"string"},time:{type:"number"}}}},u={movies:{1:function(e){return e.time=Date.now(),e}}},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=null,this.options=t}var t,n,o,f,p;return t=e,(n=[{key:"bootstrap",value:(f=regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.sync,o=a(t,["sync"]),e.next=3,c.create(r({name:"sensorr",adapter:"idb"},o));case 3:return i=e.sent,e.next=6,Promise.all(Object.keys(s).map(function(e){return i.collection({name:e,schema:s[e],migrationStrategies:u[e]}).then(function(e){return"string"==typeof n?e.sync({remote:"".concat(n,"/sensorr")}):null})}));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}),p=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=f.apply(e,t);function a(e){i(o,n,r,a,l,"next",e)}function l(e){i(o,n,r,a,l,"throw",e)}a(void 0)})},function(){return p.apply(this,arguments)})},{key:"get",value:function(){return this.instance||(this.instance=this.bootstrap()),this.instance}}])&&l(t.prototype,n),o&&l(t,o),e}();e.exports=f},302:function(e,t){},311:function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(92),c=l.from,s=l.of,u=n(76),f=u.tap,p=u.map,m=u.toArray,y=u.concatAll,d=u.filter,h=u.mergeMap,g=u.pluck,b=u.timeout,v=u.retry,w=u.catchError,O=n(579),E=n(581),j=n(582),S=n(587),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SIMILARITY_MINIMUM_SCORE=.6,this.options=n,this.config=o({tmdb:"",blackhole:"/tmp",xznabs:[],filter:"",sort:"seeders",descending:!1},S,t),this.xznabs=(this.config.xznabs||[]).map(function(e){return new j(e,n)})}var t,n,l;return t=e,(n=[{key:"filter",value:function(e){return function(t){return e.split(",").length===e.split(",").map(function(e){var t={pattern:e.trim(),key:"original",negate:!1};return"!"===t.pattern.charAt(0)&&(t.negate=!0,t.pattern=t.pattern.slice(1)),t.pattern.match(/=/)&&(t.key=t.pattern.split("=")[0],t.pattern=t.pattern.split("=")[1]),t}).map(function(e){var n=e.negate,r=e.pattern,o=e.key,a=new RegExp("(".concat(r,")"),"i").test((t.meta[o]||"").toString());return n?!a:a}).reduce(function(e,t){return e+t},0)}}},{key:"sort",value:function(e,t){return function(n,r){if(t){if(n[e]<r[e])return 1;if(n[e]>r[e])return-1}else{if(n[e]<r[e])return-1;if(n[e]>r[e])return 1}return 0}}},{key:"look",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(this.xznabs).pipe(h(function(r){return c(e.original_title&&e.original_title!==e.title?[e.title,e.original_title]:[e.title]).pipe(p(function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}),h(function(a){return s(a).pipe(f(function(e){return"function"==typeof i.search&&i.search(r,e)}),h(function(e){return r.search(e)}),b(15e3),v(2),w(function(){return s({items:[]})}),g("items"),f(function(e){return"function"==typeof i.found&&i.found(r,a,e)}),y(),p(function(e){return o({},e,{meta:O.parse(e.title,{strict:!1,flagged:!0,defaults:{language:"ENGLISH",resolution:"SD",year:0}})})}),p(function(e){return o({},e,{score:E.compareTwoStrings(a,e.meta.title).toFixed(2),valid:!0,warning:0})}),p(function(e){return e.valid?o({},e,{valid:e.seeders,reason:"No seeders (0)",warning:2}):e}),p(function(e){return e.valid?o({},e,{valid:e.score>=t.SIMILARITY_MINIMUM_SCORE,reason:"Score too low : ".concat(e.score),warning:2}):e}),p(function(t){return t.valid?o({},t,{valid:new Date(t.publishDate).getFullYear()>=e.year,reason:"Release published year (".concat(new Date(t.publishDate).getFullYear(),") prior to movie release year (").concat(e.year,")"),warning:2}):t}),p(function(t){return t.valid?o({},t,{valid:0===parseInt(t.meta.year)||parseInt(t.meta.year)===e.year,reason:"Release year (".concat(t.meta.year,") ").concat(0===parseInt(t.meta.year)?"unknown":"different from movie year (".concat(e.year,")")),warning:2}):t}),p(function(e){return e.valid?o({},e,{valid:t.filter(t.config.filter)(e),reason:"Release doesn't pass configured filtering (".concat(t.config.filter,")"),warning:1}):e}),p(function(e){return o({},e,{reason:e.valid?null:e.reason,warning:e.valid?0:e.warning})}),f(function(e){return"function"==typeof i.release&&i.release(r,a,e)}),d(function(e){return!n||e.valid}))},null,1))},null,1),m(),p(function(e){return Object.values(e.reduce(function(e,t){return o({},e,a({},t.guid,r(e[t.guid]||[]).concat([t])))},{})).map(function(e){return e.sort(function(e,t){return t.score-e.score}).shift()})}))}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=x},314:function(e,t,n){"use strict";(function(e){var r,o=n(0),a=n.n(o),i=n(9),l=n.n(i),c=n(103),s=n.n(c),u=n(101),f=n(93),p=n(79),m=n(315),y=n.n(m),d=n(37),h=n(6);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={element:{},container:{display:"flex",flexDirection:"column"},search:{position:"sticky",top:"-1px",backgroundColor:h.a.colors.primary,color:h.a.colors.white,fontWeight:800,textTransform:"uppercase",zIndex:1},column:{padding:"1em"},input:(r={width:"100%",backgroundColor:h.a.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},S(r,"padding","0.75em 1em"),S(r,"textAlign","center"),S(r,"color",h.a.colors.secondary),S(r,"fontFamily","inherit"),r),filter:{backgroundColor:h.a.colors.grey,color:h.a.colors.secondary,fontWeight:800,textTransform:"uppercase",padding:"1em"},row:{display:"flex",flexDirection:"row",flexGrow:0,flexWrap:"wrap",width:"100%"},rows:{title:{width:"60%"},site:{width:"12%"},peers:{width:"6%"},seeders:{width:"8%"},size:{width:"8%"},grab:{width:"6%"}},cell:{textAlign:"center",fontFamily:h.a.fonts.secondary,padding:"1em",borderBottom:"1px solid ".concat(h.a.colors.grey),overflow:"hidden",whiteSpace:"nowrap"},link:{color:h.a.colors.primary},grab:{cursor:"pointer",fontSize:"2em",textDecoration:"none"}},k=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=O(n).call(this,e))||"object"!==g(o)&&"function"!=typeof o?j(r):o).state={releases:[],loading:!0,sort:d.a.config.sort,descending:d.a.config.descending,filter:d.a.config.filter},t.handleSortChange=t.handleSortChange.bind(j(j(t))),t.handleQueryChange=t.handleQueryChange.bind(j(j(t))),t.handleGrabClick=t.handleGrabClick.bind(j(j(t))),t}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,o["PureComponent"]),r=n,(i=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100),d.a.look(new s.a(this.props.movie).normalize()).subscribe(function(t){return e.setState({releases:t})},function(t){e.setState({loading:!1}),console.warn(t)},function(){e.setState({loading:!1}),setTimeout(function(){return document.getElementById("releases").scrollIntoView()},100)})}},{key:"handleQueryChange",value:function(e){this.setState({filter:e.target.value})}},{key:"handleSortChange",value:function(e){this.setState({sort:e,descending:e===this.state.sort?!this.state.descending:this.state.descending})}},{key:"handleGrabClick",value:function(t){var n=this.props.toastManager;n.add(a.a.createElement("span",null,"Trying to grab release ",a.a.createElement("strong",null,t.title),"..."),{appearance:"info",autoDismiss:!0}),fetch("/api/grab",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(d.a.config.auth.username,":").concat(d.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({release:t})}).then(function(e){try{e.json().then(function(r){e.ok?n.add(a.a.createElement("span",null,"Release ",a.a.createElement("strong",null,t.title)," grabbed to ",a.a.createElement("strong",null,r.filename)),{appearance:"success",autoDismiss:!0}):n.add(a.a.createElement("span",null,"Something went wrong during ",a.a.createElement("strong",null,t.title)," grabing : ",a.a.createElement("strong",null,r.reason)),{appearance:"error",autoDismiss:!0})})}catch(r){n.add(a.a.createElement("span",null,"Unexpected error during ",a.a.createElement("strong",null,t.title)," grabing : ",a.a.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.sort,o=t.descending,i=t.releases,l=t.filter;v(t,["loading","sort","descending","releases","filter"]);return a.a.createElement("div",{key:"releases",id:"releases",style:x.element},a.a.createElement("div",{style:x.container},a.a.createElement("div",{style:x.search},a.a.createElement("div",{style:x.row},a.a.createElement("div",{style:b({},x.column,x.rows.title,{cursor:"pointer"}),onClick:function(){return e.handleSortChange("title")}},"Title"),a.a.createElement("div",{style:b({},x.column,x.rows.site,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("site")}},"Source"),a.a.createElement("div",{style:b({},x.column,x.rows.peers,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("peers")}},"Peers"),a.a.createElement("div",{style:b({},x.column,x.rows.seeders,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("seeders")}},"Seeders"),a.a.createElement("div",{style:b({},x.column,x.rows.size,{cursor:"pointer",textAlign:"center"}),onClick:function(){return e.handleSortChange("size")}},"Size"),a.a.createElement("div",{style:b({},x.column,x.rows.grab,{textAlign:"center"})},"Grab")),a.a.createElement("div",{style:x.row},a.a.createElement("input",{type:"text",defaultValue:l,onKeyUp:this.handleQueryChange,style:x.input,placeholder:"Filter..."}))),n||i.filter(d.a.filter(l)).length?i.filter(d.a.filter(l)).sort(d.a.sort(r,o)).map(function(t,n){return a.a.createElement("div",{key:n,style:x.row},a.a.createElement("div",{title:t.valid?"Score : ".concat(t.score):t.reason,style:b({},x.cell,x.rows.title,{flexGrow:1,textAlign:"left",textOverflow:"ellipsis"})},a.a.createElement("span",{style:{opacity:[1,.5,.25][t.warning]}},t.title)),a.a.createElement("div",{style:b({},x.cell,x.rows.site)},a.a.createElement("a",{href:t.guid,style:x.link},t.site)),a.a.createElement("div",{style:b({},x.cell,x.rows.peers)},t.peers),a.a.createElement("div",{style:b({},x.cell,x.rows.seeders)},t.seeders),a.a.createElement("div",{style:b({},x.cell,x.rows.size,{textAlign:"right"})},y()(t.size)),a.a.createElement("div",{style:b({},x.cell,x.rows.grab,{display:"flex",alignItems:"center",justifyContent:"center",padding:0})},a.a.createElement("a",{href:"/proxy?url=".concat(window.btoa(t.link)),style:x.grab,target:"_blank",onClick:function(n){n.preventDefault(),e.handleGrabClick(t)}},"🎟")))}):a.a.createElement("div",{style:x.row},a.a.createElement(f.a,null))),n&&a.a.createElement("div",{style:x.loading},a.a.createElement(p.a,null)))}}])&&w(r.prototype,i),l&&w(r,l),n}();S(k,"propTypes",{movie:l.a.object.isRequired}),t.a=Object(u.withToastManager)(k)}).call(this,n(112).Buffer)},316:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(50),i=n(101),l=n(37),c=n(6);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g={element:{display:"flex",flexDirection:"column",padding:"2em 2em 3em"},column:{display:"flex"},section:{padding:"1em",display:"flex",flexDirection:"column"},title:{padding:"0 0 0.5em",fontSize:"2em",fontWeight:"bold",color:c.a.colors.black},paragraph:{lineHeight:1.75,color:c.a.colors.black},list:{lineHeight:1.75,listStyle:"inside"},link:{color:c.a.colors.primary},input:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",whiteSpace:"nowrap"},code:{backgroundColor:c.a.colors.primary,padding:"0.125em 0.375em",borderRadius:"0.25em",fontFamily:c.a.fonts.secondary,fontSize:"0.875em",fontWeight:600,color:c.a.colors.white},button:{cursor:"pointer",backgroundColor:c.a.colors.primary,color:c.a.colors.white,padding:"1em 1.25em 0.75em",border:"none",fontFamily:c.a.fonts.primary,fontSize:"1.125em",fontWeight:"bold",textTransform:"uppercase"},remove:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"0 0 0 1em"},add:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"1em"}},b="TMDB API Key (v3 auth)",v="/tmp",w={name:"Name",url:"http://localhost:5060/torznab/aggregate/api",key:"API Key"},O="resolution=720p|1080p, source=BLURAY",E="seeders",j=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=y(n).call(this,e))||"object"!==s(o)&&"function"!=typeof o?h(r):o).state={values:f({},l.a.config)},t.handleSubmit=t.handleSubmit.bind(h(h(t))),t.handleChange=t.handleChange.bind(h(h(t))),t}var i,c,j;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r["PureComponent"]),i=n,(c=[{key:"handleSubmit",value:function(t){t.preventDefault();var n=this.props.toastManager,r=f({},this.state.values,{xznabs:this.state.values.xznabs.filter(function(e){return e.name&&e.url&&e.key})});fetch("/api/configure",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(l.a.config.auth.username,":").concat(l.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({config:r})}).then(function(e){try{e.json().then(function(t){e.ok?(n.add(o.a.createElement("span",null,"Configuration updated ! Reloading page..."),{appearance:"success",autoDismiss:!0}),setTimeout(function(){return location.reload()},5e3)):n.add(o.a.createElement("span",null,"Something went wrong during configuration update : ",o.a.createElement("strong",null,t.reason)),{appearance:"error",autoDismiss:!0})})}catch(t){n.add(o.a.createElement("span",null,"Unexpected error during configuration update : ",o.a.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"handleChange",value:function(e,t){this.setState({values:f({},this.state.values,p({},e,t))})}},{key:"render",value:function(){var e=this,t=this.state.values;return o.a.createElement(r.Fragment,null,o.a.createElement(a.Helmet,null,o.a.createElement("title",null,"Sensorr - Configure")),o.a.createElement("form",{style:g.element,onSubmit:this.handleSubmit},o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"Authentication"),o.a.createElement("p",{style:g.paragraph},"To securize your Sensorr instance you can fill a username and a password. Leave blank for no authentication.",o.a.createElement("br",null),o.a.createElement("br",null),"Specify ",o.a.createElement("code",{style:g.code},"username")," and ",o.a.createElement("code",{style:g.code},"password")," :"),o.a.createElement("div",{style:g.column},o.a.createElement("input",{type:"text",placeholder:"Username",style:f({},g.input,{marginRight:"1em"}),defaultValue:t.auth.username,onChange:function(n){return e.handleChange("auth",f({},t.auth,{username:n.target.value}))}}),o.a.createElement("input",{type:"text",placeholder:"Password",style:f({},g.input,{marginLeft:"1em"}),defaultValue:t.auth.password,onChange:function(n){return e.handleChange("auth",f({},t.auth,{password:n.target.value}))}}))),o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"TMDB"),o.a.createElement("p",{style:g.paragraph},"Sensorr is powered by ",o.a.createElement("a",{href:"https://www.themoviedb.org/",style:g.link},"The Movie Database")," API, to works properly, you need to fill ",o.a.createElement("a",{href:"https://www.themoviedb.org/settings/api",style:g.link},"your own API Key (v3 auth)"),".",o.a.createElement("br",null),o.a.createElement("br",null),"Specify ",o.a.createElement("code",{style:g.code},"API Key")," (v3 auth) :"),o.a.createElement("input",{type:"text",placeholder:b,style:g.input,defaultValue:t.tmdb,onChange:function(t){return e.handleChange("tmdb",t.target.value)}})),o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"Blackhole"),o.a.createElement("p",{style:f({},g.paragraph,{flex:1})},"Sensorr works with ",o.a.createElement("strong",null,"XZNAB")," API servers and will download any ",o.a.createElement("code",{style:g.code},".torrent")," or ",o.a.createElement("code",{style:g.code},".nzb")," file into defined Server ",o.a.createElement("code",{style:g.code},"blackhole")," path.",o.a.createElement("br",null),"If you run Sensorr from ",o.a.createElement("a",{href:"https://hub.docker.com/r/thcolin/sensorr/",style:g.link},"Docker")," image, keep it to ",o.a.createElement("code",{style:g.code},"/app/sensorr/blackhole"),".",o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("p",{style:g.paragraph},"Here you need to fill ",o.a.createElement("strong",null,"server")," blackhole ",o.a.createElement("strong",null,"path")," :"),o.a.createElement("input",{type:"text",placeholder:v,style:g.input,defaultValue:t.blackhole,onChange:function(t){return e.handleChange("blackhole",t.target.value)}})),o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"XZNAB"),o.a.createElement("p",{style:g.paragraph},"Sensorr works with ",o.a.createElement("strong",null,"XZNAB")," (",o.a.createElement("a",{href:"https://github.com/Sonarr/Sonarr/wiki/Implementing-a-Torznab-indexer",style:g.link},"Torznab")," or ",o.a.createElement("a",{href:"http://www.newznab.com/",style:g.link},"Newznab"),") API servers, add as many as you wish, they will be used to perform looks query.",o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("p",{style:g.paragraph},"Example:"),o.a.createElement("ul",{style:g.list},o.a.createElement("li",null,"Jackett: ",o.a.createElement("code",{style:g.code},"http://localhost:9117/api/v2.0/indexers/xxx/results/torznab/")),o.a.createElement("li",null,"Cardigann: ",o.a.createElement("code",{style:g.code},"http://localhost:5060/torznab/xxx/api")," (don't forget ",o.a.createElement("code",{style:g.code},"/api")," after copied Cardigann Torznab link !)")),(t.xznabs.length?t.xznabs:[{name:"",url:"",key:""}]).map(function(t,n,r){return o.a.createElement("div",{style:g.column,key:n},o.a.createElement("input",{type:"text",placeholder:w.name,style:f({},g.input,{marginRight:"1em"}),value:t.name,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?f({},t,{name:o.target.value}):e}))}}),o.a.createElement("input",{type:"text",placeholder:w.url,style:f({},g.input,{marginLeft:"1em",marginRight:"1em"}),value:t.url,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?f({},t,{url:o.target.value}):e}))}}),o.a.createElement("input",{type:"text",placeholder:w.key,style:f({},g.input,{marginLeft:"1em"}),value:t.key,onChange:function(o){return e.handleChange("xznabs",r.map(function(e,r){return r===n?f({},t,{key:o.target.value}):e}))}}),o.a.createElement("div",{style:g.remove,onClick:function(){return e.handleChange("xznabs",r.filter(function(e,t){return t!==n}))}},"🗑️"))}),o.a.createElement("div",{style:g.add,onClick:function(){return e.handleChange("xznabs",u(t.xznabs).concat([{name:"",url:"",key:""}]))}},"🌱")),o.a.createElement("div",{style:g.column},o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"Filter"),o.a.createElement("p",{style:f({},g.paragraph,{flex:1})},"When using CLI with ",o.a.createElement("code",{style:g.code},"-a")," or ",o.a.createElement("code",{style:g.code},"--auto")," option, results will be filtered with defined ",o.a.createElement("code",{style:g.code},"filter"),"  This is just a ",o.a.createElement("a",{href:"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/RegExp",style:g.link},"RegExp"),", you can have multiple filters, just separate theme with ",o.a.createElement("code",{style:g.code},","),"  You can filter by specific property and normalized value, see ",o.a.createElement("a",{href:"https://raw.githubusercontent.com/thcolin/oleoo/master/src/rules.json",style:g.link},"full list"),".",o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("p",{style:g.paragraph},"Here you need to specify comma separated ",o.a.createElement("a",{href:"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/RegExp",style:g.link},"RegExp")," :"),o.a.createElement("input",{type:"text",placeholder:O,style:g.input,defaultValue:t.filter,onChange:function(t){return e.handleChange("filter",t.target.value)}})),o.a.createElement("div",{style:g.section},o.a.createElement("h1",{style:g.title},"Sort"),o.a.createElement("p",{style:f({},g.paragraph,{flex:1})},"Same as filter, used by CLI with ",o.a.createElement("code",{style:g.code},"-a")," or ",o.a.createElement("code",{style:g.code},"--auto")," option to sort results, define sort property among :  ",o.a.createElement("code",{style:g.code},"seeders"),", ",o.a.createElement("code",{style:g.code},"peers")," and ",o.a.createElement("code",{style:g.code},"size"),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("p",{style:g.paragraph},"Here you need to specify ",o.a.createElement("strong",null,"sort property")," :"),o.a.createElement("div",{style:g.column},o.a.createElement("input",{type:"text",placeholder:E,style:g.input,defaultValue:t.sort,onChange:function(t){return e.handleChange("sort",t.target.value)}}),o.a.createElement("label",{htmlFor:"descending",style:g.input},o.a.createElement("input",{id:"descending",type:"checkbox",defaultChecked:t.descending,onChange:function(t){return e.handleChange("descending",t.target.checked)},style:{marginRight:"1em"}}),"Descending")))),o.a.createElement("button",{type:"submit",style:f({},g.button,{marginTop:"1em"})},"💾  Save")))}}])&&m(i.prototype,c),j&&m(i,j),n}();t.a=Object(i.withToastManager)(j)}).call(this,n(112).Buffer)},317:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(50),i=n(101),l=n(318),c=n.n(l),s=n(47),u=n(79),f=n(93),p=n(319),m=n(37),y=n(6);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j={element:{padding:"1em"},group:{display:"flex",padding:"1em"},film:{flexShrink:0},scroller:{flexGrow:1,overflowX:"auto",padding:"0.5em 0 1em",margin:"0 1em",fontFamily:y.a.fonts.monospace,fontSize:"0.75em",lineHeight:"1.75em"},title:{fontWeight:"bold",margin:"0 0 0.5em 0.25em"},wrapper:{display:"flex"},container:{flex:1,display:"inline-flex",flexDirection:"column",whiteSpace:"nowrap"},text:{cursor:"pointer",padding:"0 2em 0 1em"},data:{flex:1,whiteSpace:"pre",backgroundColor:y.a.colors.grey,borderRadius:"0.5em",margin:"1em",padding:"1em 2em"}},S=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=w(n).call(this,e))||"object"!==d(o)&&"function"!=typeof o?E(r):o).state={lines:[],done:!1,data:null},t.handleLoadMore=t.handleLoadMore.bind(E(E(t))),t}var i,l,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(n,r["PureComponent"]),i=n,(l=[{key:"handleLoadMore",value:function(){var t=this,n=this.state.lines;fetch("/api/history?start=".concat(n.length,"&end=").concat(n.length+200),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(m.a.config.auth.username,":").concat(m.a.config.auth.password)).toString("base64"))})}).then(function(e){try{e.json().then(function(n){e.ok&&t.setState({lines:b(t.state.lines).concat(b(n.history)),done:n.history.length<200})})}catch(t){toastManager.add(o.a.createElement("span",null,"Unexpected error during history fetch : ",o.a.createElement("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.lines,i=t.done,l=t.data,m=(g(t,["lines","done","data"]),n.reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({},e,h({},t.data.uuid,[t].concat(b(e[t.data.uuid]||[]))))},{}));return o.a.createElement(r.Fragment,null,o.a.createElement(a.Helmet,null,o.a.createElement("title",null,"Sensorr - History")),o.a.createElement(c.a,{pageStart:0,loadMore:this.handleLoadMore,hasMore:!i,loader:o.a.createElement(u.a,{key:"spinner"}),style:j.element},i&&!Object.keys(m).length&&o.a.createElement(f.a,null),Object.keys(m).map(function(t){var n=m[t];return o.a.createElement("div",{style:j.group,key:t},n[0].data.movie&&o.a.createElement("div",{style:j.film},o.a.createElement(s.a,{entity:n[0].data.movie})),o.a.createElement("div",{style:j.scroller},o.a.createElement("h4",{style:j.title},"# ",new Date(n[0].ts).toLocaleString()),n.map(function(n,r){return o.a.createElement("div",{style:j.wrapper,key:"".concat(t,"-").concat(r)},o.a.createElement("div",{style:j.container},o.a.createElement("p",{style:j.text,onClick:function(){return e.setState({data:l==="".concat(t,"-").concat(r)?null:"".concat(t,"-").concat(r)})}},Object(p.a)(n.msg).tree),l==="".concat(t,"-").concat(r)&&o.a.createElement("div",{style:j.data},JSON.stringify(n,null,2))),o.a.createElement("br",null))})))})))}}])&&v(i.prototype,l),y&&v(i,y),n}();t.a=Object(i.withToastManager)(S)}).call(this,n(112).Buffer)},319:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(320),i=n.n(a);function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=i()({createElement:o.a.createElement,elements:{p:function(e){var t=e.children,n=(e.context,l(e,["children","context"]));return o.a.createElement("span",n,t)},codespan:function(e){var t=e.children,n=l(e,["children"]);return o.a.createElement("code",n,t)},ul:function(e){var t=e.children;l(e,["children"]);return t},li:function(e){var t=e.children;l(e,["children"]);return o.a.createElement("span",null,"- ",t)}}})},323:function(e,t,n){n(324),n(490),e.exports=n(612)},37:function(e,t,n){"use strict";(function(e,r){var o=n(311),a=new(n.n(o).a)(e.config,{proxify:!0,headers:{Authorization:"Basic ".concat(new r("".concat(e.config.auth.username,":").concat(e.config.auth.password)).toString("base64"))}});t.a=a}).call(this,n(34),n(112).Buffer)},47:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(0),o=n.n(r),a=n(614),i=n(102),l=n(103),c=n.n(l),s=n(6);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w={element:{position:"relative",height:"15em",width:"10em",background:"".concat(s.a.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},state:{cursor:"pointer",position:"absolute",right:"0.5em",top:"0.5em",backgroundColor:s.a.colors.shadows.grey,borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em",userSelect:"none",MozUserSelect:"none"},link:{display:"block"},poster:{cursor:"pointer",maxHeight:"100%",maxWidth:"100%"}},O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?v(r):o).state={doc:null,ready:!1},n.bootstrap=n.bootstrap.bind(v(v(n))),n.handleStateChange=n.handleStateChange.bind(v(v(n))),n}var n,l,s,m,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["PureComponent"]),n=t,(l=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id!==this.props.entity.id&&this.bootstrap()}},{key:"bootstrap",value:(y=d(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get();case 3:return t=e.sent,e.next=6,t.movies.findOne().where("id").eq(this.props.entity.id.toString()).exec();case 6:n=e.sent,this.setState({doc:n?n.toJSON():null}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,this,[[0,10]])})),function(){return y.apply(this,arguments)})},{key:"handleStateChange",value:(m=d(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get();case 2:if(t=e.sent,this.state.doc){e.next=10;break}return e.next=6,t.movies.atomicUpsert(new c.a(p({},this.props.entity,{state:"wished"})).normalize());case 6:n=e.sent,this.setState({doc:n.toJSON()}),e.next=21;break;case 10:if("wished"!==this.state.doc.state){e.next=17;break}return e.next=13,t.movies.atomicUpsert(new c.a(p({},this.props.entity,{state:"archived"})).normalize());case 13:r=e.sent,this.setState({doc:r.toJSON()}),e.next=21;break;case 17:if("archived"!==this.state.doc.state){e.next=21;break}return e.next=20,t.movies.findOne().where("id").eq(this.props.entity.id.toString()).remove();case 20:this.setState({doc:null});case 21:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=(f(t,["entity"]),this.state),i=r.doc,l=r.ready;f(r,["doc","ready"]);return o.a.createElement("div",{title:"".concat(n.title," (").concat(n.year||new Date(n.release_date).getFullYear(),")"),style:p({},w.element,{background:l?"none":w.element.background})},o.a.createElement("span",{style:w.state,onClick:this.handleStateChange},!i&&"🔕",i&&"wished"===i.state&&"🍿",i&&"archived"===i.state&&"📼"),o.a.createElement(a.a,{to:"/movie/".concat(n.id),style:w.link},o.a.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.poster_path),onLoad:function(){return e.setState({ready:!0})},style:w.poster})))}}])&&h(n.prototype,l),s&&h(n,s),t}()},513:function(e,t,n){e.exports=n.p+"assets/images/ToyStory.2c34cca7d461eca741597f663a8bb9a1.jpg"},514:function(e,t,n){e.exports=n.p+"assets/images/2001ASpaceOdyssey.5cce0cd9c490afb26bbd26a8bb617750.jpg"},515:function(e,t,n){e.exports=n.p+"assets/images/Alien.7355ab13599d61dcb50047a04b5aefae.jpg"},516:function(e,t,n){e.exports=n.p+"assets/images/Creed.4c0a52a19aff4435fe05cf29e37f423b.jpg"},517:function(e,t,n){e.exports=n.p+"assets/images/Furious7.360048e34552fd4d08badae137f65210.jpg"},518:function(e,t,n){e.exports=n.p+"assets/images/IndianaJones.2a4ebf5deb647c22984cc5b4c12da395.jpg"},519:function(e,t,n){e.exports=n.p+"assets/images/Jaws.113940b0cb2342445119e560d3c3b472.jpg"},520:function(e,t,n){e.exports=n.p+"assets/images/LordOfTheRings.b8458877dbf11b4fcbffbed1247507d3.jpg"},521:function(e,t,n){e.exports=n.p+"assets/images/MadMaxFuryRoad.3eed84cc09f99ecc5ff0b1ee1182c198.jpg"},522:function(e,t,n){e.exports=n.p+"assets/images/Scream.d8fa6f78b2769db7619a43c1610db094.jpg"},523:function(e,t,n){e.exports=n.p+"assets/images/SilenceOfTheLambs.7c215c32d6e693c7f0010b80767def57.jpg"},524:function(e,t,n){e.exports=n.p+"assets/images/TheBreakfastClub.88a484f210ab7b920995eb999535a4f4.jpg"},525:function(e,t,n){e.exports=n.p+"assets/images/TheMartian.bf5260afc737b75468830ab8f75bcc6a.jpg"},526:function(e,t,n){e.exports=n.p+"assets/images/TheMatrix.edc37d394d21382fda2e51e98a014668.jpg"},540:function(e,t){},582:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(583),u=n(584);e.exports=function(){function e(t,n){var r=t.name,o=t.key,a=t.url,i=n.proxify,l=n.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r,this.key=o,this.url=a,this.options={proxify:i,headers:l||{}}}var t,n,f;return t=e,(n=[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.format="json",e.apikey=this.key;var t="".concat(this.url,"?").concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"));return this.options.proxify?["/proxy?url=".concat(window.btoa(t)),{headers:new Headers(i({"Content-Type":"application/json; charset=utf-8"},this.options.headers))}]:[t]}},{key:"search",value:function(e){return fetch.apply(void 0,a(this.build({q:e.toLowerCase().replace(/[^\sa-zA-Z0-9]/g," ").replace(/[ ]+/," "),Query:e.toLowerCase().replace(/[^\sa-zA-Z0-9]/g," ").replace(/[ ]+/," "),t:"search",cat:"2000,2010,2020,2030,2040,2050,2060"}))).then(function(e){return e.text()}).then(function(e){try{return JSON.parse(e)}catch(n){var t=s.xml2json(e);return{items:(void 0===t.rss.channel.item?[]:Array.isArray(t.rss.channel.item)?t.rss.channel.item:[t.rss.channel.item]).map(function(e){var t=e.torznab,n=o(e,["torznab"]);return i({},t.reduce(function(e,t){return i({},e,l({},t.name,e[t.name]?Array.isArray(e[t.name])?a(e[t.name]).concat([t.value]):[e[t.name],t.value]:t.value))},{}),n)}).map(function(e){var n=e.downloadvolumefactor,r=e.minimumratio,a=e.minimumseedtime,l=e.pubDate,c=e.uploadvolumefactor,s=o(e,["downloadvolumefactor","minimumratio","minimumseedtime","pubDate","uploadvolumefactor"]);return i({},s,{link:u(s.link,"all"),enclosure:u(s.enclosure.url,"all"),grabs:parseInt(s.grabs),size:parseInt(s.size),downloadVolumeFactor:parseInt(n),minimumRatio:parseInt(r),minimumSeedTime:parseInt(a),peers:parseInt(s.peers),publishDate:l,seeders:parseInt(s.seeders),site:s.link.split("".concat(t.rss.channel.atom.href,"dl/")).pop().split("/").shift(),uploadVolumeFactor:parseInt(c),category:Array.isArray(s)?s.category.map(function(e){return parseInt(e)}):parseInt(s.category)})})}}}).then(function(e){return function e(t){switch(r(t)){case"string":case"number":case"boolean":return t;default:return Array.isArray(t)?t.map(function(t){return e(t)}):t instanceof Date?t:null===t?t:Object.keys(t).reduce(function(n,r){return i({},n,l({},r.toUpperCase()===r?r.toLowerCase():"".concat(r.charAt(0).toLowerCase()).concat(r.slice(1)),e(t[r])))},{})}}(e)}).catch(function(e){return console.warn(e),{items:[]}})}}])&&c(t.prototype,n),f&&c(t,f),e}()},587:function(e){e.exports={tmdb:"",blackhole:"/tmp",xznabs:[],filter:"resolution=720p|1080p",sort:"seeders",descending:!0,auth:{username:"sensorr",password:"sensorr"}}},596:function(e,t,n){var r=n(597);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(147)(r,o);r.locals&&(e.exports=r.locals)},597:function(e,t,n){var r=n(216);(e.exports=n(146)(!1)).push([e.i,"@font-face {\n  font-family: 'Maison Mono';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Maison Mono '),\n    local('Maison-Mono'),\n    url("+r(n(598))+") format('woff');\n}\n",""])},598:function(e,t,n){e.exports=n.p+"assets/fonts/maison-latin-400.4cffdca228e706834c5afd62be58a6fa.woff"},599:function(e,t,n){var r=n(600);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(147)(r,o);r.locals&&(e.exports=r.locals)},6:function(e,t,n){"use strict";t.a={colors:{primary:"#01D277",secondary:"#081C24",white:"#FFFFFF",grey:"#EEEEEE",black:"#000000",shadows:{black:"hsla(0, 0%, 0%, 0.75)",grey:"hsla(0, 0%, 0%, 0.5)"}},fonts:{primary:"Raleway",secondary:"Open Sans",monospace:"Maison Mono"}}},600:function(e,t,n){var r=n(216);(e.exports=n(146)(!1)).push([e.i,"@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Raleway Regular '),\n    local('Raleway-Regular'),\n    url("+r(n(601))+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Raleway SemiBold '),\n    local('Raleway-SemiBold'),\n    url("+r(n(602))+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Raleway ExtraBold '),\n    local('Raleway-ExtraBold'),\n    url("+r(n(603))+") format('woff');\n}\n",""])},604:function(e,t,n){var r=n(605);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(147)(r,o);r.locals&&(e.exports=r.locals)},605:function(e,t,n){var r=n(216);(e.exports=n(146)(!1)).push([e.i,"@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Open Sans Regular '),\n    local('Open Sans-Regular'),\n    url("+r(n(606))+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Open Sans SemiBold '),\n    local('Open Sans-SemiBold'),\n    url("+r(n(607))+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Open Sans ExtraBold '),\n    local('Open Sans-ExtraBold'),\n    url("+r(n(608))+") format('woff');\n}\n",""])},609:function(e,t,n){var r=n(610);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(147)(r,o);r.locals&&(e.exports=r.locals)},610:function(e,t,n){(e.exports=n(146)(!1)).push([e.i,"* {\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n\nhtml {\n  scroll-behavior: smooth;\n  font-size: 16px;\n}\n\nbody {\n  position: relative;\n  font-size: 1rem;\n  font-family: 'Raleway';\n}\n\nb, strong {\n  font-weight: bold;\n}\n\nem {\n  font-style: italic;\n}\n\n@-webkit-keyframes bounce {\n  0%, 100% { -webkit-transform: scale(0.0) }\n  50% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 50% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n",""])},612:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(148),i=n(101),l=n(616),c=n(615),s=n(6);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=[{url:n(513),position:"center"},{url:n(514),position:"top"},{url:n(515),position:"top"},{url:n(516),position:"top"},{url:n(517),position:"top"},{url:n(518),position:"top"},{url:n(519),position:"center"},{url:n(520),position:"center"},{url:n(521),position:"center"},{url:n(522),position:"center"},{url:n(523),position:"center"},{url:n(524),position:"center"},{url:n(525),position:"center"},{url:n(526),position:"top"}],b={element:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",backgroundSize:"cover",height:"15em",padding:"0 10em 0 0"},title:{color:s.a.colors.white,fontSize:"6em",fontWeight:800},powered:{display:"flex",color:s.a.colors.white,padding:"0.5em 0"},logo:{width:"3em",height:"3em",margin:"0 1em"},github:{position:"absolute",height:"1.5em",width:"1.5em",bottom:"1em",right:"1em"}},v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,d(t).call(this,e))).state={banner:g[~~(g.length*Math.random())]},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.state,t=e.banner;p(e,["banner"]);return o.a.createElement("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},b.element,{backgroundImage:"url(".concat(t.url,")"),backgroundPosition:t.position})},o.a.createElement("h1",{style:b.title},"Sensorr"),o.a.createElement("div",{style:b.powered},o.a.createElement("span",null,"powered by "),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 251.34 222.81",style:b.logo},o.a.createElement("path",{fill:s.a.colors.primary,d:"M2944.56 2236.34c14.6 0 24.48-9.88 24.48-24.48v-159.28c0-14.6-9.88-24.48-24.48-24.48h-202.37c-14.6 0-24.48 9.88-24.48 24.48v198.33l12.56-14.56v-183.77a11.94 11.94 0 0 1 11.92-11.92h202.37a11.94 11.94 0 0 1 11.92 11.92v159.28a11.94 11.94 0 0 1-11.92 11.92h-183.74l-12.56 12.56-.08-.1",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M61.38 77.29h6.94V49.52h8.64v-6.89H52.74v6.89h8.64v27.77zM99.53 77.29h6.94V42.58h-6.94v13.88H89.14V42.58H82.2v34.71h6.94V63.4h10.39v13.89zM132.25 70.34h-13.02V63.4h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.38v34.71h19.97v-6.95zM68.66 101.35L54.97 86.11h-2.23v35.24h7.04v-19.37l8.88 9.32 8.88-9.32-.04 19.37h7.03V86.11h-2.18l-13.69 15.24z"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M2825.75 2114.16c-23.88 0-23.88 35.77 0 35.77s23.88-35.77 0-35.77zm0 28.59c-13.88 0-13.88-21.45 0-21.45s13.88 21.45 0 21.45z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M165.37 86.65h6.94v34.7h-6.94zM185.07 114.41v-6.94h11.12v-6.94h-11.12v-6.94h12.43v-6.94h-19.37v34.7h19.96v-6.94h-13.02z"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M2780.79 2158.81h-10.34v34.7h10.34c23.1 0 23.1-34.7 0-34.7zm0 27.76h-3.4v-20.82h3.4c13.49 0 13.49 20.82 0 20.82z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M2824 2176.13c2.18-1.5 3.11-4.22 3.2-6.84.15-6.12-3.69-10.53-9.85-10.53h-13.74v34.75h13.74a10.32 10.32 0 0 0 10.24-10.44 8.43 8.43 0 0 0-3.59-6.94zm-13.4-10.44h6.17a3.51 3.51 0 0 1 0 7h-6.17v-7zm6.17 20.87h-6.17v-6.94h6.17a3.41 3.41 0 0 1 3.49 3.45 3.45 3.45 0 0 1-3.49 3.5z",transform:"translate(-2717.71 -2028.09)"}),o.a.createElement("path",{fill:s.a.colors.primary,d:"M144.01 105.38l-9.14-18.73h-8.01l16.37 35.43h1.56l16.36-35.43h-8.01l-9.13 18.73z"}))),o.a.createElement("a",{href:"https://github.com/thcolin/sensorr",target:"_blank",style:b.github},o.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z",transform:"scale(64)",fill:s.a.colors.primary}))))}}])&&m(n.prototype,a),i&&m(n,i),t}(),w=n(614),O=n(294);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C={element:{cursor:"pointer"}},M=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=S(t).call(this,e))||"object"!==E(o)&&"function"!=typeof o?k(r):o,localStorage.getItem("language")||localStorage.setItem("language",window.navigator.languages.filter(function(e){return e.match(/-/)}).reverse().pop()),n.state={language:localStorage.getItem("language")},n.handleChange=n.handleChange.bind(k(k(n))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleChange",value:function(){var e=window.navigator.languages.filter(function(e){return e.match(/-/)}).reverse().pop(),t=localStorage.getItem("language")===e?"en-US":e;localStorage.setItem("language",t),this.setState({language:t}),location.reload()}},{key:"render",value:function(){return o.a.createElement("span",{style:C.element,onClick:this.handleChange},Object(O.flag)(localStorage.getItem("language").split("-").pop()))}}])&&j(n.prototype,a),i&&j(n,i),t}();function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T={element:{position:"relative",display:"flex",justifyContent:"flex-end",alignItems:"center",backgroundColor:s.a.colors.secondary,padding:"2em 0"},menu:{display:"flex",justifyContent:"center",flex:1},link:{color:s.a.colors.white,margin:"0 2em",fontWeight:800,textTransform:"uppercase",textDecoration:"none",paddingBottom:"0.35em"},active:{borderBottom:"0.1em solid ".concat(s.a.colors.white),paddingBottom:"0.25em"},emojis:{position:"absolute",display:"flex",alignItems:"center",justifySelf:"flex-end",padding:"0 1em",fontSize:"2em"},configure:{margin:"0 1em",textDecoration:"none"},logs:{textDecoration:"none"}},_=function(e){D({},e);return o.a.createElement("div",{style:T.element},o.a.createElement("div",{style:T.menu},o.a.createElement(w.a,{to:"/",style:I({},T.link,window.location.pathname.match(/^\/$/)?T.active:{})},"Trending"),o.a.createElement(w.a,{to:"/collection",style:I({},T.link,window.location.pathname.match(/^\/collection$/)?T.active:{})},"Collection"),o.a.createElement(w.a,{to:"/search/movie",style:I({},T.link,window.location.pathname.match(/^\/search/)?T.active:{})},"Search")),o.a.createElement("div",{style:T.emojis},o.a.createElement(M,null),o.a.createElement(w.a,{to:"/configure",style:T.configure,title:"Configure"},"🎚"),o.a.createElement(w.a,{to:"/logs",style:T.logs,title:"History"},"📖")))},z=n(50),A=n(9),N=n.n(A),L=n(93),R=n(79),U=n(115);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){G(e,t,n[t])})}return e}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={element:{padding:"2em 0"},label:{padding:"0 2em",fontSize:"2em",fontWeight:"bold",color:s.a.colors.black},row:{left:0,display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"hidden"},entity:{flex:"0 0 auto"}},K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=q(this,J(t).call(this,e))).state={entities:[],loading:!1},n.reference=o.a.createRef(),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.props.uri&&(this.setState({loading:!0}),U.a.fetch(this.props.uri,this.props.params).then(function(t){return e.setState({loading:!1,entities:e.props.transform(t)||[]})}))}},{key:"componentDidUpdate",value:function(e){var t=this;!this.props.uri||this.props.uri.join("/")===e.uri.join("/")&&JSON.stringify(this.props.params)===JSON.stringify(e.params)?this.reference.current.scroll(0,0):(this.setState({loading:!0}),U.a.fetch(this.props.uri,this.props.params).then(function(e){t.setState({loading:!1,entities:t.props.transform(e)}),t.reference.current.scroll(0,0)}))}},{key:"valid",value:function(e){return e.poster_path||e.profile_path}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=(t.uri,t.params,t.child),a=(t.transform,t.label),i=t.space,l=t.empty,c=B(t,["items","uri","params","child","transform","label","space","empty"]),s=this.state,u=s.entities,f=s.loading;B(s,["entities","loading"]);return o.a.createElement("div",{style:Z.element},o.a.createElement("h1",W({},c,{style:Y({},Z.label,c.style||{})}),a),o.a.createElement("div",{style:Z.row,ref:this.reference},f&&o.a.createElement(R.a,null),!f&&!H(n).concat(H(u)).length&&o.a.createElement(L.a,{style:l}),H(n).concat(H(u)).filter(function(t){return e.valid(t)}).map(function(e,t){return o.a.createElement("div",{key:t,style:Y({},Z.entity,{padding:"".concat(i,"em")})},o.a.createElement(r,{entity:e}))})))}}])&&V(n.prototype,a),i&&V(n,i),t}();G(K,"propTypes",{items:N.a.array,child:N.a.func.isRequired,uri:N.a.array,params:N.a.object,transform:N.a.func,label:N.a.string,space:N.a.number,empty:N.a.object}),G(K,"defaultProps",{items:[],params:{},transform:function(e){return e.results},space:2,empty:{}});var X=n(47),$=n(142);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ie={element:{padding:"2em 0",fontSize:"1.125em"},row:{cursor:"pointer"}},le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=re(t).call(this,e))||"object"!==ee(o)&&"function"!=typeof o?ae(r):o).randomize={year:function(){return Math.min(Math.round(Math.random()*((new Date).getFullYear()-1925)+1925+20*Math.random()),(new Date).getFullYear()-2)},genre:function(){return Object.keys($.a)[Math.floor(Math.random()*Object.values($.a).length)]}},n.state={year:n.randomize.year(),genre:n.randomize.genre()},n.handleRowClick=n.handleRowClick.bind(ae(ae(n))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleRowClick",value:function(e){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,this.randomize[e]()))}},{key:"render",value:function(){var e=this,t=this.state,n=t.year,a=t.genre;te(t,["year","genre"]);return o.a.createElement(r.Fragment,null,o.a.createElement(z.Helmet,null,o.a.createElement("title",null,"Sensorr - Trending")),o.a.createElement("div",{style:ie.element},o.a.createElement(K,{label:"Trending",uri:["trending","movie","week"],params:{sort_by:"popularity.desc"},child:X.a}),o.a.createElement(K,{label:"Discover",uri:["discover","movie"],child:X.a}),o.a.createElement(K,{label:"Discover (".concat(n,")"),title:"Randomize year",uri:["discover","movie"],params:{primary_release_year:n,sort_by:"popularity.desc"},child:X.a,onClick:function(){return e.handleRowClick("year")},style:ie.row}),o.a.createElement(K,{label:"Discover (".concat($.a[a],")"),title:"Randomize genre",uri:["discover","movie"],params:{with_genres:a},child:X.a,onClick:function(){return e.handleRowClick("genre")},style:ie.row})))}}])&&ne(n.prototype,a),i&&ne(n,i),t}(),ce=n(102);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fe(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){fe(a,r,o,i,l,"next",e)}function l(e){fe(a,r,o,i,l,"throw",e)}i(void 0)})}}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be,ve={empty:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 10em)",gridGap:"2rem",justifyContent:"space-between",padding:"2em"},entity:{width:"10em",height:"15em"}},we=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ye(this,de(t).call(this,e))).state={entities:[],buffer:[],subscription:null},n}var n,a,i,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:(c=pe(regeneratorRuntime.mark(function e(){var t,n,r,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get();case 2:return t=e.sent,n=t.movies.find(),e.next=6,n.exec();case 6:r=e.sent,o=n.$.subscribe(function(e){return a.setState({buffer:e.map(function(e){return e.toJSON()})})}),this.setState({subscription:o,entities:r.map(function(e){return e.toJSON()})});case 9:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){!this.state.buffer.length||e.query===this.props.query&&e.filter===this.props.filter||this.setState({entities:this.state.buffer,buffer:[]})}},{key:"componentWillUnmount",value:(l=pe(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.subscription&&this.state.subscription.unsubscribe();case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.query,n=e.filter,r=e.child,a=(ue(e,["query","filter","child"]),this.state),i=a.entities,l=(ue(a,["entities"]),i.sort(function(e,t){return(t.time||0)-(e.time||0)}).filter(function(e){return e.poster_path}).filter(n).filter(function(e){return new RegExp(t,"i").test(e.title)||new RegExp(t,"i").test(e.original_title)||":"===t.substring(0,1)&&t.substring(1)===e.state}));return l.length?o.a.createElement("div",{style:ve.grid},l.map(function(e,t){return o.a.createElement("div",{key:t,style:ve.entity},o.a.createElement(r,{entity:e}))})):o.a.createElement("div",{style:ve.empty},o.a.createElement(L.a,null))}}])&&me(n.prototype,a),i&&me(n,i),t}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ge(we,"propTypes",{query:N.a.string,filter:N.a.func,child:N.a.func.isRequired}),ge(we,"defaultProps",{query:"",filter:function(){return!0}});var Me={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:(be={width:"100%",backgroundColor:s.a.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},Ce(be,"padding","0.75em 1em"),Ce(be,"textAlign","center"),Ce(be,"color",s.a.colors.secondary),Ce(be,"fontFamily","inherit"),be),state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none"}},Ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Se(t).call(this,e))||"object"!==Oe(o)&&"function"!=typeof o?ke(r):o).state={query:"",state:"all"},n.handleQueryChange=n.handleQueryChange.bind(ke(ke(n))),n.handleStateChange=n.handleStateChange.bind(ke(ke(n))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleStateChange",value:function(e){this.setState({state:{all:"wished",wished:"archived",archived:"all"}[e]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.state;Ee({},this.props);return o.a.createElement(r.Fragment,null,o.a.createElement(z.Helmet,null,o.a.createElement("title",null,"Sensorr - Collection")),o.a.createElement("div",null,o.a.createElement("div",{style:Me.filter},o.a.createElement("input",{type:"text",onKeyUp:this.handleQueryChange,style:Me.input,placeholder:"Filter..."}),o.a.createElement("i",{onClick:function(){return e.handleStateChange(a)},title:{all:"All",wished:"Wished",archived:"Archived"}[a],style:Me.state},{all:"📚",wished:"🍿",archived:"📼"}[a])),o.a.createElement(we,{query:n,filter:function(e){return"all"===a||e.state===a},child:X.a})))}}])&&je(n.prototype,a),i&&je(n,i),t}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Le(e,t,n[t])})}return e}function Te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re={link:{textDecoration:"none"},element:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",margin:"0 -2em 0 0",padding:"0 0 3em 0"},poster:{height:"10em",width:"10em",border:"solid 0.375em white",borderRadius:"50%",overflow:"hidden"},img:{width:"100%"},tooltip:{backgroundColor:s.a.colors.shadows.black,borderRadius:"0.25em",fontSize:"2em",color:s.a.colors.white,textAlign:"center",whiteSpace:"nowrap",padding:"0.25em"}},Ue={flat:{element:{},tooltip:{margin:"0.5em 0"}},hover:{element:{width:"10em"},tooltip:{position:"absolute",margin:"5.5em 0"}}},Fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ze(this,Ae(t).call(this,e))).state={ready:!1,tooltip:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=t.brand,a=(Te(t,["entity","brand"]),this.state),i=a.ready,l=a.tooltip;Te(a,["ready","tooltip"]);return o.a.createElement(w.a,{to:"/star/".concat(n.id),style:Re.link},o.a.createElement("div",{style:De({},Re.element,Ue[r].element)},o.a.createElement("div",{style:De({},Re.poster,{backgroundColor:i?"transparent":s.a.colors.grey}),onMouseEnter:function(){return e.setState({tooltip:!0})},onMouseLeave:function(){return e.setState({tooltip:!1})}},o.a.createElement("img",{src:"http://image.tmdb.org/t/p/w300".concat(n.profile_path),onLoad:function(){return e.setState({ready:!0})},style:Re.img})),o.a.createElement("h5",{style:De({},Re.tooltip,Ue[r].tooltip),hidden:"flat"!==r&&!l},n.name)))}}])&&_e(n.prototype,a),i&&_e(n,i),t}();Le(Fe,"propTypes",{entity:N.a.object.isRequired,brand:N.a.oneOf(["flat","hover"])}),Le(Fe,"defaultProps",{brand:"hover"});var He,We=n(279),Ye=n(312),Be=n.n(Ye),Ve=n(313),qe=n.n(Ve)()();function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et={element:{position:"relative"},input:(He={width:"100%",backgroundColor:s.a.colors.grey,border:"none",padding:0,margin:0,fontSize:"1.25em"},$e(He,"padding","0.75em 1em"),$e(He,"textAlign","center"),$e(He,"color",s.a.colors.secondary),$e(He,"fontFamily","inherit"),He),state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none"}},tt=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Ze(t).call(this,e),(n=!a||"object"!==Je(a)&&"function"!=typeof a?Xe(r):a).state={state:e.match.params.state||"movie",query:e.match.params.query||""},n.input=o.a.createRef(),n.debounce=Be()(),n.handleKeyUp=n.handleKeyUp.bind(Xe(Xe(n))),n.subscription=Object(We.a)(window,"popstate").subscribe(function(){var e=window.location.pathname.match(/^\/search\/(.*?)\/(.*?)$/);e&&n.setState({state:["movie","person"].includes(e[1])?e[1]:"movie",query:decodeURI(e[2])})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.input.current.focus()}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"handleKeyUp",value:function(e){var t=this,n=e.target.value;this.debounce(function(){t.setState({query:n}),qe.push("/search/".concat(t.state.state,"/").concat(n))})}},{key:"handleStateChange",value:function(e){var t={movie:"person",person:"movie"}[e];this.setState({state:t}),qe.push("/search/".concat(t,"/").concat(this.state.query))}},{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.state;return o.a.createElement(r.Fragment,null,o.a.createElement(z.Helmet,null,o.a.createElement("title",null,"Sensorr - Search",n&&': "'.concat(n,'" (').concat({movie:"Movies",person:"Stars"}[a],")"))),o.a.createElement("div",{style:et.element},o.a.createElement("input",{ref:this.input,type:"text",defaultValue:n,onKeyUp:this.handleKeyUp,style:et.input,placeholder:"Search..."}),o.a.createElement("i",{onClick:function(){return e.handleStateChange(a)},title:{movie:"Movies",person:"Stars"}[a],style:et.state},{movie:"🎞️",person:"⭐"}[a]),n&&o.a.createElement(K,{label:n,child:{movie:X.a,person:function(e){return o.a.createElement(Fe,Qe({brand:"flat"},e))}}[a],uri:["search",a],params:{query:n,sort_by:"popularity.desc"}})))}}])&&Ge(n.prototype,a),i&&Ge(n,i),t}(),nt=n(314),rt=n(103),ot=n.n(rt);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ct(e,t,n[t])})}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ut(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){st(a,r,o,i,l,"next",e)}function l(e){st(a,r,o,i,l,"throw",e)}i(void 0)})}}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var dt={element:{position:"relative",flex:1,display:"flex",flexDirection:"column"},link:{color:s.a.colors.white},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},details:{flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(s.a.colors.shadows.black)},metadata:{position:"absolute",right:"2em",top:"2em",textAlign:"right"},popularity:{fontFamily:s.a.fonts.secondary,fontSize:"2em",fontWeight:800,color:s.a.colors.white},runtime:{fontFamily:s.a.fonts.secondary,fontSize:"1em",fontWeight:600,color:s.a.colors.white,padding:"1em 0 0"},preview:{fontFamily:s.a.fonts.secondary,fontSize:"1em",fontWeight:600,color:s.a.colors.white,padding:"1em 0 0"},badges:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"1em 0 0",userSelect:"none",MozUserSelect:"none"},badge:{cursor:"pointer",backgroundColor:s.a.colors.shadows.grey,borderRadius:"5em",padding:"1em",margin:"0.5em 0",fontWeight:800,color:s.a.colors.white,textTransform:"uppercase"},emoji:{margin:"0 0.75em 0 0"},informations:{width:"100%",display:"flex",padding:"5em 13em 2em 3em"},poster:{maxWidth:"15em",margin:"0 3em"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:s.a.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:s.a.colors.white},genres:{fontWeight:600,color:s.a.colors.white,padding:"1em 0 0 0"},directors:{fontWeight:600,color:s.a.colors.white,padding:"1em 0 0 0"},tagline:{color:s.a.colors.white,fontWeight:600,padding:"2em 0 0 0"},plot:{maxWidth:"50em",lineHeight:"1.5em",color:s.a.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{margin:"3em 0 0",overflow:"visible",fontSize:"0.5em"},more:{width:"100%",fontSize:"0.75em"},label:{color:s.a.colors.white,cursor:"pointer"},empty:{color:s.a.colors.white}},ht=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pt(t).call(this,e))||"object"!==at(o)&&"function"!=typeof o?yt(r):o).state={details:null,doc:null,unpinned:!1,more:"recommendations"},n.bootstrap=n.bootstrap.bind(yt(yt(n))),n.handleStateChange=n.handleStateChange.bind(yt(yt(n))),n.handleMoreChange=n.handleMoreChange.bind(yt(yt(n))),n.handleLookClick=n.handleLookClick.bind(yt(yt(n))),n}var n,a,i,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"bootstrap",value:(c=ut(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({unpinned:!1}),e.next=4,U.a.fetch(["movie",this.props.match.params.id],{append_to_response:"videos,credits,similar,recommendations"});case 4:return t=e.sent,this.setState({details:t}),e.next=8,ce.a.get();case 8:return n=e.sent,e.next=11,n.movies.findOne().where("id").eq(t.id.toString()).exec();case 11:r=e.sent,this.setState({doc:r?r.toJSON():null}),setTimeout(function(){return document.getElementById("movie").scrollIntoView()},100),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),qe.push("/");case 19:case"end":return e.stop()}},e,this,[[0,16]])})),function(){return c.apply(this,arguments)})},{key:"handleStateChange",value:(l=ut(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get();case 2:if(t=e.sent,this.state.doc){e.next=10;break}return e.next=6,t.movies.atomicUpsert(new ot.a(lt({},this.state.details,{state:"wished"})).normalize());case 6:n=e.sent,this.setState({doc:n.toJSON()}),e.next=21;break;case 10:if("wished"!==this.state.doc.state){e.next=17;break}return e.next=13,t.movies.atomicUpsert(new ot.a(lt({},this.state.details,{state:"archived"})).normalize());case 13:r=e.sent,this.setState({doc:r.toJSON()}),e.next=21;break;case 17:if("archived"!==this.state.doc.state){e.next=21;break}return e.next=20,t.movies.findOne().where("id").eq(this.state.details.id.toString()).remove();case 20:this.setState({doc:null});case 21:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"handleMoreChange",value:function(){this.setState({more:{similar:"recommendations",recommendations:"similar"}[this.state.more]})}},{key:"handleLookClick",value:function(){var e=this;this.setState({unpinned:!1}),setTimeout(function(){return e.setState({unpinned:!0})},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=(it(t,["match"]),this.state),i=a.doc,l=a.details,c=(a.loading,a.unpinned),s=a.more,u=(it(a,["doc","details","loading","unpinned","more"]),l?l.videos.results.filter(function(e){return"YouTube"===e.site&&["Trailer","Teaser"].includes(e.type)}).pop():null);return o.a.createElement(r.Fragment,null,o.a.createElement(z.Helmet,null,l?o.a.createElement("title",null,"Sensorr - ",l.title,l.release_date&&" (".concat(new Date(l.release_date).getFullYear(),")")):o.a.createElement("title",null,"Sensorr - Movie (",n.params.id,")")),o.a.createElement("div",{id:"movie",style:dt.element},l?[o.a.createElement("div",{key:"details",style:lt({},dt.details,{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat(l.backdrop_path,")")})},o.a.createElement("div",{style:dt.metadata},o.a.createElement("h3",{style:dt.popularity},o.a.createElement("span",null,l.vote_average.toFixed(1)),o.a.createElement("span",null," "),o.a.createElement("span",null,0===l.vote_average?"🤷":l.vote_average<5?"👎":l.vote_average<8?"👍":"🙏")),o.a.createElement("h4",{style:dt.runtime},l.runtime," mins 🕙"),u&&o.a.createElement("a",{href:"https://youtu.be/".concat(u.key),target:"_blank",style:{textDecoration:"none"}},o.a.createElement("h4",{style:dt.preview},"Preview 🎬")),o.a.createElement("div",{style:dt.badges},!i&&o.a.createElement("div",{style:dt.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:dt.emoji},"🔕"),"Ignored"),i&&"wished"===i.state&&o.a.createElement("div",{style:dt.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:dt.emoji},"🍿"),"Wished"),i&&"archived"===i.state&&o.a.createElement("div",{style:dt.badge,onClick:this.handleStateChange},o.a.createElement("span",{style:dt.emoji},"📼"),"Archived"),o.a.createElement("div",{style:dt.badge,onClick:this.handleLookClick},o.a.createElement("span",{style:dt.emoji},"🔍"),"Look"))),o.a.createElement("div",{style:dt.informations},o.a.createElement("div",null,o.a.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(l.poster_path),style:dt.poster})),o.a.createElement("div",{style:dt.wrapper},o.a.createElement("h1",{style:dt.title},l.title),o.a.createElement("h2",{style:dt.subtitle},l.title!==l.original_title&&o.a.createElement("span",{style:{margin:"0 0.5em 0 0"}},l.original_title),l.release_date&&o.a.createElement("span",{title:new Date(l.release_date).toLocaleDateString()},"(",new Date(l.release_date).getFullYear(),")")),o.a.createElement("p",{style:dt.genres},l.genres.map(function(e){return e.name}).join(", ")),!!l.credits.crew.filter(function(e){return"Editor"===e.job}).length&&o.a.createElement("p",{style:dt.directors},"🎥   ",l.credits.crew.filter(function(e){return"Editor"===e.job}).map(function(e){return o.a.createElement(w.a,{to:"/star/".concat(e.id),style:dt.link,key:e.id},e.name)}).reduce(function(e,t){return[e,", ",t]})),!!l.tagline&&o.a.createElement("h3",{style:dt.tagline},l.tagline),o.a.createElement("p",{style:dt.plot},l.overview),o.a.createElement("div",{style:dt.credits},o.a.createElement(K,{items:l.credits.cast.slice(0,10),child:Fe,space:0})))),o.a.createElement("div",{style:dt.more},o.a.createElement(K,{label:"".concat(s.charAt(0).toUpperCase()).concat(s.slice(1)),onClick:function(){return e.handleMoreChange()},items:l[s].results,style:dt.label,child:X.a,empty:dt.empty}))),c&&o.a.createElement(nt.a,{key:"releases",movie:l})]:o.a.createElement("div",{style:dt.loading},o.a.createElement(R.a,null))))}}])&&ft(n.prototype,a),i&&ft(n,i),t}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wt(e,t,n[t])})}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kt={element:{flex:1,display:"flex",flexDirection:"column"},loading:{flex:1,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},container:{flex:1,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center center",boxShadow:"inset 0 0 0 100em ".concat(s.a.colors.shadows.black)},informations:{width:"100%",display:"flex",alignItems:"start",padding:"5em 3em 2em 3em"},poster:{width:"15em",height:"23em",overflow:"hidden",margin:"0 3em",background:"".concat(s.a.colors.grey," url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==) no-repeat center"),backgroundSize:"50%"},wrapper:{flex:1},title:{fontSize:"4em",fontWeight:800,color:s.a.colors.white,padding:"0 0 0.25em"},subtitle:{fontSize:"1.5em",fontWeight:600,color:s.a.colors.white},genres:{fontWeight:600,color:s.a.colors.white,padding:"1em 0 0 0"},tagline:{color:s.a.colors.white,fontWeight:600,padding:"2em 0 0 0"},biography:{maxWidth:"50em",lineHeight:"1.5em",color:s.a.colors.white,whiteSpace:"pre-line",padding:"1em 1em 1em 0"},credits:{width:"100%",fontSize:"0.75em"},row:{color:s.a.colors.white,cursor:"pointer"}},Ct=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=jt(t).call(this,e))||"object"!==gt(o)&&"function"!=typeof o?xt(r):o).state={details:null,order:{cast:"vote_average",crew:"vote_average"},sort:{release_date:{emoji:"📆",title:"Ordered by release date",apply:function(e,t){return new Date(t.release_date)-new Date(e.release_date)}},vote_average:{emoji:"💯",title:"Ordered by vote average",apply:function(e,t){return t.vote_average-500/t.vote_count-(e.vote_average-500/e.vote_count)}},popularity:{emoji:"📣",title:"Ordered by popularity",apply:function(e,t){return t.popularity-e.popularity}}}},n.bootstrap=n.bootstrap.bind(xt(xt(n))),n.handleSortChange=n.handleSortChange.bind(xt(xt(n))),n}var n,a,i,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"bootstrap",value:(l=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.fetch(["person",this.props.match.params.id],{append_to_response:"images,movie_credits"});case 3:t=e.sent,this.setState({details:t}),setTimeout(function(){return document.getElementById("star").scrollIntoView()},100),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),qe.push("/");case 11:case"end":return e.stop()}},e,this,[[0,8]])}),c=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=l.apply(e,t);function a(e){Ot(o,n,r,a,i,"next",e)}function i(e){Ot(o,n,r,a,i,"throw",e)}a(void 0)})},function(){return c.apply(this,arguments)})},{key:"handleSortChange",value:function(e){var t=Object.keys(this.state.sort);this.setState({order:vt({},this.state.order,wt({},e,t[(t.indexOf(this.state.order[e])+1)%t.length]))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=(bt(t,["match"]),this.state),i=a.details,l=(a.loading,a.order),c=a.sort;bt(a,["details","loading","order","sort"]);return o.a.createElement(r.Fragment,null,o.a.createElement(z.Helmet,null,i?o.a.createElement("title",null,"Sensorr - ",i.name):o.a.createElement("title",null,"Sensorr - Star (",n.params.id,")")),o.a.createElement("div",{id:"star",style:kt.element},i?o.a.createElement("div",{style:vt({},kt.container,i.images.profiles.length?{backgroundImage:"url(http://image.tmdb.org/t/p/original".concat((i.images.profiles.sort(function(e,t){return e.width-t.width}).slice(-1).pop()||{}).file_path,")")}:{})},o.a.createElement("div",{style:kt.informations},o.a.createElement("div",{style:kt.poster},i.profile_path&&o.a.createElement("img",{src:"http://image.tmdb.org/t/p/original".concat(i.profile_path),height:"100%"})),o.a.createElement("div",{style:kt.wrapper},o.a.createElement("h1",{style:kt.title},i.name),o.a.createElement("h2",{style:kt.subtitle},i.place_of_birthday," (",new Date(i.birthday).getFullYear(),")"),o.a.createElement("p",{style:kt.biography},i.biography))),!!i.movie_credits.cast.length&&o.a.createElement("div",{style:kt.credits},o.a.createElement(K,{label:"Casting - ".concat(c[l.cast].emoji),title:c[l.cast].title,onClick:function(){return e.handleSortChange("cast")},items:i.movie_credits.cast.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(c[l.cast].apply),child:X.a,style:kt.row})),!!i.movie_credits.crew.length&&o.a.createElement("div",{style:kt.credits},o.a.createElement(K,{label:"Crew - ".concat(c[l.crew].emoji),title:c[l.crew].title,onClick:function(){return e.handleSortChange("crew")},items:i.movie_credits.crew.filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).sort(c[l.crew].apply),child:X.a,style:kt.row}))):o.a.createElement("div",{style:kt.loading},o.a.createElement(R.a,null))))}}])&&Et(n.prototype,a),i&&Et(n,i),t}(),Mt=n(316),It=n(317);function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dt={element:{display:"flex",flexDirection:"column",minHeight:"100vh"}},Tt=n(177),_t=n(149),zt=n(119);function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lt(e,t,n[t])})}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ut(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["from { height: 100% } to { height: 0% }"]);return Ut=function(){return e},e}var Ft={shrink:Object(Tt.keyframes)(Ut()),container:{position:"fixed",bottom:0,left:0,boxSizing:"border-box",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",padding:"0 1em",zIndex:10},toast:{width:"50vw",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.175)",display:"flex",marginBottom:"1em"},appearances:{success:{icon:zt.CheckIcon,text:"hsl(154, 100%, 30%)",fg:"hsl(154, 99%, 40%)",bg:"hsl(154, 100%, 99%)"},error:{icon:zt.FlameIcon,text:"hsl(12, 100%, 40%)",fg:"hsl(12, 99%, 60%)",bg:"hsl(12, 100%, 99%)"},warning:{icon:zt.AlertIcon,text:"hsl(33, 100%, 50%)",fg:"hsl(40, 100%, 50%)",bg:"hsl(48, 100%, 99%)"},info:{icon:zt.InfoIcon,text:"hsl(218, 20%, 40%)",fg:"hsl(218, 100%, 60%)",bg:"white"}},text:{position:"absolute"},button:{cursor:"pointer",flexShrink:0,opacity:.5,padding:"0.5em",transition:"opacity 150ms"},content:{flexGrow:1,fontSize:"0.825em",lineHeight:1.4,padding:"0.5em 0.75em"},icon:{flexShrink:0,padding:"0.5em",position:"relative",overflow:"hidden",textAlign:"center"},timeout:{backgroundColor:"rgba(0, 0, 0, 0.1)",bottom:0,height:0,left:0,position:"absolute",width:"100%"},svg:{position:"relative",zIndex:1}};n(596),n(599),n(604),n(609);Object(a.render)(o.a.createElement(i.ToastProvider,{components:{Toast:function(e){var t=e.appearance,n=e.autoDismiss,r=e.autoDismissTimeout,a=e.children,i=(e.onExited,e.onDismiss),l=(e.placement,e.transitionDuration),c=e.transitionState;return o.a.createElement("div",{style:Nt({},Ft.toast,{backgroundColor:Ft.appearances[t].bg,color:Ft.appearances[t].text,transition:"transform ".concat(l,"ms cubic-bezier(0.2, 0, 0, 1)")},{entering:{transform:"translate3d(-120%, 0, 0)"},entered:{transform:"translate3d(0, 0, 0)"},exiting:{transform:"translate3d(-120%, 0, 0)"},exited:{transform:"translate3d(-120%, 0, 0)"}}[c])},o.a.createElement("div",{style:Nt({},Ft.icon,{backgroundColor:Ft.appearances[t].fg,color:Ft.appearances[t].bg})},o.a.createElement("div",{style:Nt({},Ft.timeout,{animation:"".concat(Ft.shrink," ").concat(r,"ms linear"),opacity:n?1:0})}),o.a.createElement(Ft.appearances[t].icon,{style:Ft.svg,fill:Ft.appearances[t].bg})),o.a.createElement("div",{style:Ft.content},a),i?o.a.createElement("div",{onClick:i,role:"button",style:Ft.button},o.a.createElement(zt.CloseIcon,null)):null)},ToastContainer:function(e){var t=e.children,n=(e.autoDismissTimeout,e.transitionDuration,Rt(e,["children","autoDismissTimeout","transitionDuration"]));return o.a.createElement("div",At({},n,{style:Nt({},Ft.container,{pointerEvents:r.Children.count(t)?"auto":"none"},n.style||{})}),o.a.createElement(_t.TransitionGroup,{component:null},t))}}},o.a.createElement(function(e){Pt({},e);return o.a.createElement(l.a,null,o.a.createElement("div",{style:Dt.element},o.a.createElement(v,{key:"header"}),o.a.createElement(_,{key:"navigation"}),o.a.createElement(c.a,{path:"/",exact:!0,component:le}),o.a.createElement(c.a,{path:"/collection",exact:!0,component:Ie}),o.a.createElement(c.a,{path:"/search/:state/:query?",exact:!0,component:tt}),o.a.createElement(c.a,{path:"/movie/:id",exact:!0,component:ht}),o.a.createElement(c.a,{path:"/star/:id",exact:!0,component:Ct}),o.a.createElement(c.a,{path:"/configure",exact:!0,component:Mt.a}),o.a.createElement(c.a,{path:"/logs",exact:!0,component:It.a})))},null)),document.querySelector("#mount"))},79:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l={element:{width:"40px",height:"40px",position:"relative",margin:"100px auto"},circle:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"#333",opacity:.6,position:"absolute",top:0,left:0,animation:"bounce 2.0s infinite ease-in-out"},second:{animationDelay:"-1.0s"}};t.a=function(e){i({},e);return o.a.createElement("div",{style:l.element},o.a.createElement("div",{style:l.circle}),o.a.createElement("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},l.circle,l.second)}))}},93:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l={element:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"4em",color:n(6).a.colors.secondary},emoji:{fontSize:"5em"},title:{padding:"1em 0",fontWeight:800,textTransform:"uppercase"},subtitle:{}};t.a=function(e){var t=e.style;i(e,["style"]);return o.a.createElement("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},l.element,t)},o.a.createElement("h1",{style:l.emoji},"👻"),o.a.createElement("h2",{style:l.title},"Bouhouuu ! I'm the scary empty ghost !"),o.a.createElement("p",{style:l.subtitle},"Sorry, no results."))}}});