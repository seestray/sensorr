!function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([455,1]),n()}({116:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(15),o=n(0),i=n(1),a=n(4),s=n.n(a),c=n(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={element:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:c.a.colors.shadows.grey,cursor:"pointer",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},compact:{true:{borderRadius:"5em",padding:"1em",margin:"0.5em 0"},false:{borderRadius:"50%",padding:"0.5em",height:"2em",width:"2em"}},emoji:{},label:{margin:"0 0 0 0.75em",fontWeight:800,color:c.a.colors.white,textTransform:"uppercase"}},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,d(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,i["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.emoji,n=e.label,i=p(e,["emoji","label"]);return Object(o.jsx)("div",u({},i,{css:Object(r.a)([j.element,j.compact[!!n],i.css],"label:Badge;")}),Object(o.jsx)("span",{css:j.emoji},t),!!n&&Object(o.jsx)("span",{css:j.label},n))}}])&&f(n.prototype,a),s&&f(n,s),t}();m(g,"propTypes",{emoji:s.a.string.isRequired,label:s.a.node}),m(g,"defaultProps",{label:null})},124:function(e,t,n){var r=n(702);e.exports={similarity:function(e,t){return r.compareTwoStrings(e,t)},clean:function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\sa-zA-Z0-9]/g," ").replace(/ +/g," ").trim()},truncate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ellipsis:"..."},r=e.split(/[\.\,\;\?\!]+/),o=Math.abs(r.reduce(function(e,n){return e<0?e:t>e+n.length?e+n.length+1:-Math.abs(e)},0));return o===e.length?e:"".concat(e.substring(0,o-1).trimEnd()).concat(o>1?n.ellipsis:"")}}},139:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return s});var r=n(452),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o()("".concat(location.protocol,"//").concat(location.hostname,":").concat("production"===e.config.env?location.port:"5070").concat(t?"/".concat(t):""),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{transports:["websocket"]}));return r.on("reconnect_attempt",function(){return r.io.opts.transports=["polling","websocket"]}),r.emit("ready"),r}var c=s();t.a=c}).call(this,n(37))},177:function(e,t){var n=["B","KB","MB","GB","TB"];e.exports={parse:function(e){var t=(e.match(new RegExp([].concat(n).reverse().join("|")))||["B"])[0];return n.includes(t)?parseInt(e)*Math.pow(1024,n.indexOf(t)):0},stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0==e?0:Math.floor(Math.log(e)/Math.log(1024));return"".concat(1*(e/Math.pow(1024,r)).toFixed(2)," ").concat(t?n[r]:"")}}},180:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});n(434);var r=n(56),o=n.n(r);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=function(e){this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.canvas.style.display="none",this.context.drawImage(e,0,0,this.width,this.height)};a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},a.prototype.update=function(e){this.context.putImageData(e,0,0)},a.prototype.getPixelCount=function(){return this.width*this.height},a.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},a.prototype.removeCanvas=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)};var s=1,c=4.5,l=0,u={};function p(e){return e.reduce(function(e,t){return e+t.score},0)}function f(t,n){l=0,u={};var r=new Image;r.src=t,r.onload=function(){var t=new a(r),f=t.getImageData().data,b=t.getPixelCount(),d=new Worker(e,{});d.onmessage=function(e){var r=e.data;t.removeCanvas();var a=r.map(function(e){var t=new o.a(e.rgb);return u[t]=e.count,l+=e.count,t}),f={};a.forEach(function(e){var t=f[e]=[];a.forEach(function(n){var r=e.contrast(n);if(r>s){var o=function(e){var t=i(e.rgb().array().sort(function(e,t){return t-e}),3),n=t[0];return t[1],(n-t[2])/10}(n);if(r<c)for(var a=(c-r)/20,l=e.isDark();r<c;){var u=l?n.lighten(a):n.darken(a);if(u.hex()===n.hex())break;var p=e.contrast(u);p<r&&(l=!l),n=u,r=p}var f=r+o;t.push({color:n,score:f,contrast:r})}})});var b=function(e){var t=0,n="";for(var r in e){var o=e[r],i=u[r]/l,a=p(o),s=o.length?(o.length+a)*i:0;s>t&&(t=s,n=r)}return function(e){e.sort(function(e,t){return e.score===t.score?0:e.score>t.score?-1:1})}(e[n]),n}(f),d=i(f[b],3),y=d[0],m=d[1],j=d[2];m||(m=y),j||(j=m),n({backgroundColor:b,color:y.color.hex(),alternativeColor:m.color.hex(),negativeColor:o()(b)[o()(b).isLight()?"lighten":"darken"](.8).negate().hex()})},d.postMessage({pixels:f,pixelCount:b})}}}).call(this,n(770))},181:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n(0),o=n(1),i=n.n(o),a=n(4),s=n.n(a),c=n(255),l=n.n(c),u=n(182),p=n(49),f=n(52),b=n(58),d=n(45),y=n(3),m=n(78),j=n.n(m);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)})}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={element:{display:"flex",flexDirection:"column",flex:1},placeholder:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"25vh"},label:{padding:"0 2em",margin:0,fontSize:"2em",fontWeight:"bold",color:y.a.colors.black},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 10em)",gridGap:"2rem",justifyContent:"space-between",padding:"2em"},entity:{width:"10em",height:"17em"},spinner:{display:"flex",alignItems:"center",justifyContent:"center"}},I=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=P(t).call(this,e))||"object"!==g(o)&&"function"!=typeof o?_(r):o).state={entities:[],loading:!1,err:null,max:25,filter:function(){return!0},sort:function(){return 0},focus:null},n.expand=n.expand.bind(_(n)),n.validate=n.validate.bind(_(n)),n.debounce=j()(500),n}var n,a,s,c,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.query?(this.setState({loading:!0}),this.fetchDatabase()):this.props.uri&&(this.setState({loading:!0}),this.fetchTMDB())}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.query?this.props.query!==e.query&&(this.setState({loading:!0}),this.props.debounce?this.debounce(function(){return n.fetchDatabase()}):this.fetchDatabase()):this.props.uri&&(this.props.uri.join("/")===e.uri.join("/")&&JSON.stringify(this.props.params)===JSON.stringify(e.params)||(this.setState({loading:!0}),this.props.debounce?this.debounce(function(){return n.fetchTMDB()}):this.fetchTMDB()))}},{key:"fetchDatabase",value:(y=S(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get();case 2:return t=e.sent,n=this.props.query(t),e.next=6,n.exec();case 6:r=e.sent,this.setState({loading:!1,entities:(this.props.transform||function(e){return e.map(function(e){return e.toJSON()})})(r)});case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchTMDB",value:(c=S(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.fetch(this.props.uri,this.props.params);case 3:t=e.sent,this.setState({loading:!1,entities:(this.props.transform||function(e){return e.results})(t)||[]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({loading:!1,err:7===e.t0.status_code?"Invalid TMDB API key, check your configuration.":e.t0.status_message});case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return c.apply(this,arguments)})},{key:"validate",value:function(e){return(!this.props.strict||e.poster_path||e.profile_path)&&(!e.adult||d.a.adult)}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+25}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.entities,o=t.loading,a=t.err,s=t.max,c=t.filter,b=t.sort,d=t.focus,y=(x(t,["entities","loading","err","max","filter","sort","focus"]),this.props),m=y.items,j=(y.query,y.uri,y.params,y.transform,y.controls),g=y.label,w=y.child,S=y.empty,k=y.spinner,P=y.limit,_=(y.strict,y.debounce,y.placeholder),C=y.ready,I=y.style,A=x(y,["items","query","uri","params","transform","controls","label","child","empty","spinner","limit","strict","debounce","placeholder","ready","style"]),z=[].concat(v(n),v(m)).filter(function(t){return e.validate(t)}),E=z.sort(b).filter(c).filter(function(e,t){return!P||t<=s});return Object(r.jsx)(i.a.Fragment,null,j&&Object(r.jsx)(u.a,h({key:"controls",entities:z},j,{filters:Object.keys(j.filters).reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,D({},t,j.filters[t](z)))},{}),onChange:function(t){var n=t.filter,r=t.sort,o=t.sorting;return e.setState({filter:n,sort:r,max:25,focus:"time"===o.value?null:o.value})}})),Object(r.jsx)("div",h({key:"element"},A,{css:M.element}),!!g&&Object(r.jsx)("h1",{css:M.label,style:I||{}},g),!o&&C||_?E.length||o?Object(r.jsx)(l.a,{pageStart:0,hasMore:P&&s<E.length,loadMore:this.expand,loader:Object(r.jsx)("div",{key:"spinner",css:M.spinner},Object(r.jsx)(p.a,k)),threshold:1e3,css:M.grid},(E.length?E:Array(25).fill({poster_path:!1,profile_path:!1})).map(function(e,t){return Object(r.jsx)("div",{key:t,css:M.entity},r.jsx(w,{entity:e,focus:d,placeholder:_}))})):Object(r.jsx)("div",{css:M.placeholder},Object(r.jsx)(f.a,h({},S,{title:a?"Oh ! You came across a bug...":S.title,emoji:a?"🐛":S.emoji,subtitle:a||S.subtitle}))):Object(r.jsx)("div",{css:M.placeholder},Object(r.jsx)(p.a,k))))}}])&&k(n.prototype,a),s&&k(n,s),t}();D(I,"propTypes",{items:s.a.array,query:s.a.func,uri:s.a.array,params:s.a.object,transform:s.a.func,controls:s.a.shape({filters:s.a.object,sortings:s.a.object,defaults:s.a.shape({filtering:s.a.object,sorting:s.a.object,reverse:s.a.bool})}),label:s.a.string,child:s.a.func.isRequired,empty:s.a.object,spinner:s.a.object,limit:s.a.bool,strict:s.a.bool,debounce:s.a.bool,placeholder:s.a.bool,ready:s.a.bool}),D(I,"defaultProps",{items:[],params:{},empty:{},spinner:{},limit:!1,strict:!0,debounce:!1,placeholder:!0,ready:!0})},182:function(e,t,n){"use strict";var r=n(15),o=n(0),i=n(1),a=n.n(i),s=n(256),c=n.n(s);var l=n(847),u=n(257),p=n(3);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g={input:{margin:"0 6px"},histogram:{display:"flex",alignItems:"flex-end",height:"2em",">div":{flex:1,display:"block"}},slider:{root:{color:"white",display:"block",padding:0},disabled:{color:"white !important",opacity:.5},valueLabel:{"&>span":{color:p.a.colors.tertiary,"&>span":{color:"white",fontFamily:p.a.fonts.monospace,fontSize:"0.75em"}}},thumb:{"&:hover":{boxShadow:"0px 0px 0px 8px rgba(0, 0, 0, 0.1)"}},focusVisible:{boxShadow:"0px 0px 0px 8px rgba(0, 0, 0, 0.1) !important"},active:{boxShadow:"0px 0px 0px 14px rgba(0, 0, 0, 0.1) !important"}},element:{display:"flex",flexDirection:"column",width:"100%",">label":{padding:"0 0 1em 0",fontWeight:600}}},h=Object(u.a)(g.slider,{name:"SensorrRange"})(l.a),O=function(e){var t,n,r=e.values,a=e.onChange,s=e.min,c=e.max,l=e.step,u=e.data,b=void 0===u?{}:u,y=j(e,["values","onChange","min","max","step","data"]),O=m(Object(i.useState)(r),2),v=O[0],x=O[1],w=(t=r,n=Object(i.useRef)(),Object(i.useEffect)(function(){n.current=t},[t]),n.current),S=Math.max.apply(null,Object.values(b||{}));return w&&w.join("-")===v.join("-")&&w.join("-")!==r.join("-")&&x(r),Object(o.jsx)("div",{css:g.input},!!Object.keys(b).length&&Object(o.jsx)("div",{css:g.histogram},Object.keys(b).map(function(e,t){return Object(o.jsx)("div",{title:"".concat(e," (").concat(b[e],")"),key:e,style:d({height:"".concat(100*b[e]/S||0,"%")},parseInt(Object.keys(b)[t])>=v[0]&&parseInt(Object.keys(b)[t])<v[1]?{backgroundColor:p.a.colors.tertiary}:{backgroundColor:p.a.colors.tertiary,opacity:.5})})})),Object(o.jsx)(h,f({},y,{value:v,onChange:function(e,t){return x(t)},onChangeCommitted:function(e,t){return a(t)},min:s,max:c,step:l,valueLabelDisplay:"auto"})))},v=function(e){var t=e.label,n=e.values,r=e.onChange,i=e.min,a=e.max,s=e.step,c=void 0===s?1:s,l=e.disabled,u=e.unit,p=e.data,b=void 0===p?{}:p,d=j(e,["label","values","onChange","min","max","step","disabled","unit","data"]);return Object(o.jsx)("div",f({css:g.element},d),Object(o.jsx)("label",{onClick:function(){return!l&&r([i,a])},style:l?{}:{cursor:"pointer"}},Object(o.jsx)("span",null,t),Object(o.jsx)("span",null," "),Object(o.jsx)("small",null,Object(o.jsx)("code",null,"(",n.join("-"),u?" ".concat(u):"",")"))),Object(o.jsx)(O,{values:n,onChange:r,min:i,max:a,step:c,data:b,disabled:l}))};function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={input:{display:"flex",alignItems:"center",padding:"0.25em 0",margin:"0 0 0.5em 0",">input":function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p.a.resets.input,{},p.a.resets.checkbox,{margin:"0 1em 0 0.5em"})},element:{display:"flex",flexDirection:"column",">label":{padding:"0 0 1em 0",fontWeight:600},">div":{">label":{fontSize:"0.917em"}}},grid:{">div":{display:"grid",gridTemplateColumns:"repeat(auto-fill, 12em)",justifyContent:"space-between"}},column:{">div":{display:"flex",flexDirection:"column"}}},C=function(e){var t=e.id,n=e.children,r=S(e,["id","children"]);return Object(o.jsx)("label",{css:_.input,style:r.disabled?{}:{cursor:"pointer"},key:t,htmlFor:t},Object(o.jsx)("input",w({},r,{id:t,type:"checkbox"})),n)},D=function(e){var t=e.label,n=e.inputs,i=e.values,s=e.onChange,c=e.disabled,l=e.display,u=void 0===l?"grid":l,p=S(e,["label","inputs","values","onChange","disabled","display"]);return n.length>0&&Object(o.jsx)("div",w({css:Object(r.a)([_.element,_[u]],"label:Checkbox;")},p),Object(o.jsx)("label",{onClick:function(){return!c&&s([])},style:c?{}:{cursor:"pointer"}},t),Object(o.jsx)("div",null,n.map(function(e){return Object(o.jsx)(C,{key:e.value,id:e.value,checked:i.includes(e.value),onChange:function(t){return s(x(new Set([e.value].concat(x(i)))).filter(function(n){return!!t.target.checked||e.value!==n}))},disabled:c},Object(o.jsx)("span",null,e.label),"number"==typeof e.count&&Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)("span",null," "),Object(o.jsx)("small",null,Object(o.jsx)("code",null,"(",e.count,")"))))})))};function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={input:{display:"flex",alignItems:"center",padding:"0.25em 0",margin:"0 0 0.5em 0",">input":function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p.a.resets.input,{},p.a.resets.radio,{margin:"0 1em 0 0.5em"})},element:{display:"flex",flexDirection:"column",">label":{padding:"0 0 1em 0",fontWeight:600},">div":{">label":{fontSize:"0.917em"}}},grid:{">div":{display:"grid",gridTemplateColumns:"repeat(auto-fill, 12em)",justifyContent:"space-between"}},column:{">div":{display:"flex",flexDirection:"column"}}},T=function(e){var t=e.id,n=e.children,r=I(e,["id","children"]);return Object(o.jsx)("label",{css:E.input,style:r.disabled?{}:{cursor:"pointer"},key:t,htmlFor:t},Object(o.jsx)("input",M({},r,{id:t,type:"radio"})),n)},N=function(e){var t=e.label,n=e.inputs,i=e.value,s=e.onChange,c=e.disabled,l=e.display,u=void 0===l?"grid":l,p=I(e,["label","inputs","value","onChange","disabled","display"]);return Object(o.jsx)("div",M({},p,{css:Object(r.a)([E.element,E[u],p.css],"label:Radio;")}),Object(o.jsx)("label",{onClick:function(){return!c&&s()},style:c?{}:{cursor:"pointer"}},t),Object(o.jsx)("div",null,n.map(function(e){return Object(o.jsx)(T,{key:e.value,id:e.value,checked:i===e.value,onChange:function(t){return!!t.target.checked&&s(e.value)},disabled:c},Object(o.jsx)("span",null,e.label),"number"==typeof e.count&&Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)("span",null," "),Object(o.jsx)("small",null,Object(o.jsx)("code",null,"(",e.count,")"))))})))},L=n(210);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=function(e){return Object(o.jsx)("svg",R({height:"20",width:"20"},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(o.jsx)("path",{fill:"currentColor",d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}))},U=n(78),B=n.n(U);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){G(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J={element:{display:"flex",flexDirection:"column",width:"100%",overflow:"hidden"},menu:{position:"relative",display:"flex",alignItems:"center",padding:"0 10%",backgroundColor:p.a.colors.primary},secondary:{position:"absolute",height:"100%",width:"100%",top:0,backgroundColor:p.a.colors.tertiary,color:"white",transition:"transform ease-in-out 250ms",">div":{transition:"opacity ease-in-out 250ms 250ms",display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",">div>button":{width:"8em",margin:"0 0.75em",fontSize:"0.8em"},">div>button:first-of-type":{margin:"0 0.75em 0 0"},">div>button:last-of-type":{margin:"0 0 0 0.75em"}}},input:q({},p.a.resets.input,{flex:1,padding:"1.75em 0",lineHeight:1.5,color:"white","::placeholder":{color:"white",opacity:.6}}),summary:{display:"flex",">button":q({},p.a.resets.button,{display:"flex",alignItems:"center",color:"white",padding:"2em 1em",fontSize:"0.75em",">span":{margin:"0 0.5em 0 0"},">svg":{heigth:"0.6125em",width:"0.6125em"}})},pane:{overflow:"hidden",backgroundColor:p.a.colors.primary,color:"white",">div>div":{padding:"1em 10%",transition:"opacity ease-in-out 500ms 750ms",">*":{margin:"2em 0",":first-of-type:not(:last-of-type)":{margin:"2em 0 1em 0"},":last-of-type:not(:first-of-type)":{margin:"1em 0 2em"}}}},checkbox:{flex:1},range:{flex:1},radio:{flex:1}},V=function(e){var t=e.onChange,n=(Y(e,["onChange"]),Object(i.useRef)(null)),r=H(Object(i.useState)(""),2),a=r[0],s=r[1],c=Object(i.useMemo)(function(){return B()(500)},[]);return Object(o.jsx)("input",{ref:n,type:"text",value:a,onChange:function(e){var n=e.target.value||"";s(n),c(function(){return t(n)})},onKeyDown:function(e){"Escape"===e.key&&(s(""),t(""),n.current.blur())},css:J.input,placeholder:"Filter"})};t.a=function(e){var t=e.label,n=e.entities,s=e.filters,l=e.sortings,u=e.defaults,p=e.onChange,f=e.render,b=void 0===f?{}:f,d=e.disabled,y=(Y(e,["label","entities","filters","sortings","defaults","onChange","render","disabled"]),H(Object(i.useState)(u.filtering),2)),m=y[0],j=y[1],g=H(Object(i.useState)(u.sorting),2),h=g[0],O=g[1],x=H(Object(i.useState)(u.reverse),2),w=x[0],S=x[1],k=H(Object(i.useState)(""),2),P=k[0],_=k[1],C=H(Object(i.useState)(u),2),M=C[0],I=C[1],A=H(Object(i.useState)(!1),2),z=A[0],E=A[1],T=Object.keys(m).filter(function(e){return!["query"].includes(e)}).filter(function(e){return!s[e].default||JSON.stringify(m[e])!==JSON.stringify(s[e].default)}),R=function(e){return n.filter(function(t){return Object.keys(m).filter(function(t){return!e.includes(t)}).every(function(e){return s[e].apply(t,m[e])})})},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(E(!1),I({filtering:m,sorting:h,reverse:w})),p({sorting:h,filtering:m,sort:function(e,t){return h.apply(e,t,w)},filter:function(t){return Object.keys(m).every(function(e){return s[e].apply(t,m[e])})&&(!s.query||s.query.apply(t,e))}})};Object(i.useEffect)(function(){U(P,!1)},[]);var B=Object.keys(s).reduce(function(e,t){var n=s[t],r=n.histogram?n.histogram(R([t])):{};switch(n.type){case"checkbox":return q({},e,G({},t,{element:D,props:{key:t,css:J.checkbox,label:n.label,inputs:n.inputs.map(function(e){return q({},e,{count:r[e.value]})}).sort(function(e,t){return n.orderize?t.count-e.count:0}),onChange:function(e){return j(q({},m,G({},t,e)))},values:m[t]||n.default||[],disabled:d}}));case"range":return q({},e,G({},t,{element:v,props:{key:t,css:J.range,label:n.label,values:m[t]||n.default||[n.min,n.max],onChange:function(e){return j(q({},m,G({},t,e)))},min:n.min||0,max:n.max||100,step:n.step||1,unit:n.unit||null,data:r,disabled:d}}));case"radio":return q({},e,G({},t,{element:N,props:{key:t,css:J.radio,label:n.label,inputs:n.inputs,value:m[t]||n.default,onChange:function(e){return j(q({},m,G({},t,e)))},disabled:d}}));default:return e}},{});return l&&(B.sorting={element:N,props:{key:"sorting",label:"Sort ".concat(w?"↓":"↑"),css:J.radio,inputs:Object.values(l),onChange:function(e){return e?O(l[e]):S(!w)},value:h.value,disabled:d}}),Object(o.jsx)("div",{css:J.element},Object(o.jsx)("div",{css:J.menu},b.menu?b.menu({setOpen:E}):Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)(V,{key:"query",onChange:function(e){_(e),U(e,!1)}}),Object(o.jsx)("div",{key:"summary",css:J.summary},T.length?T.map(function(e){return Object(o.jsx)("button",{key:e,onClick:function(){return E(!0)},title:{range:function(){return m[e].join("-")},checkbox:function(){return m[e].map(function(t){return s[e].inputs.filter(function(e){return e.value===t}).pop().label}).join(", ")}}[s[e].type]()||!1},Object(o.jsx)("span",null,s[e].label),Object(o.jsx)(F,null))}):Object(o.jsx)("button",{onClick:function(){return E(!0)},"data-test":"controls-all"},Object(o.jsx)("span",null,"All"),Object(o.jsx)(F,null)),h&&Object(o.jsx)("button",{onClick:function(){return E(!0)},title:"Sorted by ".concat(h.label," ").concat(w?"↓":"↑")},Object(o.jsx)("span",null,"Sort"),Object(o.jsx)(F,null)))),Object(o.jsx)("div",{css:Object(r.a)([J.menu,J.secondary],"label:Controls;"),style:{transform:"translateX(".concat(z?"-10%":"-110%",")"),transitionDelay:z?"0ms":"250ms"}},Object(o.jsx)("div",z?{}:{style:{opacity:0}},o.jsx(t,{total:R([]).length,reset:function(){j(u.filtering),O(u.sorting),S(u.reverse)}}),Object(o.jsx)("div",null,Object(o.jsx)(L.a,{look:1,onClick:function(){return E(!1),j(M.filtering),O(M.sorting),void S(M.reverse)}},"Cancel"),Object(o.jsx)(L.a,{onClick:function(){return U(P)}},"Apply"))))),Object(o.jsx)(c.a,{css:J.pane,height:z?"auto":0,delay:z?250:0},Object(o.jsx)("div",z?{}:{style:{opacity:0}},b.pane?b.pane(B):Object.values(B).map(function(e){var t=e.element,n=e.props;return o.jsx(t,n)}))))}},186:function(e,t,n){"use strict";var r=n(0);n(1);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.end,n=void 0!==t&&t,a=i(e,["end"]);return n?Object(r.jsx)("svg",o({height:"20",width:"20"},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M0 424V88c0-13.3 10.7-24 24-24h24c13.3 0 24 10.7 24 24v336c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24zm280.5-66.4L214.9 292H424c13.3 0 24-10.7 24-24v-24c0-13.3-10.7-24-24-24H214.9l65.6-65.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L94.1 239c-9.4 9.4-9.4 24.6 0 33.9l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.3 9.4-24.5 0-33.8z"})):Object(r.jsx)("svg",o({height:"20",width:"20"},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}))}},187:function(e,t,n){"use strict";var r=n(0);n(1);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.end,n=void 0!==t&&t,a=i(e,["end"]);return n?Object(r.jsx)("svg",o({height:"20",width:"20"},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M448 88v336c0 13.3-10.7 24-24 24h-24c-13.3 0-24-10.7-24-24V88c0-13.3 10.7-24 24-24h24c13.3 0 24 10.7 24 24zm-280.5 66.4l65.6 65.6H24c-13.3 0-24 10.7-24 24v24c0 13.3 10.7 24 24 24h209.1l-65.6 65.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L353.9 273c9.4-9.4 9.4-24.6 0-33.9L218.4 103.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9z"})):Object(r.jsx)("svg",o({height:"20",width:"20"},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}))}},210:function(e,t,n){"use strict";var r=n(15),o=n(0),i=(n(1),n(3));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={element:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i.a.resets.button,{padding:"1em 1.5em"}),looks:[{backgroundColor:"white",color:i.a.colors.primary,border:"0.125em solid white",borderRadius:"0.25em",fontWeight:600},{backgroundColor:"transparent",color:"white",border:"0.125em solid white",borderRadius:"0.25em",fontWeight:600}]};t.a=function(e){var t=e.look,n=void 0===t?0:t,i=s(e,["look"]);return Object(o.jsx)("button",a({},i,{css:Object(r.a)([u.element,u.looks[n],i.css],"label:Button;")}))}},211:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(e.substring(1)[t?"toLowerCase":"toString"]())}n.d(t,"a",function(){return r})},24:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=n(55).GENRES,f=n(124).clean,b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";c(this,e),this.payload=t,this.countries=["US","UK",n.split("-").pop()]}return u(e,[{key:"judge",value:function(){var e=this.payload.vote_average,t=void 0===e?0:e;return t?t<5?"👎":t<7?"👍":t<7.5?"👏":t<8?"🙌":"🙏":"🤷"}},{key:"duration",value:function(){var e=this.payload.runtime,t=void 0===e?0:e,n=parseInt(t/60),r=parseInt(t%60);return"".concat(n>0?"".concat(n,"h "):"").concat(r,"m")}},{key:"normalize",value:function(){var e=this;return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,title:this.payload.title,original_title:this.payload.original_title,release_date:(this.payload.release_date?new Date(this.payload.release_date):new Date).getTime(),genres:(this.payload.genres||[]).map(function(e){return"object"===s(e)?e.id:e}),year:this.payload.year?this.payload.year:(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear(),poster_path:this.payload.poster_path,state:this.payload.state||"wished",time:this.payload.time||Date.now(),popularity:this.payload.popularity||0,vote_average:this.payload.vote_average||0,runtime:this.payload.runtime||0,terms:{titles:a(new Set([this.payload.title,this.payload.original_title].concat(this.payload.titles?this.payload.titles:((this.payload.alternative_titles||{}).titles||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).map(function(e){return e.title})).map(function(e){return f(e)}).filter(function(e){return e}))),years:a(new Set(this.payload.years?this.payload.years:((this.payload.release_dates||{}).results||[]).filter(function(t){return e.countries.includes(t.iso_3166_1)}).reduce(function(e,t){return[].concat(a(e),a(t.release_dates.map(function(e){return new Date(e.release_date).getFullYear()})))},[(this.payload.release_date?new Date(this.payload.release_date):new Date).getFullYear()])))}}}}]),e}();b.Sortings={time:{value:"time",label:"📚️  Last Action",apply:function(e,t,n){return(parseInt((n?e:t).time)||0)-(parseInt((n?t:e).time)||0)}},release_date:{value:"release_date",label:"📅  Release date",apply:function(e,t,n){return new Date((n?e:t).release_date||0)-new Date((n?t:e).release_date||0)},labelize:function(e){return new Date(e.release_date||0).toLocaleDateString()}},popularity:{value:"popularity",label:"📣  Popularity",apply:function(e,t,n){return(parseInt((n?e:t).popularity)||0)-(parseInt((n?t:e).popularity)||0)},labelize:function(e){return e.popularity}},vote_average:{value:"vote_average",label:"⭐  Vote Average",apply:function(e,t,n){return(parseInt((n?e:t).vote_average)||0)-(parseInt((n?t:e).vote_average)||0)},labelize:function(e){return e.vote_average}},runtime:{value:"runtime",label:"🕙  Runtime",apply:function(e,t,n){return(parseInt((n?e:t).runtime)||0)-(parseInt((n?t:e).runtime)||0)},labelize:function(e){return e.runtime&&"".concat(e.runtime," mins")}}},b.Filters={query:function(e){return{label:"Query",type:"input",default:"",apply:function(e,t){return[e.title,e.original_title].some(function(e){return new RegExp(f(t),"i").test(f(e))})}}},genre:function(e){return{label:"Genre",type:"checkbox",inputs:Object.keys(p).map(function(e){return{value:e,label:p[e]}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return(e.genres||e.genre_ids||[]).includes(parseInt(t))})},histogram:function(e){return e.reduce(function(e,t){return o({},e,{},Object.values(t.genres||t.genre_ids||[]).reduce(function(t,n){return o({},t,i({},n,e[n]+1))},{}))},Object.keys(p).reduce(function(e,t){return o({},e,i({},t,0))},{}))}}},state:function(e){return{label:"State",type:"checkbox",inputs:[{value:"pinned",label:"📍  Pinned"},{value:"wished",label:"🍿  Wished"},{value:"archived",label:"📼  Archived"}],default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.state===t})},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},t.state,e[t.state]+1))},{pinned:0,wished:0,archived:0})}}},year:function(e){var t=1+Math.max((new Date).getFullYear()+7,e.reduce(function(e,t){return t.year>e?t.year:e},(new Date).getFullYear()));return{label:"Year",type:"range",default:[1900,t],min:1900,max:t,step:1,apply:function(e,t){return e.year>=t[0]&&e.year<t[1]},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},parseInt(t.year||0),(e[parseInt(t.year||0)]||0)+1))},Array(t-1900).fill(!0).reduce(function(e,t,n){return o({},e,i({},1900+n,0))},{}))}}},popularity:function(e){var t=e.reduce(function(e,t){return t.popularity>e?t.popularity:e},0),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(0,parseInt(e/t*100)-1)};return{label:"Popularity",type:"range",default:[0,100],min:0,max:100,apply:function(e,t){return n(e.popularity)>=t[0]&&n(e.popularity)<t[1]},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},n(t.popularity),(e[n(t.popularity)]||0)+1))},Array(100).fill(!0).reduce(function(e,t,n){return o({},e,i({},0+n,0))},{}))}}},vote_average:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.min(9,Math.max(0,Math.floor(e)))};return{label:"Vote Average",type:"range",default:[0,10],min:0,max:10,apply:function(e,n){return t(e.vote_average)>=n[0]&&t(e.vote_average)<n[1]},histogram:function(e){return e.reduce(function(e,n){return o({},e,i({},t(n.vote_average),(e[t(n.vote_average)]||0)+1))},Array(10).fill(!0).reduce(function(e,t,n){return o({},e,i({},n,0))},{}))}}},runtime:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(0,10*parseInt(e/10))},n=10+t(e.reduce(function(e,t){return t.runtime>e?t.runtime:e},0));return{label:"Duration",type:"range",default:[0,n],min:0,max:n,step:10,unit:"mins",apply:function(e,n){return t(e.runtime)>=n[0]&&t(e.runtime)<n[1]},histogram:function(e){return e.reduce(function(e,n){return o({},e,i({},t(n.runtime),(e[t(n.runtime)]||0)+1))},Array(Math.floor((n-0)/10)).fill(!0).reduce(function(e,t,n){return o({},e,i({},10*n,0))},{}))}}}};var d=function(){function e(t){c(this,e),this.payload=t}return u(e,[{key:"normalize",value:function(){return{id:this.payload.id.toString(),imdb_id:this.payload.imdb_id,name:this.payload.name,gender:this.payload.gender||0,also_known_as:this.payload.also_known_as||[],known_for_department:this.payload.known_for_department||"",birthday:this.payload.birthday||"",popularity:this.payload.popularity,profile_path:this.payload.profile_path||"",state:this.payload.state||"stalked",time:this.payload.time||Date.now(),credits:Array.isArray(this.payload.credits)?this.payload.credits:[].concat(a((this.payload.credits||{cast:[]}).cast),a((this.payload.credits||{crew:[]}).crew),a((this.payload.movie_credits||{cast:[]}).cast),a((this.payload.movie_credits||{crew:[]}).crew))}}}]),e}();d.Sortings={time:{value:"time",label:"📚️  Last Action",apply:function(e,t,n){return(parseInt((n?e:t).time)||0)-(parseInt((n?t:e).time)||0)}},popularity:{value:"popularity",label:"📣  Popularity",apply:function(e,t,n){return(parseInt((n?e:t).popularity)||0)-(parseInt((n?t:e).popularity)||0)},labelize:function(e){return e.popularity}},birth:{value:"birth",label:"🎂  Birthday",apply:function(e,t,n){return(new Date((n?e:t).birthday)||0)-(new Date((n?t:e).birthday)||0)},labelize:function(e){return new Date(e.birthday).toLocaleString()}}},d.Filters={query:function(e){return{label:"Query",type:"input",default:"",apply:function(e,t){return[e.name].concat(a(e.also_known_as)).some(function(e){return new RegExp(f(t),"i").test(f(e))})}}},known_for_department:function(e){var t=e.reduce(function(e,t){return o({},e,i({},t.known_for_department||"",0))},{});return{label:"Department",type:"checkbox",inputs:Object.keys(t).filter(function(e){return e}).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.known_for_department===t})},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},t.known_for_department||"",e[t.known_for_department]+1))},t)}}},gender:function(e){return{label:"Gender",type:"checkbox",inputs:[{value:0,label:"Not specified"},{value:1,label:"Female"},{value:2,label:"Male"}],default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.gender===t})},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},t.gender||0,e[t.gender||0]+1))},{0:0,1:0,2:0})}}},birth:function(e){var t=function(e){return new Date(e||0).getFullYear()},n=1+Math.max((new Date).getFullYear()-10,e.reduce(function(e,n){return t(n.birthday)>e?t(n.birthday):e},1800)),r=Math.max(1800,e.reduce(function(e,n){return t(n.birthday)<e?t(n.birthday):e},n-1));return{label:"Birth",type:"range",default:[r,n],min:r,max:n,apply:function(e,n){return t(e.birthday)>=n[0]&&t(e.birthday)<n[1]},histogram:function(e){return e.reduce(function(e,n){return o({},e,i({},t(n.birthday),(e[t(n.birthday)]||0)+1))},Array(Math.max(0,n-r)).fill(!0).reduce(function(e,t,n){return o({},e,i({},r+n,0))},{}))}}},popularity:function(e){var t=e.reduce(function(e,t){return t.popularity>e?t.popularity:e},0),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(0,parseInt(e/t*100)-1)};return{label:"Popularity",type:"range",default:[0,100],min:0,max:100,apply:function(e,t){return n(e.popularity)>=t[0]&&n(e.popularity)<t[1]},histogram:function(e){return e.reduce(function(e,t){return o({},e,i({},n(t.popularity),(e[n(t.popularity)]||0)+1))},Array(100).fill(!0).reduce(function(e,t,n){return o({},e,i({},0+n,0))},{}))}}}},e.exports={Movie:b,Star:d}},250:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=n(832),p=n(764),f=n(124).clean;u.plugin(n(834)),u.plugin(n(769));var b={movies:{1:function(e){return e.time=Date.now(),e},2:function(e){return e.terms={titles:l(new Set([e.title,e.original_title].map(function(e){return f(e)}))),years:[e.year]},e},3:function(e){return e.runtime=0,e.release_date=0,e.popularity=0,e.vote_average=0,e},4:function(e){return e.genres=[],e}},stars:{1:function(e){return e.gender=0,e},2:function(e){return e.known_for_department="",e}}},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=null,this.options=t}var t,n,r,l,f;return t=e,(n=[{key:"bootstrap",value:(l=regeneratorRuntime.mark(function t(n){var r,s,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.options,s=r.sync,c=a(r,["sync"]),t.t0=n,t.next="pouchdb"===t.t0?4:"rxdb"===t.t0?5:15;break;case 4:return t.abrupt("return",Object.keys(e.SCHEMAS).reduce(function(e,t){return o({},e,i({},t,new p(o({},c,{name:"".concat(c.name||"","sensorr-").concat(t)}))))},{}));case 5:return t.next=7,u.removeDatabase("sessions","idb");case 7:return t.next=9,u.removeDatabase("records","idb");case 9:return t.next=11,u.create(o({name:"sensorr",adapter:"idb",multiInstance:!0},c));case 11:return l=t.sent,t.next=14,Promise.all(Object.keys(e.SCHEMAS).map(function(t){return l.collection({name:t,schema:e.SCHEMAS[t],migrationStrategies:b[t]}).then(function(e){return"string"==typeof s?e.sync({remote:"".concat(s,"/sensorr-").concat(t),waitForLeadership:!0,direction:{pull:!0,push:!0},options:{live:!0,retry:!0}}):null})}));case 14:return t.abrupt("return",l);case 15:case"end":return t.stop()}},t,this)}),f=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=l.apply(e,t);function i(e){s(o,n,r,i,a,"next",e)}function a(e){s(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return f.apply(this,arguments)})},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rxdb";return this.instance||(this.instance=this.bootstrap(e)),this.instance}}])&&c(t.prototype,n),r&&c(t,r),e}();d._POUCHDB="pouchdb",d._RXDB="rxdb",d.SCHEMAS={movies:{title:"movie",version:4,description:"Describe a TMDB movie",type:"object",required:["id","title","year","poster_path"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"wished"},imdb_id:{type:"string"},title:{type:"string"},original_title:{type:"string"},genres:{type:"array"},year:{type:"number"},release_date:{type:"number"},poster_path:{type:"string"},runtime:{type:"number"},popularity:{type:"number"},vote_average:{type:"number"},time:{type:"number"},terms:{type:"object",properties:{titles:{type:"array",uniqueItems:!0},years:{type:"array",uniqueItems:!0}}}}},stars:{title:"star",version:2,description:"Describe a TMDB star",type:"object",required:["id","state","name"],attachments:{},properties:{id:{type:"string",primary:!0},state:{type:"string",default:"stalked"},imdb_id:{type:"string"},name:{type:"string"},also_known_as:{type:"array"},gender:{type:"number"},known_for_department:{type:"string"},birthday:{type:"string"},popularity:{type:"number"},profile_path:{type:"string"},time:{type:"number"},credits:{type:"array"}}},calendar:{title:"publication",version:0,description:"Describe a TMDB movie publication",type:"object",required:["id","release_date","title","poster_path"],attachments:{},properties:{id:{type:"string",primary:!0},release_date:{type:"string",index:!0},imdb_id:{type:"string"},title:{type:"string"},original_title:{type:"string"},genres:{type:"array"},poster_path:{type:"string"},runtime:{type:"number"},popularity:{type:"number"},vote_average:{type:"number"},credits:{type:"array"}}}},e.exports=d},3:function(e,t,n){"use strict";var r=n(0);function o(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    0%{\n      background-position: 100% 0\n    }\n    100%{\n      background-position: -50% 0\n    }\n  "]);return o=function(){return e},e}var i={primary:"#01D277",secondary:"#081C24",tertiary:"#03ba6b",wrong:"#E32626",white:"#FFFFFF",smoke:"#FBFBFB",grey:"#EEEEEE",mercury:"#E4E4E4",gray:"#CCCCCC",black:"#000000",rangoon:"#1a1a1a",shadows:{black:"hsla(0, 0%, 0%, 0.75)",grey:"hsla(0, 0%, 0%, 0.5)"}},a={placeholder:Object(r.keyframes)(o())},s={row:{display:"flex",flexDirection:"row"},column:{display:"flex",flexDirection:"column"},spacings:{row:{">*":{margin:"0 1em",":first-of-type":{margin:"0 1em 0 0"},":last-of-type":{margin:"0 0 0 1em"},":first-of-type:last-of-type":{margin:0}}},column:{">*":{margin:"1em 0",":first-of-type":{margin:"0 0 1em"},":last-of-type":{margin:"1em 0 0"},":first-of-type:last-of-type":{margin:0}}}},semitransparent:{opacity:.5},placeholder:{animation:"".concat(a.placeholder," 2s linear infinite"),animationFillMode:"forwards",background:"linear-gradient(to right, ".concat(i.grey," 20%, ").concat(i.mercury," 50%, ").concat(i.grey," 80%)"),backgroundSize:"300%"}};t.a={colors:i,fonts:{primary:'"Raleway", sans-serif',secondary:'"Open Sans", sans-serif',monospace:'"Maison Mono", monospace'},resets:{a:{textDecoration:"none",":hover:not(:disabled)":{cursor:"pointer"}},button:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",padding:0,background:"none",color:"inherit",fontSize:"100%",fontFamily:"inherit",lineHeight:1,border:"none",":not(:disabled)":{cursor:"pointer"}},select:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",lineHeight:1.6,background:"none",border:"none",outline:"none",":not(:disabled)":{cursor:"pointer"}},input:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",padding:0,background:"none",fontSize:"100%",fontFamily:"inherit",lineHeight:1.6,border:"none",width:"100%",outline:"none"},checkbox:{display:"flex",alignItems:"center",justifyContent:"center",height:"1em",width:"1em",border:"0.075em solid white",borderRadius:"0.125em","&:not(:disabled)":{cursor:"pointer"},"&:checked":{"&:before":{content:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTczLjg5OCA0MzkuNDA0bC0xNjYuNC0xNjYuNGMtOS45OTctOS45OTctOS45OTctMjYuMjA2IDAtMzYuMjA0bDM2LjIwMy0zNi4yMDRjOS45OTctOS45OTggMjYuMjA3LTkuOTk4IDM2LjIwNCAwTDE5MiAzMTIuNjkgNDMyLjA5NSA3Mi41OTZjOS45OTctOS45OTcgMjYuMjA3LTkuOTk3IDM2LjIwNCAwbDM2LjIwMyAzNi4yMDRjOS45OTcgOS45OTcgOS45OTcgMjYuMjA2IDAgMzYuMjA0bC0yOTQuNCAyOTQuNDAxYy05Ljk5OCA5Ljk5Ny0yNi4yMDcgOS45OTctMzYuMjA0LS4wMDF6Ij48L3BhdGg+PC9zdmc+)",display:"block",margin:"-100% 0 0 0",padding:"0.2em",height:"1em",width:"1em"},"&:not(:disabled):before":{cursor:"pointer"}}},radio:{display:"flex",alignItems:"center",justifyContent:"center",height:"1em",width:"1em",border:"0.075em solid white",borderRadius:"50%","&:not(:disabled)":{cursor:"pointer"},"&:checked":{"&:before":{content:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTczLjg5OCA0MzkuNDA0bC0xNjYuNC0xNjYuNGMtOS45OTctOS45OTctOS45OTctMjYuMjA2IDAtMzYuMjA0bDM2LjIwMy0zNi4yMDRjOS45OTctOS45OTggMjYuMjA3LTkuOTk4IDM2LjIwNCAwTDE5MiAzMTIuNjkgNDMyLjA5NSA3Mi41OTZjOS45OTctOS45OTcgMjYuMjA3LTkuOTk3IDM2LjIwNCAwbDM2LjIwMyAzNi4yMDRjOS45OTcgOS45OTcgOS45OTcgMjYuMjA2IDAgMzYuMjA0bC0yOTQuNCAyOTQuNDAxYy05Ljk5OCA5Ljk5Ny0yNi4yMDcgOS45OTctMzYuMjA0LS4wMDF6Ij48L3BhdGg+PC9zdmc+)",display:"block",margin:"-100% 0 0 0",padding:"0.2em",height:"1em",width:"1em","&:not(:disabled):before":{cursor:"pointer"}}}}},animations:a,styles:s}},39:function(e,t,n){"use strict";(function(e,r){var o=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=new(n.n(o).a)(e.config,{proxify:!0,headers:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},(e.config||{auth:{}}).auth.username?{Authorization:"Basic ".concat(new r("".concat(e.config.auth.username,":").concat(e.config.auth.password)).toString("base64"))}:{})});t.a=s}).call(this,n(37),n(94).Buffer)},40:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return F}),n.d(t,"a",function(){return U}),n.d(t,"b",function(){return B});var r=n(15),o=n(0),i=n(1),a=n(4),s=n.n(a),c=n(38),l=n(56),u=n.n(l),p=n(80),f=n(116),b=n(45),d=n(58),y=n(24),m=n(55),j=n(124),g=n(180),h=n(254),O=n.n(h),v=n(3);function x(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,s,"next",e)}function s(e){x(i,r,o,a,s,"throw",e)}a(void 0)})}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function z(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(t){function n(e){var t;return M(this,n),R(T(t=z(this,E(n).call(this,e))),"fetchImg",function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fetch(e,{cache:"force-cache"}).then(function(e){return e.arrayBuffer()}).then(function(e){return"data:image/jpeg;base64,".concat(window.btoa([].slice.call(new Uint8Array(e)).reduce(function(e,t){return"".concat(e).concat(String.fromCharCode(t))},"")))}).then(function(o){if(r.palette){var i=sessionStorage.getItem(e);i?t.setState({palette:JSON.parse(i)}):Object(g.a)(o,function(n){try{sessionStorage.setItem(e,JSON.stringify(n))}catch(e){}t.setState({palette:n})})}n(o)})}),t.state={poster:null,backdrop:null,palette:{backgroundColor:v.a.colors[{default:"gray",pretty:"rangoon",card:"gray"}[e.display]],color:"#ffffff",alternativeColor:"#ffffff",negativeColor:"#ffffff"}},t}return N(n,i["PureComponent"]),A(n,[{key:"componentDidMount",value:function(){var e=this;if("pretty"===this.props.display){var t=this.props.entity,n=t.poster_path,r=t.backdrop_path;n&&this.fetchImg("https://image.tmdb.org/t/p/w342".concat(n),function(t){return e.setState({poster:t})},{palette:!0}),r&&this.fetchImg("https://image.tmdb.org/t/p/w780".concat(r),function(t){return e.setState({backdrop:t})})}}},{key:"componentDidUpdate",value:function(e){var t=this;if("pretty"===this.props.display&&e.entity.id!==this.props.entity.id){var n=this.props.entity,r=n.poster_path,o=n.backdrop_path;this.setState(function(e){return{poster:null,backdrop:null,palette:{backgroundColor:e.palette.backgroundColor,color:u()(e.palette.backgroundColor).isDark()?"#ffffff":"#000000",alternativeColor:u()(e.palette.backgroundColor).isDark()?"#ffffff":"#000000",negativeColor:u()(e.palette.backgroundColor).isDark()?"#ffffff":"#000000"}}}),r&&this.fetchImg("https://image.tmdb.org/t/p/w342".concat(r),function(e){return t.setState({poster:e})},{palette:!0}),o&&this.fetchImg("https://image.tmdb.org/t/p/w780".concat(o),function(e){return t.setState({backdrop:e})})}}},{key:"render",value:function(){var t=this.props,i=t.entity,a=t.display,s=t.link,l=t.placeholder,f=t.withCredits,b=(D(t,["entity","display","link","placeholder","withCredits"]),this.state),d=b.poster,g=b.backdrop,h=b.palette,O=(D(b,["poster","backdrop","palette"]),i.title||i.original_title||i.name||i.original_name||"");switch(a){case"default":return Object(o.jsx)(U,this.props);case"pretty":return Object(o.jsx)("div",{css:n.styles.pretty.element},Object(o.jsx)("div",{css:Object(r.a)([n.styles.pretty.backdrop,!i.id&&l&&v.a.styles.placeholder],"label:Film;")},Object(o.jsx)("img",{src:g,style:C({opacity:g?1:0},g?{}:{transition:"none"})}),Object(o.jsx)("div",{style:{boxShadow:"inset 0 0 0 100em ".concat(u()(h.backgroundColor).fade(.3).rgb().string())}})),Object(o.jsx)("div",{css:n.styles.pretty.poster},Object(o.jsx)(U,P({},this.props,{img:d,withHover:!1,withCredits:!1,style:{backgroundColor:h.backgroundColor,transition:"background-color 400ms ease-in-out"}}))),i.id&&Object(o.jsx)("div",{css:n.styles.pretty.about,style:C({opacity:g||null===i.backdrop_path?1:0},g||null===i.backdrop_path?{}:{transition:"none"})},Object(o.jsx)("h1",P({style:{color:h.color}},O.length>45?{title:O}:{}),O.length>45?"".concat(O.substring(0,45),"..."):O),!(!i.release_date&&!i.vote_average)&&Object(o.jsx)("div",{style:{color:h.negativeColor}},!!i.release_date&&Object(o.jsx)("small",null,Object(o.jsx)("span",null,"📆  "),Object(o.jsx)("span",null,new Date(i.release_date).toLocaleString(e.config.region,{year:"numeric",month:"2-digit",day:"2-digit"}))),void 0!==i.vote_average&&Object(o.jsx)("small",null,Object(o.jsx)("span",null,new y.Movie(i).judge(),"  "),Object(o.jsx)("strong",null,i.vote_average.toFixed(1)))),Array.isArray(i.genre_ids)&&Object(o.jsx)("p",{style:{color:h.alternativeColor}},Object(o.jsx)("small",null,Object(o.jsx)("strong",null,i.genre_ids.map(function(e){return m.GENRES[e]}).join(", ")))),!!i.overview&&Object(o.jsx)("p",{style:{color:h.negativeColor}},Object(o.jsx)("small",null,Object(j.truncate)(i.overview,200)))),f&&(i.credits||[]).map(function(e,t){return Object(o.jsx)(p.c,{entity:e,display:"avatar",updatable:!1,key:e.id,css:n.styles.pretty.credit,style:{right:"".concat(6*t,"em")}})}));case"card":return Object(o.jsx)("div",{css:n.styles.card.element},Object(o.jsx)(U,P({},this.props,{withHover:!1,withState:!1,css:n.styles.card.poster})),i.id&&Object(o.jsx)(c.b,{to:s(i),css:n.styles.card.container},Object(o.jsx)("h1",O.length>45?{title:O}:{},O.length>45?"".concat(O.substring(0,45),"..."):O),(i.release_date||void 0!==i.vote_average)&&Object(o.jsx)("span",null,!!i.release_date&&Object(o.jsx)("small",null,Object(o.jsx)("span",null,"📆  "),Object(o.jsx)("span",null,new Date(i.release_date).toLocaleString(e.config.region,{year:"numeric",month:"2-digit",day:"2-digit"}))),void 0!==i.vote_average&&Object(o.jsx)("small",null,Object(o.jsx)("span",null,new y.Movie(i).judge(),"  "),Object(o.jsx)("strong",null,i.vote_average.toFixed(1)))),Array.isArray(i.genre_ids)&&Object(o.jsx)("p",null,Object(o.jsx)("small",null,Object(o.jsx)("strong",null,i.genre_ids.map(function(e){return m.GENRES[e]}).join(", ")))),!!i.overview&&Object(o.jsx)("p",null,Object(o.jsx)("small",null,Object(j.truncate)(i.overview,200)))),void 0!==i.vote_average&&Object(o.jsx)(B,{entity:i,css:n.styles.card.state}));default:return null}}}]),n}();R(F,"propTypes",{entity:s.a.object.isRequired,link:s.a.func,focus:s.a.oneOf(["vote_average","release_date","release_date_full","popularity","runtime"]),display:s.a.oneOf(["default","pretty","card"]),placeholder:s.a.bool,withState:s.a.bool,withHover:s.a.bool,withCredits:s.a.bool}),R(F,"defaultProps",{link:function(e){return"/movie/".concat(e.id)},focus:null,display:"default",placeholder:!1,withState:!0,withHover:!0,withCredits:!1}),R(F,"styles",{pretty:{element:{position:"relative",display:"flex",height:"100%",width:"35em",padding:"3em 0 0 0"},backdrop:{position:"absolute",height:"calc(100% - 3em)",width:"100%",overflow:"hidden",">*":{position:"absolute",height:"100%",width:"100%"},">div":{transition:"box-shadow 400ms ease-in-out"},">img":{objectFit:"cover",objectPosition:"center center",transition:"opacity 400ms ease-in-out, filter 400ms ease-in-out 400ms"}},poster:{position:"relative",flexShrink:0,margin:"-3em 0 0 0",padding:"0 0 2em 1.5em"},about:{position:"relative",flex:1,margin:"1.25em 1.5em",overflowY:"auto",transition:"opacity 400ms ease-in-out",">h1":{fontSize:"1.5em",fontWeight:"bold",margin:"0 0 0.5em 0",transition:"color 400ms ease-in-out"},">div":{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 0 0.5em 0",fontFamily:v.a.fonts.secondary,transition:"color 400ms ease-in-out"},">p":{transition:"color 400ms ease-in-out","&:not(:last-of-type)":{margin:"0 0 1em 0"}}},credit:{position:"absolute",top:"2em",marginLeft:"-2em",fontSize:"0.375em"}},card:{element:{display:"flex",alignItems:"center",width:"25em"},poster:{fontSize:"0.4em"},container:C({},v.a.resets.a,{flex:1,padding:"0 0 0 1em",fontSize:"0.75em",color:v.a.colors.rangoon,transition:"opacity 400ms ease-in-out",">h1":{fontSize:"1em",fontWeight:"bold",margin:"0 0 0.5em 0"},">span":{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 0 0.5em 0",fontFamily:v.a.fonts.secondary},">p":{"&:not(:last-of-type)":{margin:"0 0 0.5em 0"}}}),state:{alignSelf:"flex-start",fontSize:"0.8em",margin:"0 0 0 2em"}}});var U=function e(t){var n=t.entity,a=t.img,s=t.focus,l=t.link,u=t.display,f=t.placeholder,b=t.withState,d=t.withHover,y=t.withCredits,j=D(t,["entity","img","focus","link","display","placeholder","withState","withHover","withCredits"]),g=S(Object(i.useState)(!1),2),h=g[0],O=g[1],x=S(Object(i.useState)(!1),2),w=x[0],k=x[1];Object(i.useEffect)(function(){a||O(!1)},[(n||{}).poster_path,a]);var _=l&&n.id?c.b:"span";return Object(o.jsx)("span",{onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}},Object(o.jsx)("span",P({},d?{}:{title:"".concat(n.title||n.original_title||n.name||n.original_name||"").concat(n.year||n.release_date?" (".concat(n.year||new Date(n.release_date).getFullYear(),")"):"")},j,{css:Object(r.a)([e.styles.element,f&&!n.id&&"pretty"!==u&&v.a.styles.placeholder,!n.poster_path&&n.id&&e.styles.empty,j.css],"label:Poster;")}),Object(o.jsx)("span",{css:e.styles.container},b&&Object(o.jsx)(B,{entity:n,css:e.styles.state,style:C({opacity:h||!n.poster_path&&n.id?1:0},h?{}:{transition:"none"})}),Object(o.jsx)(_,P({},l?{to:l(n)}:{},{css:e.styles.link}),(d||s)&&Object(o.jsx)("span",{css:e.styles.focus,style:{opacity:(h||!n.poster_path&&n.id)&&(w||s)?1:0,transitionDuration:s?"400ms":"250ms",transitionDelay:s?"400ms":"0ms"}},Object(o.jsx)(H,{entity:n,property:s||"vote_average"})),Object(o.jsx)("img",{src:a||{default:"https://image.tmdb.org/t/p/w300".concat(n.poster_path),pretty:a,card:"https://image.tmdb.org/t/p/w300".concat(n.poster_path)}[u],css:e.styles.img,style:C({opacity:h?1:0},h?{}:{transition:"none"}),onLoad:function(){return O(!0)}}),d&&Object(o.jsx)("span",{css:e.styles.hover,style:C({transform:"translateY(".concat((h||!n.poster_path&&n.id)&&w?0:100,"%)")},y?{paddingBottom:"6em"}:{})},Object(o.jsx)("span",null,Object(o.jsx)("strong",null,"".concat(n.title||n.original_title||n.name||n.original_name||"")),(n.year||n.release_date)&&Object(o.jsx)("span",null," (",n.year||new Date(n.release_date).getFullYear(),")")),(Array.isArray(n.genre_ids)||Array.isArray(n.genres))&&Object(o.jsx)("span",null,Object(o.jsx)("small",null,(n.genre_ids||n.genres).map(function(e){return m.GENRES[e]}).join(", "))))))),y&&Object(o.jsx)("span",{css:e.styles.credits,style:C({opacity:h||!n.poster_path&&n.id?1:0},h?{}:{transition:"none"})},(n.credits||[]).map(function(t,n){return Object(o.jsx)(p.c,{entity:t,display:"avatar",updatable:!1,key:t.id,css:e.styles.credit})})))};U.styles={element:{position:"relative",display:"block",height:"15em",width:"10em",backgroundColor:v.a.colors.grey,zIndex:0},container:{position:"relative",display:"block",height:"100%",width:"100%",overflow:"hidden"},empty:{backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"50%"},state:{position:"absolute",right:"0.5em",top:"0.5em",transition:"opacity 400ms ease-in-out 400ms"},link:{display:"block",height:"100%"},focus:{position:"absolute",top:0,transition:"opacity 250ms ease-in-out"},img:{height:"100%",width:"100%",objectFit:"cover",objectPosition:"center center",transition:"opacity 400ms ease-in-out, filter 400ms ease-in-out 400ms"},hover:{position:"absolute",bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",backgroundColor:v.a.colors.shadows.black,color:"white",padding:"1em",fontSize:"0.7em",transition:"transform 250ms ease-in-out",">span":{display:"block","&:first-of-type":{lineHeight:1.25},"&:not(:last-child)":{margin:"0 0 0.5em 0"}}},credits:{display:"flex",alignItems:"center",justifyContent:"flex-start",margin:"-3.5em 0 0 -0.5em",transition:"opacity 400ms ease-in-out"},credit:{marginLeft:"-2em",fontSize:"0.375em"}};var B=function(t){function n(e){var t;return M(this,n),(t=z(this,E(n).call(this,e))).state={doc:!1,id:O()()},t.bootstrap=t.bootstrap.bind(T(t)),t.handleStateChange=t.handleStateChange.bind(T(t)),t}var a,s;return N(n,i["PureComponent"]),A(n,[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id!==this.props.entity.id&&(this.subscription&&this.subscription.unsubscribe(),this.bootstrap())}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"bootstrap",value:(s=w(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,d.a.get();case 4:return t=e.sent,n=t.movies.findOne().where("id").eq(this.props.entity.id.toString()),e.next=8,n.exec();case 8:r=e.sent,this.setState({doc:r?r.toJSON():null}),this.subscription=n.$.subscribe(function(e){return o.setState({doc:e?e.toJSON():null})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,this,[[0,13]])})),function(){return s.apply(this,arguments)})},{key:"handleStateChange",value:(a=w(regeneratorRuntime.mark(function t(n){var r,o,i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.value,t.next=3,d.a.get();case 3:if(o=t.sent,(i=this.props.entity).alternative_titles&&i.release_dates){t.next=17;break}return t.prev=6,t.next=9,b.a.fetch(["movie",i.id],{append_to_response:"alternative_titles,release_dates"});case 9:i=t.sent,t.next=17;break;case 12:t.prev=12,t.t0=t.catch(6),console.warn(t.t0),i.alternative_titles={},i.release_dates={};case 17:if(!1!==this.state.doc){t.next=19;break}return t.abrupt("return");case 19:return a=new y.Movie(C({},i,{state:r}),e.config.region||localStorage.getItem("region")).normalize(),t.next=22,o.movies.atomicUpsert(a);case 22:s=t.sent,this.setState({doc:s.toJSON(),entity:i});case 24:case"end":return t.stop()}},t,this,[[6,12]])})),function(e){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.entity,e.compact),i=D(e,["entity","compact"]),a=this.state,s=a.id,c=a.doc,l=(D(a,["id","doc"]),{loading:{emoji:"⌛",label:"Loading"},ignored:{emoji:"🔕",label:"Ignored"},pinned:{emoji:"📍",label:"Pinned"},wished:{emoji:"🍿",label:"Wished"},archived:{emoji:"📼",label:"Archived"}}),u="loading";return u=null===c||c&&"ignored"===c.state?"ignored":c&&"pinned"===c.state?"pinned":c&&"wished"===c.state?"wished":c&&"archived"===c.state?"archived":"loading",Object(o.jsx)("div",P({},i,{css:Object(r.a)([n.styles.element,i.css],"label:State;")}),Object(o.jsx)("label",{htmlFor:s,css:n.styles.label},"loading"!==u&&Object(o.jsx)("select",{id:s,value:u,onChange:this.handleStateChange,css:n.styles.select},Object.keys(l).filter(function(e){return!["loading"].includes(e)}).map(function(e){return Object(o.jsx)("option",{key:e,value:e},l[e].emoji," - ",l[e].label)})),Object(o.jsx)(f.a,P({emoji:l[u].emoji,title:l[u].label},t?{}:{label:l[u].label},"loading"===u?{style:{cursor:"default"}}:{},"loading"!==u?{onClick:this.handleStateChange}:{}))))}}]),n}();R(B,"propTypes",{entity:s.a.object.isRequired,compact:s.a.bool}),R(B,"defaultProps",{compact:!0}),B.styles={element:{zIndex:1},label:{position:"relative",display:"flex"},select:{position:"absolute",opacity:0,top:0,left:0,height:"100%",width:"100%",appearance:"none",border:"none",cursor:"pointer"}};var H=function e(t){var n=t.entity,r=t.property;D(t,["entity","property"]);return n.id?Object(o.jsx)(f.a,{emoji:{vote_average:new y.Movie(n).judge(),release_date_full:"📅",release_date:"📅",popularity:"📣",runtime:"🕙"}[r],label:{vote_average:"".concat((n.vote_average||0).toFixed(1)),release_date_full:n.release_date?new Date(n.release_date).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"}):"Unknown",release_date:n.release_date?new Date(n.release_date).getFullYear():"Unknown",popularity:"".concat(parseInt(n.popularity||0)),runtime:Object(o.jsx)("span",{style:{textTransform:"none"}},new y.Movie(n).duration()||"Unknown")}[r],style:e.styles.element}):null};H.styles={element:{padding:"0.5em 0.75em",margin:"1em 0.5em",fontSize:"0.75em"}}}).call(this,n(37))},415:function(e,t,n){"use strict";(function(e){var r=n(15),o=n(0),i=n(1),a=n(140),s=n(76),c=n(39),l=n(78),u=n.n(l),p=n(3);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0% {\n    visibility: visible;\n  }\n  50% {\n    visibility: hidden;\n  }\n  75% {\n    visibility: hidden;\n  }\n  100% {\n    visibility: visible;\n  }\n"]);return O=function(){return e},e}var v=Object(o.keyframes)(O()),x={element:{position:"relative",padding:"0.25em 0 0.25em 0.3125em"},button:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p.a.resets.button,{color:"black","&:disabled":{opacity:.5}}),indicator:{element:{position:"absolute",top:0,left:0,height:"0.25em",width:"0.25em",borderRadius:"50%",animation:"1.5s linear infinite ".concat(v)},ongoing:{backgroundColor:p.a.colors.wrong},loading:{backgroundColor:p.a.colors.gray},hidden:{display:"none"}}},w=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=y(n).call(this,e))||"object"!==f(o)&&"function"!=typeof o?m(r):o).state={loading:!1},t.triggerJob=t.triggerJob.bind(m(t)),t.debounce=u()(1e3),t}var a,s,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,i["PureComponent"]),a=n,(s=[{key:"triggerJob",value:function(t){var n=this,r=this.props.toastManager;this.setState({loading:!0}),fetch("/api/trigger",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(c.a.config.auth.username,":").concat(c.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({type:t})}).then(function(e){try{e.json().then(function(n){e.ok?r.add({record:Object(o.jsx)("span",null,Object(o.jsx)("strong",null,"Record")," job triggered ! See ",Object(o.jsx)("strong",null,"Logs")," page to follow progress !")}[t],{appearance:"success",autoDismiss:!0}):r.add({record:Object(o.jsx)("span",null,Object(o.jsx)("strong",null,"Record")," job already in progress")}[t],{appearance:"error",autoDismiss:!0})})}catch(t){r.add(Object(o.jsx)("span",null,"Unexpected error during job trigger : ",Object(o.jsx)("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}finally{n.debounce(function(){return n.setState({loading:!1})})}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ongoing,i=(t.toastManager,b(t,["ongoing","toastManager"]),this.state),a=i.loading;return b(i,["loading"]),Object(o.jsx)("div",{css:x.element},Object(o.jsx)("span",{css:Object(r.a)([x.indicator.element,n?x.indicator.ongoing:a?x.indicator.loading:x.indicator.hidden],"label:Recording;")}),Object(o.jsx)("button",{css:x.button,title:"📹 Record".concat(n||a?"ing":""," wished movies from collection"),onClick:function(){return!n&&e.triggerJob("record")},disabled:n||a},"📼"))}}])&&d(a.prototype,s),l&&d(a,l),n}();t.a=Object(a.b)(function(e){return{ongoing:e.jobs["sensorr:record"]}},function(){return{}})(Object(s.withToastManager)(w))}).call(this,n(94).Buffer)},416:function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n(67),l=c.from,u=c.of,p=c.throwError,f=n(66),b=f.tap,d=f.map,y=f.delay,m=f.toArray,j=f.concatAll,g=f.filter,h=f.mergeMap,O=f.pluck,v=f.timeout,x=f.retry,w=f.catchError,S=n(701),k=n(124),P=n(177),_=n(703),C=n(710),D=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MINIMUM_SIMILARITY=.6,this.options=n;var r=i({tmdb:"",blackhole:"/tmp",xznabs:[],filter:"",sort:"seeders",descending:!1},C,{},t);this.config=i({},r,{logs:i({},r.logs,{limit:P.parse("".concat(r.logs.limit,"MB"))})}),this.xznabs=(this.config.xznabs||[]).filter(function(e){return!e.disabled}).map(function(e){return new _(e,n)})}var t,n,o;return t=e,(n=[{key:"score",value:function(e){var t=this;return e.score+Object.keys(this.config.policy.prefer||{}).map(function(n){return t.config.policy.prefer[n].map(function(t,r,o){var i="flags"===n?1:(o.length-r)/o.length;return("custom"===n?function(t){return new RegExp(t,"ig").test(e.meta.original)||new RegExp(t,"ig").test(e.meta.generated)}:function(t){return(Array.isArray(e.meta[n])?e.meta[n]:[e.meta[n]]).includes(t)})(t)?i:0}).reduce(function(e,t){return e+parseInt(100*t)},0)}).reduce(function(e,t){return e+t},0)}},{key:"filter",value:function(e){var t=this;return Object.keys(this.config.policy.avoid||{}).map(function(n){var r="custom"===n?function(t){return new RegExp(t,"ig").test(e.meta.original)||new RegExp(t,"ig").test(e.meta.generated)}:function(t){return(Array.isArray(e.meta[n])?e.meta[n]:[e.meta[n]]).includes(t)},o=t.config.policy.avoid[n].filter(r);if(o.length)throw new Error("👮 Release doesn't pass configured policy (".concat(n,"=").concat(o.join(", "),")"));return!0}).every(function(e){return e})}},{key:"sort",value:function(e,t){return function(n,r){if(n.score===r.score){if(t){if(n[e]<r[e])return 1;if(n[e]>r[e])return-1}else{if(n[e]<r[e])return-1;if(n[e]>r[e])return 1}return 0}return n.score<r.score?1:-1}}},{key:"look",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e.terms.titles).pipe(h(function(r){return l(t.xznabs).pipe(h(function(a){return u(a).pipe(b(function(e){return"function"==typeof o.search&&o.search(e,r)}),h(function(e){return e.search(r).pipe(v(1e4),w(function(t){return"TimeoutError"===t.name&&"function"==typeof o.timeout&&o.timeout(e,r),p(t)}))}),x(1),w(function(){return u({items:[]})}),O("items"),b(function(e){return"function"==typeof o.found&&o.found(a,r,e)}),j(),d(function(e){return i({},e,{term:r,similarity:0,score:0,valid:!0,reason:null,warning:0,meta:S.parse(e.title,{strict:!1,flagged:!0,defaults:{language:"ENGLISH",resolution:"SD",year:0}})})}),d(function(t){var n=e.terms.years.some(function(e){return new Date(t.publishDate).getFullYear()>=e});return i({},t,{valid:n,reason:n?null:"📰 Release published year (".concat(new Date(t.publishDate).getFullYear(),") prior to movie release years (").concat(e.terms.years.join(", "),")"),warning:n?0:2})}),d(function(t){if(t.valid){var n=0===parseInt(t.meta.year)||e.terms.years.some(function(e){return parseInt(t.meta.year)===e});return i({},t,{valid:n,reason:n?null:"🕰 Release year (".concat(t.meta.year,") ").concat(0===parseInt(t.meta.year)?"unknown":"different from movie release years (".concat(e.terms.years.join(", "),")")),warning:n?0:2})}return t}),d(function(n){if(n.valid){var r=e.terms.titles.map(function(e){return k.similarity(e,k.clean(n.meta.title)).toFixed(2)}).sort(function(e,t){return t-e}).shift(),o=r>=t.MINIMUM_SIMILARITY;return i({},n,{similarity:r,score:o?n.score+1e3:n.score,valid:o,reason:o?null:"🎯 Similarity too low : ".concat(r,' ("').concat(k.clean(n.meta.title),'" doesn\'t match with "').concat(e.terms.titles.join(", "),'")'),warning:o?0:2})}return n}),d(function(e){if(!e.valid)return e;try{return i({},e,{valid:t.filter(e),reason:null,warning:0})}catch(t){return i({},e,{valid:!1,reason:t.message,warning:1})}}),d(function(e){if(e.valid){var t=!!e.seeders;return i({},e,{valid:t,reason:t?null:"🌍 No seeders",warning:t?0:1})}return e}),d(function(e){return i({},e,{score:t.score(e)})}),b(function(e){return"function"==typeof o.release&&o.release(a,r,e)}),g(function(e){return!n||e.valid}),y(2e3))},null,1))},null,1),m(),d(function(e){return Object.values(e.reduce(function(e,t){return i({},e,a({},t.guid,[].concat(r(e[t.guid]||[]),[t])))},{})).map(function(e){return e.sort(function(e,t){return e.valid?e:t}).shift()})}),d(function(e){return e.sort(t.sort(t.config.sort,t.config.descending))}))}}])&&s(t.prototype,n),o&&s(t,o),e}();e.exports=D},425:function(e,t){},434:function(e,t){var n=function(){};
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */
if(n.prototype.getColor=function(e,t,n){return!0!==t&&!1!==t||(n=t,t=void 0),this.getPalette(e,5,t,n)[0]},n.prototype.getPalette=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=new CanvasImage(e),i=o.getImageData(),a=i.data,s=o.getPixelCount(),c=this.getPaletteFromPixels(a,s,t,n,r);return o.removeCanvas(),c},n.prototype.getPaletteFromPixels=function(e,t){for(var n,r,i,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,l=[],u=0;u<t;u+=c)r=e[(n=4*u)+0],i=e[n+1],a=e[n+2],e[n+3]>=125&&(r>255&&i>255&&a>255||l.push([r,i,a]));var p=o.quantize(l,s),f=p.palette();return f},!r)var r={map:function(e,t){var n={};return t?e.map(function(e,r){return n.index=r,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?r.map(e,t):e)}};var o=function(){var e=5,t=8-e,n=1e3,o=.75;function i(t,n,r){return(t<<2*e)+(n<<e)+r}function a(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function s(e,t,n,r,o,i,a){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=o,this.b2=i,this.histo=a}function c(){this.vboxes=new a(function(e,t){return r.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function l(e,t){if(t.count()){var n=t.r2-t.r1+1,o=t.g2-t.g1+1,a=t.b2-t.b1+1,s=r.max([n,o,a]);if(1==t.count())return[t.copy()];var c,l,u,p,f=0,b=[],d=[];if(s==n)for(c=t.r1;c<=t.r2;c++){for(p=0,l=t.g1;l<=t.g2;l++)for(u=t.b1;u<=t.b2;u++)p+=e[i(c,l,u)]||0;f+=p,b[c]=f}else if(s==o)for(c=t.g1;c<=t.g2;c++){for(p=0,l=t.r1;l<=t.r2;l++)for(u=t.b1;u<=t.b2;u++)p+=e[i(l,c,u)]||0;f+=p,b[c]=f}else for(c=t.b1;c<=t.b2;c++){for(p=0,l=t.r1;l<=t.r2;l++)for(u=t.g1;u<=t.g2;u++)p+=e[i(l,u,c)]||0;f+=p,b[c]=f}return b.forEach(function(e,t){d[t]=f-e}),y(s==n?"r":s==o?"g":"b")}function y(e){var n,r,o,i,a,s=e+"1",l=e+"2",u=0;for(c=t[s];c<=t[l];c++)if(b[c]>f/2){for(o=t.copy(),i=t.copy(),a=(n=c-t[s])<=(r=t[l]-c)?Math.min(t[l]-1,~~(c+r/2)):Math.max(t[s],~~(c-1-n/2));!b[a];)a++;for(u=d[a];!u&&b[a-1];)u=d[--a];return o[l]=a,i[s]=o[l]+1,[o,i]}}}return s.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var t=this.histo;if(!this._count_set||e){var n,r,o,a=0;for(n=this.r1;n<=this.r2;n++)for(r=this.g1;r<=this.g2;r++)for(o=this.b1;o<=this.b2;o++){a+=t[i(n,r,o)]||0}this._count=a,this._count_set=!0}return this._count},copy:function(){return new s(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r,o,a,s,c=0,l=1<<8-e,u=0,p=0,f=0;for(o=this.r1;o<=this.r2;o++)for(a=this.g1;a<=this.g2;a++)for(s=this.b1;s<=this.b2;s++)c+=r=n[i(o,a,s)]||0,u+=r*(o+.5)*l,p+=r*(a+.5)*l,f+=r*(s+.5)*l;this._avg=c?[~~(u/c),~~(p/c),~~(f/c)]:[~~(l*(this.r1+this.r2+1)/2),~~(l*(this.g1+this.g2+1)/2),~~(l*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var n=e[0]>>t;return gval=e[1]>>t,bval=e[2]>>t,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},c.prototype={push:function(e){this.vboxes.push({vbox:e,rgb:e.avg(),count:e.count()})},palette:function(){return this.vboxes.map(function(e){return{rgb:e.rgb,count:e.count}})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||void 0===t)&&(t=n,r=o.peek(i).color);return r},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return r.naturalOrder(r.sum(e.color),r.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,o=e[n].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(u,p){if(!u.length||p<2||p>256)return new c;var f=function(n){var r,o,a,s,c=new Array(1<<3*e);return n.forEach(function(e){o=e[0]>>t,a=e[1]>>t,s=e[2]>>t,r=i(o,a,s),c[r]=(c[r]||0)+1}),c}(u);f.forEach(function(){0});var b=function(e,n){var r,o,i,a=1e6,c=0,l=1e6,u=0,p=1e6,f=0;return e.forEach(function(e){r=e[0]>>t,o=e[1]>>t,i=e[2]>>t,r<a?a=r:r>c&&(c=r),o<l?l=o:o>u&&(u=o),i<p?p=i:i>f&&(f=i)}),new s(a,c,l,u,p,f,n)}(u,f),d=new a(function(e,t){return r.naturalOrder(e.count(),t.count())});function y(e,t){for(var r,o=1,i=0;i<n;)if((r=e.pop()).count()){var a=l(f,r),s=a[0],c=a[1];if(!s)return;if(e.push(s),c&&(e.push(c),o++),o>=t)return;if(i++>n)return}else e.push(r),i++}d.push(b),y(d,o*p);for(var m=new a(function(e,t){return r.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});d.size();)m.push(d.pop());y(m,p-m.size());for(var j=new c;m.size();)j.push(m.pop());return j}}}();e.exports=n},436:function(e,t,n){"use strict";(function(e,r){var o=n(15),i=n(0),a=n(1),s=n.n(a),c=n(4),l=n.n(c),u=n(76),p=n(24),f=n(256),b=n.n(f),d=n(437),y=n.n(d),m=n(182),j=n(49),g=n(52),h=n(39),O=n(58),v=n(177),x=n.n(v),w=n(124),S=n(78),k=n.n(S),P=n(115),_=n(3);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={releases:{element:{position:"relative"},ongoing:{">div":{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"2em 10%",backgroundColor:_.a.colors.tertiary,color:"white",">div:first-of-type":{display:"flex",alignItems:"center",">div:first-of-type":{height:"1em",width:"1em",margin:"0 1em 0 -2em"}},">div:last-of-type":{}}},results:{margin:"2em 0"},spinner:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50vh",margin:"2em 0 0 0"}},release:{element:{position:"relative",fontSize:"0.75em",padding:"0 2em 0 1em",overflow:"hidden",">div":{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1em 0",backgroundColor:"transparent",borderBottom:"0.075em solid ".concat(_.a.colors.mercury),">a":L({},_.a.resets.a,{zIndex:1,position:"absolute",fontSize:"2em",margin:"0 0 0 -3em",transition:"margin ease 250ms"}),">div:first-of-type":{">button":L({},_.a.resets.button,{margin:"0 0 0 4em",opacity:.8}),">a":{zIndex:1,color:_.a.colors.primary,opacity:.8,":hover":{opacity:1}}},">div:last-of-type":{display:"flex",alignItems:"center",">span":{fontSize:"2em",margin:"0 1em 0 0"}}},":hover":{">div":{backgroundColor:"white",">a":{margin:"0 0 0 0.5em",transition:"margin ease 250ms 250ms"},">div>button":{opacity:1}}}},invalid:{textDecoration:"line-through"},bars:{display:"flex",flexDirection:"column",">div":{display:"flex",alignItems:"center",">span:nth-of-type(2)":{display:"block",height:"0.125em",width:"8em",margin:"0 1em"},">small":{width:"6em"}}}}},U=function(e){return Object(i.jsx)(s.a.Fragment,null,Object(i.jsx)("div",{css:Object(o.a)([_.a.styles.row,_.a.styles.spacings.row],"label:Pane;"),key:0},i.jsx(e.languages.element,L({},e.languages.props,{display:"column"})),i.jsx(e.sources.element,L({},e.sources.props,{display:"column"})),i.jsx(e.resolutions.element,L({},e.resolutions.props,{display:"column"})),i.jsx(e.encodings.element,L({},e.encodings.props,{display:"column"})),i.jsx(e.dubs.element,L({},e.dubs.props,{display:"column"}))),i.jsx(e.flags.element,e.flags.props),Object(i.jsx)("div",{css:Object(o.a)([_.a.styles.row,_.a.styles.spacings.row],"label:Pane;"),key:1},i.jsx(e.score.element,e.score.props),i.jsx(e.peers.element,e.peers.props),i.jsx(e.size.element,e.size.props)),Object(i.jsx)("div",{css:Object(o.a)([_.a.styles.row,_.a.styles.spacings.row],"label:Pane;"),key:2},i.jsx(e.terms.element,L({},e.terms.props,{display:"column"})),i.jsx(e.websites.element,L({},e.websites.props,{display:"column"})),i.jsx(e.state.element,L({},e.state.props,{display:"column"}))),i.jsx(e.sorting.element,e.sorting.props))},B=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=z(this,E(n).call(this,e))).state={releases:[],loading:!0,ongoing:{title:null,xznab:null},filter:function(){return!0},sort:function(e,t){return n.Sortings.score.apply(e,t,!0)}},t.releases={},t.debounce=k()(200),t}var s,c,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,a["PureComponent"]),s=n,(c=[{key:"componentDidMount",value:function(){var t=this;this.subscription=h.a.look(new p.Movie(this.props.movie,e.config.region||localStorage.getItem("region")).normalize(),!1,{search:function(e,n){console.log("🔫 ",'Looking for "'.concat(n,'" on "').concat(e.name,'" XZNAB')),t.setState({ongoing:{xznab:e,title:n}})},timeout:function(e,t){console.log("⌛ ",'Request for "'.concat(t,'" on "').concat(e.name,'" XZNAB timed out ! Retrying...'))},found:function(e,t,n){console.log("🎞️ ",'Found "'.concat(n.length,'" releases'))},release:function(e,n,r){console.log("*",r.title,r.valid?"(".concat(r.score,")"):r.reason),t.releases[r.guid]=r,t.debounce(function(){return t.setState({releases:Object.values(t.releases)})})},sorted:function(e){e.length?console.log("🚧",'Filtering and ordering "'.concat(e.length,'" releases'),"[".concat(t.state.sort,"]"),{true:"🔻",false:"🔺"}[t.state.descending]):console.log("📭","️Sorry, no valid releases found")}}).subscribe(function(){},function(e){t.setState({loading:!1,ongoing:{title:null,xznab:null}}),console.warn(e)},function(){t.setState({loading:!1,ongoing:{title:null,xznab:null}})})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"handleGrabClick",value:function(t){var n=this,o=this.props.toastManager;o.add(Object(i.jsx)("span",null,"Trying to grab release ",Object(i.jsx)("strong",null,t.title),"..."),{appearance:"info",autoDismiss:!0}),fetch("/api/grab",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(h.a.config.auth.username,":").concat(h.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({release:t})}).then(function(r){try{r.json().then(function(a){r.ok?(o.add(Object(i.jsx)("span",null,"Release ",Object(i.jsx)("strong",null,t.title)," grabbed to ",Object(i.jsx)("strong",null,h.a.config.blackhole)),{appearance:"success",autoDismiss:!0}),O.a.get().then(function(t){return t.movies.atomicUpsert(new p.Movie(L({},n.props.movie,{state:"archived"}),e.config.region||localStorage.getItem("region")).normalize())})):o.add(Object(i.jsx)("span",null,"Something went wrong during ",Object(i.jsx)("strong",null,t.title)," grabing : ",Object(i.jsx)("strong",null,a.reason)),{appearance:"error",autoDismiss:!0})})}catch(e){o.add(Object(i.jsx)("span",null,"Unexpected error during ",Object(i.jsx)("strong",null,t.title)," grabing : ",Object(i.jsx)("strong",null,r.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"render",value:function(){var t,r=this,a=I({},this.props),s=this.state,c=s.releases,l=s.loading,u=s.ongoing,f=s.filter,d=s.sort,O=(M(s,["releases","loading","ongoing","filter","sort"]),new p.Movie(a.movie,e.config.region||localStorage.getItem("region")).normalize()),v=c.filter(f).sort(d),w=(D(c).sort(function(e,t){return e.score-t.score}).pop()||{score:0}).score,S=(D(c).sort(function(e,t){return e.peers-t.peers}).pop()||{peers:0}).peers,k=(D(c).sort(function(e,t){return e.size-t.size}).pop()||{size:0}).size;return Object(i.jsx)("div",{css:F.releases.element},Object(i.jsx)(m.a,{entities:c,label:function(e){var t=e.total,n=e.reset;return Object(i.jsx)("button",{css:_.a.resets.button,onClick:function(){return n()}},Object(i.jsx)("span",null,Object(i.jsx)("strong",null,t)," Releases"))},filters:Object.keys(n.Filters).reduce(function(e,t){return L({},e,R({},t,n.Filters[t](c,O)))},{}),sortings:n.Sortings,onChange:function(e){var t=e.filter,n=e.sort;return r.setState({filter:t,sort:n})},defaults:{filtering:{},sorting:n.Sortings.score,reverse:!1},render:{pane:U}}),Object(i.jsx)(b.a,{css:F.releases.ongoing,height:u.title&&u.xznab?"auto":0},Object(i.jsx)("div",null,Object(i.jsx)(j.a,null),Object(i.jsx)("code",null,u.title),Object(i.jsx)("code",null," "),Object(i.jsx)("code",null,Object(i.jsx)("small",{css:_.a.styles.semitransparent},(u.xznab||{}).name))),Object(i.jsx)("div",null,u.title&&u.xznab&&Object(i.jsx)("code",null,Object(i.jsx)(y.a,(R(t={start:0,duration:10,suffix:"%",easingFn:function(e,t,n,r){return e==r?t+n:n*(1-Math.pow(2,-10*e/r))+t}},"start",parseInt((O.terms.titles.indexOf(u.title)*h.a.xznabs.length+h.a.xznabs.indexOf(u.xznab))/(O.terms.titles.length*h.a.xznabs.length)*100)),R(t,"end",parseInt((O.terms.titles.indexOf(u.title)*h.a.xznabs.length+h.a.xznabs.indexOf(u.xznab)+1)/(O.terms.titles.length*h.a.xznabs.length)*100)),t))))),Object(i.jsx)("div",{css:F.releases.results},v.map(function(e){var t=new URL(e.link);return t.searchParams.set("file",e.meta.generated.normalize("NFD").replace(/[^\x00-\x7F]/g,"")),Object(i.jsx)("div",I({key:e.guid,css:F.release.element},e.warning?{title:e.reason}:{}),Object(i.jsx)("div",null,Object(i.jsx)("a",{href:"/proxy?url=".concat(window.btoa(t.toString())),target:"_blank",title:"🍿 Grab a ticket (manual)"},"🎟 ️"),Object(i.jsx)("div",null,Object(i.jsx)("button",{onClick:function(){return r.handleGrabClick(e)},title:"🍿 Grab a ticket (auto)"},Object(i.jsx)("code",{css:Object(o.a)([2===e.warning&&F.release.invalid],"label:Releases;")},e.meta.generated)),Object(i.jsx)("span",null,"  "),Object(i.jsx)("a",{href:e.guid},Object(i.jsx)("code",null,Object(i.jsx)("small",null,"(",e.site,")")))),Object(i.jsx)("div",null,0===e.warning&&Object(i.jsx)("span",{title:"🎉 Release is valid according to configured policy"},"👍"),Object(i.jsx)("div",{css:F.release.bars},Object(i.jsx)("div",{title:"Score (".concat(e.score,")")},Object(i.jsx)("span",null,"💯"),Object(i.jsx)("span",{style:{background:"linear-gradient(\n                              90deg,\n                              ".concat(_.a.colors.primary," 0%,\n                              ").concat(_.a.colors.primary," ").concat(e.score/w*100,"%,\n                              ").concat(_.a.colors.mercury," ").concat(e.score/w*100,"%,\n                              ").concat(_.a.colors.mercury," 100%\n                            )")}}),Object(i.jsx)("small",{css:_.a.styles.semitransparent},Object(i.jsx)("code",null,e.score))),Object(i.jsx)("div",{title:"Peers (".concat(e.seeders,"/").concat(e.peers,")")},Object(i.jsx)("span",null,"🌍"),Object(i.jsx)("span",{style:{background:"linear-gradient(\n                              90deg,\n                              ".concat(_.a.colors.primary," 0%,\n                              ").concat(_.a.colors.primary," ").concat(e.peers/S*100,"%,\n                              ").concat(_.a.colors.mercury," ").concat(e.peers/S*100,"%,\n                              ").concat(_.a.colors.mercury," 100%\n                            )")}}),Object(i.jsx)("small",{css:_.a.styles.semitransparent},Object(i.jsx)("code",null,e.peers))),Object(i.jsx)("div",{title:"Size (".concat(x.a.stringify(e.size),")")},Object(i.jsx)("span",null,"📦"),Object(i.jsx)("span",{style:{background:"linear-gradient(\n                              90deg,\n                              ".concat(_.a.colors.primary," 0%,\n                              ").concat(_.a.colors.primary," ").concat(e.size/k*100,"%,\n                              ").concat(_.a.colors.mercury," ").concat(e.size/k*100,"%,\n                              ").concat(_.a.colors.mercury," 100%\n                            )")}}),Object(i.jsx)("small",{css:_.a.styles.semitransparent},Object(i.jsx)("code",null,x.a.stringify(e.size))))))))}),!v.length&&(l?Object(i.jsx)("div",{css:F.releases.spinner},Object(i.jsx)(j.a,null)):Object(i.jsx)(g.a,{emoji:"💀",title:"Sorry, no releases found",subtitle:Object(i.jsx)("span",null,"Try to add some XZNAB to your configuration ?")}))))}}])&&A(s.prototype,c),l&&A(s,l),n}();R(B,"propTypes",{movie:l.a.object.isRequired}),B.Filters={query:function(e){return{label:"Query",type:"input",default:"",apply:function(e,t){return[e.title].some(function(e){return new RegExp(Object(w.clean)(t),"i").test(Object(w.clean)(e))})}}},sources:function(e){var t=e.filter(function(e){return e.meta.source}).reduce(function(e,t){return L({},e,R({},t.meta.source,0))},{});return{label:"Source",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):Object.keys(P.source).slice(0,5)).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.meta.source===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.meta.source||"",(e[t.meta.source]||0)+1))},t)}}},encodings:function(e){var t=e.filter(function(e){return e.meta.encoding}).reduce(function(e,t){return L({},e,R({},t.meta.encoding,0))},{});return{label:"Encoding",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):Object.keys(P.encoding)).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.meta.encoding===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.meta.encoding||"",(e[t.meta.encoding]||0)+1))},t)}}},resolutions:function(e){var t=e.filter(function(e){return e.meta.resolution}).reduce(function(e,t){return L({},e,R({},t.meta.resolution,0))},{});return{label:"Resolution",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):Object.keys(P.resolution)).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.meta.resolution===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.meta.resolution||"",(e[t.meta.resolution]||0)+1))},t)}}},dubs:function(e){var t=e.filter(function(e){return e.meta.dub}).reduce(function(e,t){return L({},e,R({},t.meta.dub,0))},{});return{label:"Dub",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):Object.keys(P.dub)).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.meta.dub===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.meta.dub||"",(e[t.meta.dub]||0)+1))},t)}}},languages:function(e){var t=e.reduce(function(e,t){return L({},e,R({},t.meta.language,0))},{});return{label:"Language",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):Object.keys(P.language).slice(0,5)).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.meta.language===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.meta.language||"",(e[t.meta.language]||0)+1))},t)}}},flags:function(e){var t=e.reduce(function(e,t){return D(new Set([].concat(D(e),D(t.meta.flags||[]))))},[]).reduce(function(e,t){return L({},e,R({},t,0))},{});return{label:"Flags",type:"checkbox",inputs:Object.keys(t).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return(e.meta.flags||[]).includes(t)})},histogram:function(e){return e.reduce(function(e,t){return L({},e,{},(t.meta.flags||[]).reduce(function(t,n){return L({},t,R({},n,(e[n]||0)+1))},{}))},t)}}},terms:function(e,t){return{label:"Term",type:"checkbox",inputs:t.terms.titles.map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.term===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.term||"",(e[t.term]||0)+1))},t.terms.titles.reduce(function(e,t){return L({},e,R({},t,0))},{}))}}},websites:function(e){var t=e.reduce(function(e,t){return L({},e,R({},t.site||"",0))},{});return{label:"Website",type:"checkbox",inputs:(Object.keys(t).length?Object.keys(t):["unknown"]).map(function(e){return{label:e,value:e}}),default:[],orderize:!0,apply:function(e,t){return!t.length||t.some(function(t){return e.site===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},t.site||"",(e[t.site]||0)+1))},t)}}},state:function(e){var t={valid:0,filtered:0,invalid:0},n=function(e){return Object.keys(t)[e.warning]};return{label:"State",type:"checkbox",inputs:Object.keys(t).map(function(e){return{label:"".concat({valid:"👍",filtered:"👮",invalid:"🚫"}[e],"  ").concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),value:e}}),default:[],apply:function(e,t){return!t.length||t.some(function(t){return n(e)===t})},histogram:function(e){return e.reduce(function(e,t){return L({},e,R({},n(t),(e[n(t)]||0)+1))},{valid:0,invalid:0,filtered:0})}}},peers:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.max(0,10*parseInt(e/10))},n=10+e.reduce(function(e,t){return t.peers>e?t.peers:e},10);return{label:"Peers",type:"range",default:[0,n],min:0,max:n,step:10,apply:function(e,n){return t(e.peers)>=n[0]&&t(e.peers)<n[1]},histogram:function(e){return e.reduce(function(e,n){return L({},e,R({},t(n.peers),(e[t(n.peers)]||0)+1))},Array(Math.floor((n-0)/10)).fill(!0).reduce(function(e,t,n){return L({},e,R({},10*n,0))},{}))}}},score:function(e){var t=function(e){return Math.max(0,100*parseInt(e.score/100))},n=100+e.reduce(function(e,n){return t(n)>e?t(n):e},1);return{label:"Score",type:"range",default:[0,n],min:0,max:n,step:100,apply:function(e,n){return t(e)>=n[0]&&t(e)<n[1]},histogram:function(e){return e.reduce(function(e,n){return L({},e,R({},t(n),(e[t(n)]||0)+1))},Array(Math.floor((n-0)/100)).fill(!0).reduce(function(e,t,n){return L({},e,R({},100*n,0))},{}))}}},size:function(e){var t=function(e){return Math.max(0,parseInt(e.size/Math.pow(1024,3)))},n=1+e.reduce(function(e,n){return t(n)>e?t(n):e},1);return{label:"Size",type:"range",default:[0,n],min:0,max:n,step:1,unit:"GB",apply:function(e,n){return t(e)>=parseInt(n[0])&&t(e)<parseInt(n[1])},histogram:function(e){return e.reduce(function(e,n){return L({},e,R({},"".concat(t(n)," GB"),(e["".concat(t(n)," GB")]||0)+1))},Array(n-0).fill(!0).reduce(function(e,t,n){return L({},e,R({},"".concat(0+n," GB"),0))},{}))}}}},B.Sortings={score:{value:"score",label:"💯  Score",apply:function(e,t,n){var r=(parseInt((n?e:t).score)||0)-(parseInt((n?t:e).score)||0),o=(parseInt((n?e:t).peers)||0)-(parseInt((n?t:e).peers)||0);return 0===r?o:r}},peers:{value:"peers",label:"🌍  Peers",apply:function(e,t,n){return(parseInt((n?e:t).peers)||0)-(parseInt((n?t:e).peers)||0)}},size:{value:"size",label:"📦️  Size",apply:function(e,t,n){return(parseInt((n?e:t).size)||0)-(parseInt((n?t:e).size)||0)}}},t.a=Object(u.withToastManager)(B)}).call(this,n(37),n(94).Buffer)},438:function(e,t,n){"use strict";(function(e){var r=n(15),o=n(0),i=n(1),a=n.n(i),s=n(57),c=n(62),l=n(181),u=n(40),p=n(186),f=n(187),b=n(24),d=n(58),y=n(211),m=n(3);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var C=[(new Date).getFullYear()-8,(new Date).getFullYear()+8],D={wrapper:{display:"flex",flexDirection:"column",flex:1},grid:{padding:"2em 0"},controls:{width:"120%",margin:"0 -10%"},navigation:{display:"flex",justifyContent:"space-between",width:"100%",fontFamily:m.a.fonts.monospace,fontSize:"1em",textAlign:"center",color:"white",">div":{display:"flex",alignItems:"center","&:first-of-type,&:last-of-type":{fontSize:"1.25em",">a":{display:"flex",alignItems:"center",padding:"1.5em 0.75em"}},"&:nth-of-type(2)":{">a":{fontSize:"0.75em",padding:"1.5em",margin:"0 0.5em"},">div,>button":{width:"10em"}},">a":{opacity:.9,cursor:"pointer","&:hover":{opacity:1},">svg":{height:"1em",width:"1em"}}}},select:{position:"absolute",opacity:0,top:0,left:0,height:"100%",width:"100%",appearance:"none",border:"none",cursor:"pointer",zIndex:1},navigator:{cursor:"pointer",margin:"0 0.125em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},hidden:{visibility:"hidden"}},M=Object(c.g)(function(t){var n=t.onClick,r=t.edges,i=void 0===r||r,a=(t.location,t.history),s=t.match,c=(t.staticContext,_(t,["onClick","edges","location","history","match","staticContext"]),Math.min(C[1],Math.max(C[0],parseInt(s.params.year)))),l=Math.min(12,Math.max(1,parseInt(s.params.month))),u=[function(){return a.push("/movies/calendar/".concat(1===l?c-1:c,"/").concat(1===l?12:l-1))},function(){return a.push("/movies/calendar/".concat(c-1,"/1"))}],b=[function(){return a.push("/movies/calendar/".concat(12===l?c+1:c,"/").concat(12===l?1:l+1))},function(){return a.push("/movies/calendar/".concat(c+1,"/1"))}];return Object(o.jsx)("div",{css:D.navigation},Object(o.jsx)("div",{style:!i||c<=C[0]?{visibility:"hidden"}:{}},Object(o.jsx)("a",{onClick:u[1]},Object(o.jsx)(p.a,{end:!0}))),Object(o.jsx)("div",null,Object(o.jsx)("a",{onClick:u[0],style:1===l&&c<=C[0]?{visibility:"hidden"}:{}},Object(o.jsx)(p.a,null)),n?Object(o.jsx)("button",{css:m.a.resets.button,onClick:n,"data-test":"controls-all"},Object(o.jsx)("code",null,Object(y.a)(new Date(c,l-1).toLocaleString(e.config.region,{month:"long"}))),Object(o.jsx)("span",null," "),Object(o.jsx)("code",null,Object(o.jsx)("small",{style:m.a.styles.semitransparent},c))):Object(o.jsx)("div",null,Object(o.jsx)("label",{htmlFor:"calendar-month",style:{position:"relative"}},Object(o.jsx)("select",{id:"calendar-month",value:l,onChange:function(e){return a.push("/movies/calendar/".concat(c,"/").concat(e.target.value))},css:D.select},Array(12).fill(!0).map(function(t,n){return Object(o.jsx)("option",{key:n,value:n+1},Object(y.a)(new Date(c,n).toLocaleString(e.config.region,{month:"long"})))})),Object(o.jsx)("code",null,Object(y.a)(new Date(c,l-1).toLocaleString(e.config.region,{month:"long"})))),Object(o.jsx)("span",null," "),Object(o.jsx)("label",{htmlFor:"calendar-year",style:{position:"relative"}},Object(o.jsx)("select",{id:"calendar-year",value:c,onChange:function(e){return a.push("/movies/calendar/".concat(e.target.value,"/").concat(l))},css:D.select},Array(C[1]-C[0]+1).fill(!0).map(function(e,t){return Object(o.jsx)("option",{key:t,value:C[0]+t},C[0]+t)})),Object(o.jsx)("code",null,Object(o.jsx)("small",{style:m.a.styles.semitransparent},c)))),Object(o.jsx)("a",{onClick:b[0],style:12===l&&c>=C[1]?{visibility:"hidden"}:{}},Object(o.jsx)(f.a,null))),Object(o.jsx)("div",{style:!i||c>=C[1]?{visibility:"hidden"}:{}},Object(o.jsx)("a",{onClick:b[1]},Object(o.jsx)(f.a,{end:!0}))))}),I=function(e){return Object(o.jsx)(a.a.Fragment,null,o.jsx(e.genre.element,e.genre.props),Object(o.jsx)("div",{css:Object(r.a)([m.a.styles.row,m.a.styles.spacings.row],"label:Pane;")},o.jsx(e.popularity.element,k({},e.popularity.props,{display:"column"})),o.jsx(e.vote_average.element,k({},e.vote_average.props,{display:"column"}))),o.jsx(e.display.element,e.display.props),o.jsx(e.sorting.element,e.sorting.props))},A=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=v(this,x(n).call(this,e))).state={ready:!1,stars:[]},t}var r,a,c,u,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,i["PureComponent"]),r=n,(a=[{key:"componentDidMount",value:(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get();case 2:return t=e.sent,e.next=5,t.stars.find().where("state").ne("ignored").exec();case 5:n=e.sent,this.setState({ready:!0,stars:n.map(function(e){return e.id})});case 7:case"end":return e.stop()}},e,this)}),p=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=u.apply(e,t);function i(e){h(o,n,r,i,a,"next",e)}function a(e){h(o,n,r,i,a,"throw",e)}i(void 0)})},function(){return p.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,r=t.match,a=(_(t,["match"]),this.state),c=a.ready,u=a.stars,p=(_(a,["ready","stars"]),Math.min(C[1],Math.max(C[0],parseInt(r.params.year)))),f=Math.min(12,Math.max(1,parseInt(r.params.month)));return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(s.Helmet,{key:"helmet"},Object(o.jsx)("title",null,"Sensorr - Calendar (".concat(Object(y.a)(new Date(p,f-1).toLocaleString(e.config.region,{month:"long"}))," ").concat(p,")"))),Object(o.jsx)("div",{style:D.wrapper},Object(o.jsx)(l.a,{query:function(e){return e.calendar.find({release_date:{$gte:new Date("".concat(p,"-").concat(f,"-01")).toISOString(),$lt:new Date("".concat(12===f?p+1:p,"-").concat(12===f?1:f+1,"-01")).toISOString()}})},transform:function(e){return e.map(function(e){var t=e.toJSON(),n=t.credits.filter(function(e){return u.includes(e.id.toString())}).filter(function(e,t,n){return n.map(function(e){return e.id}).indexOf(e.id)===t}).filter(function(e,t){return t<4});return k({},t,{credits:n})}).filter(function(e){return e.credits.length})},css:D.grid,child:n.Childs.Film,placeholder:!1,debounce:!0,strict:!1,ready:c,empty:{emoji:"👩‍🎤",title:"Sorry, no published movies",subtitle:Object(o.jsx)("span",null,"Try to follow more stars !")},controls:{label:function(e){var t=e.total,n=e.reset;return Object(o.jsx)("span",{style:{display:"flex",flex:1}},Object(o.jsx)("button",{css:m.a.resets.button,onClick:function(){return n()}},Object(o.jsx)("span",null,Object(o.jsx)("strong",null,t)," Published movies")),Object(o.jsx)("span",{style:{flex:1,justifyContent:"center"}},Object(o.jsx)(M,{edges:!1})))},filters:{query:b.Movie.Filters.query,genre:b.Movie.Filters.genre,popularity:b.Movie.Filters.popularity,vote_average:b.Movie.Filters.vote_average,display:n.Filters.display},sortings:{release_date_full:k({},b.Movie.Sortings.release_date,{value:"release_date_full"}),popularity:b.Movie.Sortings.popularity,vote_average:b.Movie.Sortings.vote_average},defaults:{filtering:{display:"strict"},sorting:k({},b.Movie.Sortings.release_date,{value:"release_date_full"}),reverse:!0},render:{menu:function(e){var t=e.setOpen;return Object(o.jsx)("div",{css:D.controls},Object(o.jsx)(M,{onClick:function(){return t(!0)}}))},pane:I}}})))}}])&&O(r.prototype,a),c&&O(r,c),n}();P(A,"Filters",{display:function(){return{label:"Display",type:"radio",inputs:[{value:"strict",label:"Strict"},{value:"permissive",label:"Permissive"}],default:"strict",apply:function(e,t){return!t.includes("strict")||e.poster_path&&(!e.adult||tmdb.adult)}}}}),P(A,"Childs",{Film:function(e){return Object(o.jsx)(u.c,j({},e,{withCredits:!0}))}}),t.a=A}).call(this,n(37))},439:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8));function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){e.values,e.handleChange,i(e,["values","handleChange"]);return Object(r.jsx)("div",{css:o.b.section},Object(r.jsx)("h1",{css:o.b.title},"About"),Object(r.jsx)("p",{css:o.b.paragraph,style:{flex:1}},Object(r.jsx)("a",{href:"https://github.com/thcolin/sensorr",css:o.b.link},"Sensorr")," is an ",Object(r.jsx)("strong",null,"open source")," movie release radar project (like ",Object(r.jsx)("a",{href:"https://couchpota.to/",css:o.b.link},"CouchPotato"),", ",Object(r.jsx)("a",{href:"https://radarr.video/",css:o.b.link},"Radarr")," or ",Object(r.jsx)("a",{href:"https://github.com/nosmokingbandit/Watcher3",css:o.b.link},"Watcher3"),"), powered by ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",css:o.b.link},"TheMovieDatabase")," ",Object(r.jsx)("strong",null,"community built")," database and ",Object(r.jsx)("strong",null,"public API"),"."))}},440:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.values,n=e.handleChange;c(e,["values","handleChange"]);return Object(r.jsx)("div",{css:o.b.section},Object(r.jsx)("h1",{css:o.b.title},"Authentication"),Object(r.jsx)("p",{css:o.b.paragraph},"To securize your Sensorr instance you can fill a username and a password. Leave blank for no authentication.",Object(r.jsx)("br",null),Object(r.jsx)("br",null),"Specify ",Object(r.jsx)("code",{css:o.b.code},"username")," and ",Object(r.jsx)("code",{css:o.b.code},"password")," :"),Object(r.jsx)("div",{css:o.b.column},Object(r.jsx)("input",{type:"text",placeholder:"Username",css:o.b.input,style:{marginRight:"1em"},defaultValue:t.auth.username,required:!0,onChange:function(e){return n("auth",a({},t.auth,{username:e.target.value}))}}),Object(r.jsx)("input",{type:"text",placeholder:"Password",css:o.b.input,style:{marginLeft:"1em"},defaultValue:t.auth.password,required:!0,onChange:function(e){return n("auth",a({},t.auth,{password:e.target.value}))}})))}},441:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n(1),i=n(260),a=n(442),s=n.n(a),c=n(8);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,b(t).call(this,e))).state={regions:[]},n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Promise.all(Object.keys(i.countries).map(function(e){return new Promise(function(t){return s.a.getCountryLanguages(e,function(n,r){!n&&r&&r.length&&r[0].iso639_1?t({country:e,language:r[0].iso639_1,emoji:Object(i.flag)(e),name:Object(i.name)(e)}):t(null)})})})).then(function(t){return e.setState({regions:t.filter(function(e){return e})})})}},{key:"render",value:function(){var e=this.state,t=e.regions,n=(u(e,["regions"]),this.props),o=n.values,i=n.handleChange;return u(n,["values","handleChange"]),Object(r.jsx)("div",{css:c.b.section},Object(r.jsx)("h1",{css:c.b.title},"Region"),Object(r.jsx)("p",{css:c.b.paragraph},"When you ",Object(r.jsx)("code",{css:c.b.code},"wish")," a movie, all data about movie (like title, year and stuff) are saved from ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",css:c.b.link},"The Movie Database")," in configured region language.",Object(r.jsx)("br",null),Object(r.jsx)("br",null),"You can overide it here, just select your ",Object(r.jsx)("code",{css:c.b.code},"region")," :"),Object(r.jsx)("select",{css:c.b.select,value:o.region,onChange:function(e){return i("region",e.target.value)}},t.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return Object(r.jsx)("option",{key:e.country,value:"".concat(e.language,"-").concat(e.country)},e.name," ",e.emoji)})))}}])&&p(n.prototype,a),l&&p(n,l),t}()},443:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8)),i=n(177),a=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.values,n=e.handleChange;l(e,["values","handleChange"]);return Object(r.jsx)("div",{style:o.b.section},Object(r.jsx)("h1",{style:o.b.title},"Records"),Object(r.jsx)("p",{style:o.b.paragraph},"Movies records create log files that can reach a considerable size, to avoid filling your disk space, you can specify here the maximum space (in ",Object(r.jsx)("code",{style:o.b.code},"MB"),") allowed.",Object(r.jsx)("br",null),"A ",Object(r.jsx)("code",{style:o.b.code},"clean")," job will remove oldest log sessions if directory space exceeds configured value."),Object(r.jsx)("div",{style:o.b.column},Object(r.jsx)("input",{type:"number",placeholder:"Space (in MB)",style:o.b.input,defaultValue:parseInt(a.a.stringify(t.logs.limit,!1))||null,required:!0,onChange:function(e){return n("logs",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.logs,{limit:parseInt(e.target.value)}))}})))}},444:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8));function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a="TMDB API Key (v3 auth)";t.a=function(e){var t=e.values,n=e.handleChange;i(e,["values","handleChange"]);return Object(r.jsx)("div",{css:o.b.section},Object(r.jsx)("h1",{css:o.b.title},"TMDB"),Object(r.jsx)("p",{css:o.b.paragraph},"Sensorr is powered by ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",css:o.b.link},"The Movie Database")," API, to works properly, you need to fill ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/settings/api",css:o.b.link},"your own API Key (v3 auth)"),".",Object(r.jsx)("br",null),Object(r.jsx)("br",null),"Specify ",Object(r.jsx)("code",{css:o.b.code},"API Key")," (v3 auth) :"),Object(r.jsx)("div",{css:o.b.column},Object(r.jsx)("input",{type:"text",placeholder:a,css:o.b.input,defaultValue:t.tmdb,onChange:function(e){return n("tmdb",e.target.value)}})))}},445:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8));function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a="/tmp";t.a=function(e){var t=e.values,n=e.handleChange;i(e,["values","handleChange"]);return Object(r.jsx)("div",{css:o.b.section},Object(r.jsx)("h1",{css:o.b.title},"Blackhole"),Object(r.jsx)("p",{css:o.b.paragraph,style:{flex:1}},"Sensorr works with ",Object(r.jsx)("strong",null,"XZNAB")," API servers and will download any ",Object(r.jsx)("code",{css:o.b.code},".torrent")," or ",Object(r.jsx)("code",{css:o.b.code},".nzb")," file into defined Server ",Object(r.jsx)("code",{css:o.b.code},"blackhole")," path.",Object(r.jsx)("br",null),"If you run Sensorr from ",Object(r.jsx)("a",{href:"https://hub.docker.com/r/thcolin/sensorr/",css:o.b.link},"Docker")," image, keep it to ",Object(r.jsx)("code",{css:o.b.code},"/app/sensorr/blackhole"),".",Object(r.jsx)("br",null),Object(r.jsx)("br",null)),Object(r.jsx)("p",{css:o.b.paragraph},"Here you need to fill ",Object(r.jsx)("strong",null,"server")," blackhole ",Object(r.jsx)("strong",null,"path")," :"),Object(r.jsx)("input",{type:"text",placeholder:a,css:o.b.input,defaultValue:t.blackhole,onChange:function(e){return n("blackhole",e.target.value)}}))}},446:function(e,t,n){"use strict";var r=n(0),o=(n(1),n(8));function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u={name:"Name",url:"http://localhost:5060/torznab/aggregate/api",key:"API Key"};t.a=function(e){var t=e.values,n=e.handleChange;l(e,["values","handleChange"]);return Object(r.jsx)("div",{css:o.b.section},Object(r.jsx)("h1",{css:o.b.title},"XZNAB"),Object(r.jsx)("p",{css:o.b.paragraph},"Sensorr works with ",Object(r.jsx)("strong",null,"XZNAB")," (",Object(r.jsx)("a",{href:"https://github.com/Sonarr/Sonarr/wiki/Implementing-a-Torznab-indexer",css:o.b.link},"Torznab")," or ",Object(r.jsx)("a",{href:"http://www.newznab.com/",css:o.b.link},"Newznab"),") API servers, add as many as you wish, they will be used to perform looks query.",Object(r.jsx)("br",null),Object(r.jsx)("br",null)),Object(r.jsx)("p",{css:o.b.paragraph},"Example:"),Object(r.jsx)("ul",{css:o.b.list},Object(r.jsx)("li",null,"Jackett: ",Object(r.jsx)("code",{css:o.b.code},"http://localhost:9117/api/v2.0/indexers/xxx/results/torznab/")),Object(r.jsx)("li",null,"Cardigann: ",Object(r.jsx)("code",{css:o.b.code},"http://localhost:5060/torznab/xxx/api")," (don't forget ",Object(r.jsx)("code",{css:o.b.code},"/api")," after copied Cardigann Torznab link !)")),(t.xznabs.length?t.xznabs:[{name:"",url:"",key:""}]).map(function(e,t,i){return Object(r.jsx)("div",{css:o.b.column,style:{alignItems:"center"},key:t},Object(r.jsx)("input",{type:"checkbox",title:e.disabled?"Disabled":"Enabled",css:o.b.checkbox,checked:!e.disabled,onChange:function(r){return n("xznabs",i.map(function(n,o){return o===t?s({},e,{disabled:!r.target.checked}):n}))}}),Object(r.jsx)("input",{type:"text",placeholder:u.name,css:o.b.input,style:{marginLeft:"1em",marginRight:"1em"},value:e.name,onChange:function(r){return n("xznabs",i.map(function(n,o){return o===t?s({},e,{name:r.target.value}):n}))}}),Object(r.jsx)("input",{type:"text",placeholder:u.url,css:o.b.input,style:{marginLeft:"1em",marginRight:"1em"},value:e.url,onChange:function(r){return n("xznabs",i.map(function(n,o){return o===t?s({},e,{url:r.target.value}):n}))}}),Object(r.jsx)("input",{type:"text",placeholder:u.key,css:o.b.input,style:{marginLeft:"1em"},value:e.key,onChange:function(r){return n("xznabs",i.map(function(n,o){return o===t?s({},e,{key:r.target.value}):n}))}}),Object(r.jsx)("div",{css:o.b.remove,onClick:function(){return n("xznabs",i.filter(function(e,n){return n!==t}))}},"🗑️"))}),Object(r.jsx)("div",{css:o.b.add,onClick:function(){return n("xznabs",[].concat(i(t.xznabs),[{name:"",url:"",key:""}]))}},"🌱"))}},447:function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(318),a=n(448),s=n.n(a),c=n(8),l=n(115);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=h({},Object.keys(l).filter(function(e){return!["erase"].includes(e)}).reduce(function(e,t){return h({},e,O({},t,l[t]))},{}),{custom:{}}),x=Object(i.b)(function(e){var t=e.value,n=e.index,o=e.disabled,i=e.onRemoveClick;j(e,["value","index","disabled","onRemoveClick"]);return Object(r.jsx)("li",{key:n,style:{listStyle:"inherit",cursor:o?"default":"pointer"}},Object(r.jsx)("span",{style:{display:"flex",justifyContent:"space-between",padding:"0.5em 0",MozUserSelect:"none",WebkitUserSelect:"none"}},Object(r.jsx)("span",null,t),Object(r.jsx)("span",{style:{cursor:"pointer"},onClick:i},"🗑️")))}),w=function(e){var t=e.values,n=e.behavior,a=e.handleChange,l=m(Object(o.useState)("source"),2),u=l[0],p=l[1],f=m(Object(o.useState)(Object.keys(v[u]).filter(function(e){return!(t.policy[n][u]||[]).includes(e)}).shift()||""),2),b=f[0],d=f[1];return Object(r.jsx)("div",{style:{prefer:{margin:"0 1em 0 0"},avoid:{margin:"0 0 0 1em"}}[n]},Object(r.jsx)("h2",{css:c.b.subtitle,style:{textTransform:"capitalize"}},n),Object(r.jsx)("p",{css:c.b.paragraph},{prefer:'Here you can specify and order prefered keywords, top ones will get a better "score" when choosing appropriate release',avoid:"Here you can specify avoided keywords, if any is found in a release title, this one will be filtered"}[n]),Object(r.jsx)("div",{css:c.b.column,style:{alignItems:"center"}},Object(r.jsx)("select",{css:c.b.select,value:u,onChange:function(e){p(e.target.value),d(Object.keys(v[e.target.value]).filter(function(r){return!(t.policy[n][e.target.value]||[]).includes(r)}).shift()||"")}},Object.keys(v).map(function(e){return Object(r.jsx)("option",{key:e,value:e},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),"custom"===u?Object(r.jsx)("input",{type:"text",value:b,onChange:function(e){return d(e.target.value)},css:c.b.select,style:{margin:"1em"}}):Object(r.jsx)("select",{value:b,onChange:function(e){return d(e.target.value)},css:c.b.select,style:{margin:"1em"}},Object(r.jsx)("option",{key:"null",value:"",disabled:!0},"-"),Object.keys(v[u]).map(function(e){return Object(r.jsx)("option",{key:e,value:e,disabled:(t.policy[n][u]||[]).includes(e)},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),Object(r.jsx)("button",{type:"button",style:{background:"none",border:"none",fontSize:"1.25em",cursor:b?"pointer":"default"},disabled:!b,onClick:function(){d(Object.keys(v[u]).filter(function(e){return!(t.policy[n][u]||[]).includes(e)&&e!==b}).shift()||""),a("policy",h({},t.policy,O({},n,h({},t.policy[n],O({},u,[].concat(y(t.policy[n][u]||[]),[b]))))))}},{prefer:"👍",avoid:"👎"}[n])),Object(r.jsx)("br",null),Object.keys(t.policy[n]).filter(function(e){return t.policy[n][e].length}).map(function(e){var o=Object(i.a)(function(o){var i=o.items;return Object(r.jsx)("ul",{style:{prefer:"flags"===e?{}:{listStyle:"decimal",padding:"0 0 0 2em"},avoid:{}}[n]},i.map(function(o,i){return Object(r.jsx)(x,{key:i,index:i,value:o,disabled:"avoid"===n||"flags"===e,onRemoveClick:function(){return a("policy",h({},t.policy,O({},n,h({},t.policy[n],O({},e,t.policy[n][e].filter(function(e){return o!==e}))))))}})}))});return[Object(r.jsx)("h3",{key:"title",style:{textTransform:"capitalize",padding:"0.5em 0",fontSize:"1.125em"}},Object(r.jsx)("strong",null,e)),Object(r.jsx)("div",{key:"list"},Object(r.jsx)(o,{items:t.policy[n][e],lockAxis:"y",distance:10,lockToContainerEdges:!0,onSortEnd:function(r){var o=r.oldIndex,i=r.newIndex;return a("policy",h({},t.policy,O({},n,h({},t.policy[n],O({},e,s()(t.policy[n][e],o,i))))))}}))]}))},S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,b(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["PureComponent"]),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.values,n=e.handleChange;return j(e,["values","handleChange"]),Object(r.jsx)("div",{css:c.b.section},Object(r.jsx)("h1",{css:c.b.title},"Policy"),Object(r.jsx)("p",{css:c.b.paragraph,style:{flex:1}},"When using CLI with ",Object(r.jsx)("code",{css:c.b.code},"-a")," or ",Object(r.jsx)("code",{css:c.b.code},"--auto")," option, results will be filtered and ordered with defined ",Object(r.jsx)("code",{css:c.b.code},"policy"),Object(r.jsx)("br",null),Object(r.jsx)("br",null)),Object(r.jsx)("div",null,Object(r.jsx)("h2",{css:c.b.subtitle},"Sort"),Object(r.jsx)("p",{css:c.b.paragraph,style:{flex:1}},"Choose default ",Object(r.jsx)("code",{css:c.b.code},"sort")," option :",Object(r.jsx)("br",null)),Object(r.jsx)("div",{css:c.b.column},Object(r.jsx)("select",{css:c.b.select,style:{margin:"1em 1em 1em 0"},value:t.sort,onChange:function(e){return n("sort",e.target.value)}},["seeders","peers","size"].map(function(e){return Object(r.jsx)("option",{key:e,value:e},"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))})),Object(r.jsx)("label",{htmlFor:"descending",css:c.b.input,style:{borderColor:"transparent"}},Object(r.jsx)("input",{id:"descending",type:"checkbox",defaultChecked:t.descending,onChange:function(e){return n("descending",e.target.checked)},style:{marginRight:"1em"}}),"Descending")),Object(r.jsx)("br",null),Object(r.jsx)("br",null)),Object(r.jsx)("div",{css:c.b.column},Object(r.jsx)(w,{behavior:"prefer",values:t,handleChange:n}),Object(r.jsx)(w,{behavior:"avoid",values:t,handleChange:n})))}}])&&p(n.prototype,i),a&&p(n,a),t}();t.a=S},449:function(e,t,n){"use strict";(function(e){var r=n(0),o=n(1),i=n(140),a=n(76),s=n(39),c=n(8),l=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h="http://192.168.0.42:32400",O=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=m(n).call(this,e))||"object"!==u(o)&&"function"!=typeof o?j(r):o).state={loading:!1},t.handleChange=t.handleChange.bind(j(t)),t.handleSubmit=t.handleSubmit.bind(j(t)),t}var i,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,o["PureComponent"]),i=n,(a=[{key:"handleChange",value:function(e,t){this.props.handleChange("plex",b({},this.props.values.plex,d({},e,t)))}},{key:"handleSubmit",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.props.toastManager;this.setState({loading:!0}),fetch("/api/plex",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new e("".concat(s.a.config.auth.username,":").concat(s.a.config.auth.password)).toString("base64"))}),body:JSON.stringify(n)}).then(function(e){try{e.json().then(function(n){e.ok?(o.add(n.plex.pin.code?Object(r.jsx)("span",null,"Sensorr registred on your Plex server, please fill PIN code ",Object(r.jsx)("strong",null,n.plex.pin.code)," on ",Object(r.jsx)("strong",null,"Plex")," website that comes next"):Object(r.jsx)("span",null,"Sensorr is now ",Object(r.jsx)("strong",null,"unregistred")," on your ",Object(r.jsx)("strong",null,"Plex")," server"),{appearance:"success",autoDismiss:!0}),t.props.handleChange("plex",n.plex),n.plex.pin.code&&setTimeout(function(){return window.open("https://plex.tv/pin?code=".concat(n.plex.pin.code))},5e3)):n.err&&o.add(Object(r.jsx)("span",null,"Something went wrong during Sensorr registration on your Plex server : ",Object(r.jsx)("strong",null,n.err)),{appearance:"error",autoDismiss:!0})})}catch(t){o.add(Object(r.jsx)("span",null,"Unexpected error during Sensorr registration on your Plex server : ",Object(r.jsx)("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}finally{t.setState({loading:!1})}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,o=(p(t,["loading"]),this.props),i=o.values,a=(o.handleChange,p(o,["values","handleChange"])),s=n?"loading":a.status,u={loading:!1,off:function(){return e.handleSubmit({url:i.plex.url})},waiting:!1,invalid:function(){return e.handleSubmit({url:i.plex.url})},error:function(){return e.handleSubmit({url:i.plex.url})},authorized:function(){return e.handleSubmit()}}[s];return Object(r.jsx)("div",{css:c.b.section},Object(r.jsx)("h1",{css:c.b.title},"Plex"),Object(r.jsx)("p",{css:c.b.paragraph,style:{flex:1}},Object(r.jsx)("a",{href:"https://www.plex.tv/",target:"_blank",css:c.b.link},"Plex")," user ? You can connect your ",Object(r.jsx)("strong",null,"Sensorr")," instance to your ",Object(r.jsx)("strong",null,"Plex")," server and never inadvertently download a movie you already own !",Object(r.jsx)("br",null),"All movies from your ",Object(r.jsx)("strong",null,"Plex")," server will be considered as ",Object(r.jsx)("code",{css:c.b.code},"📼 archived")," on ",Object(r.jsx)("strong",null,"Sensorr"),"."),Object(r.jsx)("div",{css:c.b.column},Object(r.jsx)("span",{title:"Status: ".concat(s),style:{fontSize:"1.5em",display:"flex",alignItems:"center",flexBasis:"2em",margin:"0 0.25em 0 0"}},{unknown:"⌛",loading:"⌛",off:"🚫",waiting:"📲",invalid:"⛔",error:"⛔",authorized:"✅"}[s]),Object(r.jsx)("input",{type:"text",placeholder:h,css:c.b.input,defaultValue:(i.plex||{}).url,onChange:function(t){return e.handleChange("url",t.target.value)}})),Object(r.jsx)("button",{type:"button",css:c.b.button,style:b({cursor:["unknown","loading","waiting"].includes(s)?"default":"pointer"},["unknown","authorized","loading","waiting"].includes(s)?{backgroundColor:{authorized:l.a.colors.gray,loading:l.a.colors.grey,unknown:l.a.colors.grey,waiting:l.a.colors.grey}[s]}:{}),disabled:!u,onClick:u||function(){}},{unknown:"Loading",loading:"Loading",off:"Connect",waiting:"Enter PIN",invalid:"Re-connect",error:"Re-connect",authorized:"Unregister"}[s]),["waiting"].includes(s)&&Object(r.jsx)("p",{style:{margin:"1em 0 0 0"}},Object(r.jsx)("em",null,"Just go to "),Object(r.jsx)("a",{href:"https://plex.tv/pin?code=".concat(((i.plex||{}).pin||{}).code),css:c.b.link,target:"_blank"},"https://plex.tv/pin"),Object(r.jsx)("em",null," and enter PIN code "),Object(r.jsx)("code",{css:c.b.code},((i.plex||{}).pin||{}).code),"."))}}])&&y(i.prototype,a),f&&y(i,f),n}();t.a=Object(i.b)(function(e){return{status:e.plex.status||"loading"}},function(){return{}})(Object(a.withToastManager)(O))}).call(this,n(94).Buffer)},45:function(e,t,n){"use strict";(function(e){var r=n(55),o=new(n.n(r).a)({key:e.config.tmdb,region:e.config.region||localStorage.getItem("region")||"en-US",adult:e.config.adult});t.a=o}).call(this,n(37))},450:function(e,t,n){"use strict";(function(e){var r=n(15),o=n(0),i=n(1),a=n.n(i),s=n(76),c=n(8),l=n(250),u=n(39),p=n(3);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=j(n).call(this,e))||"object"!==f(o)&&"function"!=typeof o?g(r):o).state={job:null,loading:!1},t.references={load:a.a.createRef()},t.handleLoad=t.handleLoad.bind(g(t)),t}var s,O,v,x,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,i["PureComponent"]),s=n,(O=[{key:"handleLoad",value:(x=regeneratorRuntime.mark(function t(n){var r,i,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.persist(),r=this.props.toastManager,this.setState({job:"load",loading:!0}),(i=new FormData).append("dump",n.target.files[0]),r.add(Object(o.jsx)("span",null,"Loading ",Object(o.jsx)("strong",null,n.target.files[0].name)," dump into your database..."),{appearance:"info",autoDismiss:!0}),fetch("/api/load",{method:"POST",headers:new Headers({Authorization:"Basic ".concat(new e("".concat(u.a.config.auth.username,":").concat(u.a.config.auth.password)).toString("base64"))}),body:i}).then(function(e){try{e.json().then(function(t){e.ok?r.add(Object(o.jsx)("span",null,"Dump ",Object(o.jsx)("strong",null,n.target.files[0].name)," loaded to your database !"),{appearance:"success",autoDismiss:!0}):r.add(Object(o.jsx)("span",null,"Something went wrong during ",Object(o.jsx)("strong",null,n.target.files[0].name)," load : ",Object(o.jsx)("strong",null,t.reason)),{appearance:"error",autoDismiss:!0})})}catch(t){r.add(Object(o.jsx)("span",null,"Unexpected error during ",Object(o.jsx)("strong",null,release.title)," load : ",Object(o.jsx)("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}}).finally(function(){a.setState({job:"load",loading:!1})});case 7:case"end":return t.stop()}},t,this)}),w=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=x.apply(e,t);function i(e){y(o,n,r,i,a,"next",e)}function a(e){y(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return w.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=(d({},this.props),this.state),n=(t.job,t.loading);return b(t,["job","loading"]),Object(o.jsx)("div",{css:c.b.section},Object(o.jsx)("h1",{css:c.b.title},"Database"),Object(o.jsx)("p",{css:c.b.paragraph},"Want to work with ",Object(o.jsx)("em",null,"your data")," ? Habit of ",Object(o.jsx)("em",null,"backup everything")," ? You can dump and load your whole ",Object(o.jsx)("strong",null,"database")," (",Object.keys(l.SCHEMAS).join(", "),") in JSON format !",Object(o.jsx)("br",null),Object(o.jsx)("br",null)),Object(o.jsx)("div",{css:c.b.column},Object(o.jsx)("a",{href:"/api/dump",download:!0,css:Object(r.a)([p.a.resets.a,c.b.button],"label:Database;"),style:{flex:1,margin:"0 10px 0 0",cursor:n?"default":"pointer",textAlign:"center"}},Object(o.jsx)("span",null,n?"⌛":"💾"),Object(o.jsx)("span",null,"   "),Object(o.jsx)("span",null,n?"Loading":"Dump")),Object(o.jsx)("button",{type:"button",css:c.b.button,style:{flex:1,margin:"0 0 0 10px",backgroundColor:p.a.colors.secondary,cursor:n?"default":"pointer"},onClick:n?function(){}:function(){return e.references.load.current.click()}},Object(o.jsx)("input",{type:"file",ref:this.references.load,onChange:this.handleLoad,hidden:!0}),Object(o.jsx)("span",null,n?"⌛":"📡️"),Object(o.jsx)("span",null,"   "),Object(o.jsx)("span",null,n?"Loading":"Load"))))}}])&&m(s.prototype,O),v&&m(s,v),n}();t.a=Object(s.withToastManager)(O)}).call(this,n(94).Buffer)},455:function(e,t,n){n(456),e.exports=n(833)},49:function(e,t,n){"use strict";var r=n(15),o=n(0);n(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 100% {\n    transform: scale(0.0) translateZ(0);\n  }\n  50% {\n    transform: scale(1.0) translateZ(0);\n  }\n"]);return s=function(){return e},e}var c=Object(o.keyframes)(s()),l={element:{width:"2.5rem",height:"2.5rem",position:"relative",margin:"0 auto"},circle:{width:"100%",height:"100%",borderRadius:"50%",opacity:.6,position:"absolute",top:0,left:0,animation:"".concat(c," 2.0s infinite ease-in-out")},second:{animationDelay:"-1.0s"}};t.a=function(e){var t=e.color,n=void 0===t?"#333":t,s=a(e,["color"]);return Object(o.jsx)("div",i({},s,{css:Object(r.a)([l.element,s.css],"")}),Object(o.jsx)("div",{css:l.circle,style:{backgroundColor:n}}),Object(o.jsx)("div",{css:Object(r.a)([l.circle,l.second],""),style:{backgroundColor:n}}))}},52:function(e,t,n){"use strict";var r=n(15),o=n(0),i=(n(1),n(4)),a=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l={element:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"4em",color:n(3).a.colors.secondary},emoji:{fontSize:"5em",margin:0},title:{padding:"1em 0",margin:0,fontWeight:800,textTransform:"uppercase"},subtitle:{padding:0,margin:0}},u=function(e){var t=e.emoji,n=e.title,i=e.subtitle,a=c(e,["emoji","title","subtitle"]);return Object(o.jsx)("div",s({},a,{css:Object(r.a)([l.element,a.css],"label:Empty;")}),Object(o.jsx)("h1",{css:l.emoji},t),Object(o.jsx)("h2",{css:l.title},n),Object(o.jsx)("p",{css:l.subtitle},i))};u.propTypes={emoji:a.a.string,title:a.a.node,subtitle:a.a.node},u.defaultProps={emoji:"👻",title:"Bouhouuu ! I'm the scary empty ghost !",subtitle:"Sorry, no results."},t.a=u},55:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(711);e.exports=function(){function e(t){var n=t.key,r=t.adult,o=t.region,i=void 0===o?"en-US":o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=n,this.region=i,this.adult=!!r,this.base="https://api.themoviedb.org/3/"}var t,n,r;return t=e,(n=[{key:"build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o({},t,{language:this.region,api_key:this.key,include_adult:this.adult});return"".concat(this.base).concat(e.join("/"),"?").concat(s.stringify(n))}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(this.build(e,t)).then(function(e){return new Promise(function(t,n){try{e.json().then(function(r){e.ok?t(r):n(r)})}catch(e){n(e)}})})})}])&&a(t.prototype,n),r&&a(t,r),e}(),e.exports.GENRES={12:"Aventure",14:"Fantastique",16:"Animation",18:"Drame",27:"Horreur",28:"Action",35:"Comédie",36:"Histoire",37:"Western",53:"Thriller",80:"Crime",99:"Documentaire",878:"Science-Fiction",9648:"Mystère",10402:"Musique",10749:"Romance",10751:"Familial",10752:"Guerre",10770:"Téléfilm"},e.exports.STUDIOS={Disney:[{id:3166,name:"Walt Disney Productions",sort:"popularity.desc"},{id:2,name:"Walt Disney Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:6125,name:"Walt Disney Animation Studios",sort:"popularity.desc"},{id:1,name:"Lucasfilm",sort:"primary_release_date.desc|popularity.desc"},{id:108270,name:"Lucasfilm Animation",sort:"primary_release_date.desc|popularity.desc"},{id:7505,name:"Marvel Entertainment",sort:"primary_release_date.desc|popularity.desc"},{id:19551,name:"Marvel Enterprises",sort:"primary_release_date.desc|popularity.desc"},{id:420,name:"Marvel Studios",sort:"primary_release_date.desc|popularity.desc"},{id:13252,name:"Marvel Animation",sort:"primary_release_date.desc|popularity.desc"},{id:3,name:"Pixar",sort:"primary_release_date.desc|popularity.desc"},{id:32,name:"Buena Vista",sort:"popularity.desc"},{id:9195,name:"Touchstone Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:113635,name:"Vice Studios",sort:"primary_release_date.desc|popularity.desc"},{id:17209,name:"Vice Films",sort:"primary_release_date.desc|popularity.desc"},{id:14,name:"Miramax",sort:"primary_release_date.desc|popularity.desc"}],Warner:[{id:17,name:"Warner Bros. Entertainment",sort:"primary_release_date.desc|popularity.desc"},{id:174,name:"Warner Bros. Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:12,name:"New Line Cinema",sort:"primary_release_date.desc|popularity.desc"},{id:7899,name:"Cartoon Network Studios",sort:"primary_release_date.desc|popularity.desc"},{id:25120,name:"Warner Animation Group",sort:"primary_release_date.desc|popularity.desc"},{id:2785,name:"Warner Bros. Animation",sort:"primary_release_date.desc|popularity.desc"},{id:97,name:"Castle Rock Entertainment",sort:"primary_release_date.desc|popularity.desc"},{id:7429,name:"HBO Films",sort:"primary_release_date.desc|popularity.desc"}],Universal:[{id:33,name:"Universal Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:5726,name:"Universal Pictures International (UPI)",sort:"primary_release_date.desc|popularity.desc"},{id:10146,name:"Focus Features",sort:"primary_release_date.desc|popularity.desc"},{id:37,name:"Gramercy Pictures",sort:"popularity.desc"},{id:7,name:"DreamWorks",sort:"primary_release_date.desc|popularity.desc"},{id:521,name:"DreamWorks Animation",sort:"primary_release_date.desc|popularity.desc"},{id:6704,name:"Illumination Entertainment",sort:"primary_release_date.desc|popularity.desc"},{id:6196,name:"Carnival Films",sort:"primary_release_date.desc|popularity.desc"},{id:10163,name:"Working Title Films",sort:"primary_release_date.desc|popularity.desc"},{id:56,name:"Amblin Entertainment",sort:"primary_release_date.desc|popularity.desc"}],Fox:[{id:25,name:"20th Century Fox",sort:"primary_release_date.desc|popularity.desc"},{id:112148,name:"20th Century Fox Korea",sort:"primary_release_date.desc|popularity.desc"},{id:18065,name:"20th Century Fox Russia",sort:"primary_release_date.desc|popularity.desc"},{id:43,name:"Fox Searchlight Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:711,name:"Fox 2000 Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:11749,name:"Twentieth Century Fox Animation",sort:"primary_release_date.desc|popularity.desc"},{id:9383,name:"Blue Sky Studios",sort:"primary_release_date.desc|popularity.desc"},{id:12154,name:"Fox Star Studios",sort:"primary_release_date.desc|popularity.desc"},{id:508,name:"Regency Enterprises",sort:"primary_release_date.desc|popularity.desc"},{id:10104,name:"New Regency Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:16880,name:"Shine Pictures",sort:"primary_release_date.desc|popularity.desc"}],Sony:[{id:34,name:"Sony Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:58,name:"Sony Pictures Classics",sort:"popularity.desc"},{id:2251,name:"Sony Pictures Animation",sort:"primary_release_date.desc|popularity.desc"},{id:3045,name:"Sony Pictures Releasing",sort:"primary_release_date.desc|popularity.desc"},{id:30692,name:"Sony Pictures Imageworks (SPI)",sort:"primary_release_date.desc|popularity.desc"},{id:5,name:"Columbia Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:106728,name:"Columbia Pictures Corporation",sort:"primary_release_date.desc|popularity.desc"},{id:3287,name:"Screen Gems",sort:"primary_release_date.desc|popularity.desc"},{id:559,name:"TriStar Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:10156,name:"Affirm Films",sort:"primary_release_date.desc|popularity.desc"},{id:769,name:"Destination Films",sort:"primary_release_date.desc|popularity.desc"},{id:5340,name:"Left Bank Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:11341,name:"Stage 6 Films",sort:"primary_release_date.desc|popularity.desc"}],Paramount:[{id:6808,name:"Viacom 18 Motion Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:4,name:"Paramount",sort:"primary_release_date.desc|popularity.desc"},{id:838,name:"Paramount Vantage",sort:"primary_release_date.desc|popularity.desc"},{id:24955,name:"Paramount Animation",sort:"primary_release_date.desc|popularity.desc"},{id:90738,name:"Paramount Pictures (Canada)",sort:"primary_release_date.desc|popularity.desc"},{id:112387,name:"Paramount Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:33333,name:"Paramount Famous Lasky Corporation",sort:"popularity.desc"},{id:96540,name:"Paramount Players",sort:"primary_release_date.desc|popularity.desc"},{id:7377,name:"Insurge Pictures",sort:"primary_release_date.desc|popularity.desc"},{id:7407,name:"Insurgent Docs",sort:"primary_release_date.desc|popularity.desc"},{id:746,name:"MTV Films",sort:"primary_release_date.desc|popularity.desc"},{id:8136,name:"MTV",sort:"primary_release_date.desc|popularity.desc"},{id:6043,name:"MTV Networks",sort:"primary_release_date.desc|popularity.desc"},{id:2348,name:"Nickelodeon Movies",sort:"primary_release_date.desc|popularity.desc"},{id:4859,name:"Nickelodeon Animation Studio",sort:"primary_release_date.desc|popularity.desc"}],Lionsgate:[{id:35,name:"Lions Gate Films",sort:"popularity.desc"},{id:1632,name:"Lionsgate",sort:"primary_release_date.desc|popularity.desc"},{id:85885,name:"Lionsgate Premiere",sort:"primary_release_date.desc|popularity.desc"},{id:17393,name:"Good Universe",sort:"primary_release_date.desc|popularity.desc"},{id:58399,name:"Pantelion Films",sort:"primary_release_date.desc|popularity.desc"},{id:8573,name:"Pantelion Film",sort:"primary_release_date.desc|popularity.desc"},{id:114531,name:"Summit Premiere",sort:"primary_release_date.desc|popularity.desc"},{id:491,name:"Summit Entertainment",sort:"primary_release_date.desc|popularity.desc"}],STX:[{id:47729,name:"STX Entertainment",sort:"primary_release_date.desc|popularity.desc"}],Gaumont:[{id:9,name:"Gaumont",sort:"primary_release_date.desc|popularity.desc"},{id:7961,name:"Gaumont International",sort:"popularity.desc"},{id:4978,name:"Gaumont British Picture Corporation",sort:"popularity.desc"},{id:13800,name:"Gaumont Distribution",sort:"primary_release_date.desc|popularity.desc"}],MGM:[{id:21,name:"Metro-Goldwyn-Mayer",sort:"primary_release_date.desc|popularity.desc"}]}},58:function(e,t,n){"use strict";(function(e){var r=n(250),o=n.n(r),i=n(39),a=new o.a({sync:"".concat(location.protocol,"//").concat(i.a.config.auth.username,":").concat(i.a.config.auth.password,"@").concat(location.host,"/db")});e.database=a,t.a=a}).call(this,n(37))},703:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=n(704),f=n(705),b=n(708).request,d=n(67).of,y=n(66),m=y.map,j=y.catchError;e.exports=function(){function e(t,n){var r=t.name,o=t.key,i=t.url,a=n.proxify,s=n.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r,this.key=o,this.url=i,this.options={proxify:a,headers:s||{}}}var t,n,s;return t=e,(n=[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.format="json",e.apikey=this.key;var t="".concat(this.url,"?").concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"));return this.options.proxify?["/proxy?url=".concat(window.btoa(t)),{headers:new Headers(c({},this.options.headers))}]:[t]}},{key:"search",value:function(e){var t=a(this.build({q:e,Query:e,t:"search",cat:"2000,2010,2020,2030,2040,2050,2060"}),2),n=t[0],s=t[1];return b(c({url:n,responseType:"text"},s)).pipe(m(function(e){return e.response}),m(function(e){try{return JSON.parse(e)}catch(n){var t=p.xml2json(e);return{items:(void 0===(t.rss||{channel:{}}).channel.item?[]:Array.isArray(t.rss.channel.item)?t.rss.channel.item:[t.rss.channel.item]).map(function(e){var t=e.torznab,n=i(e,["torznab"]);return c({},t.reduce(function(e,t){return c({},e,l({},t.name,e[t.name]?Array.isArray(e[t.name])?[].concat(o(e[t.name]),[t.value]):[e[t.name],t.value]:t.value))},{}),{},n)}).map(function(e){var n=e.downloadvolumefactor,r=e.minimumratio,o=e.minimumseedtime,a=e.pubDate,s=e.uploadvolumefactor,l=i(e,["downloadvolumefactor","minimumratio","minimumseedtime","pubDate","uploadvolumefactor"]);return c({},l,{link:f(l.enclosure.url,"all"),grabs:parseInt(l.grabs),size:parseInt(l.size),downloadVolumeFactor:parseInt(n),minimumRatio:parseInt(r),minimumSeedTime:parseInt(o),peers:parseInt(l.peers),publishDate:a,seeders:parseInt(l.seeders),site:l.link.split("".concat(t.rss.channel.atom.href,"dl/")).pop().split("/").shift(),uploadVolumeFactor:parseInt(s),category:Array.isArray(l)?l.category.map(function(e){return parseInt(e)}):parseInt(l.category)})})}}}),m(function(e){return function e(t){switch(r(t)){case"string":case"number":case"boolean":return t;default:return Array.isArray(t)?t.map(function(t){return e(t)}):t instanceof Date?t:null===t?t:Object.keys(t).reduce(function(n,r){return c({},n,l({},r.toUpperCase()===r?r.toLowerCase():"".concat(r.charAt(0).toLowerCase()).concat(r.slice(1)),e(t[r])))},{})}}(e)}),j(function(e){return console.warn("XZNAB Search error :",e),d({items:[]})}))}}])&&u(t.prototype,n),s&&u(t,s),e}()},710:function(e){e.exports=JSON.parse('{"tmdb":"","blackhole":"/tmp","xznabs":[],"filter":"resolution=720p|1080p","sort":"seeders","descending":true,"region":"en-US","auth":{"username":"sensorr","password":"sensorr"},"policy":{"prefer":{},"avoid":{}},"plex":{"url":"","pin":{"code":"","id":""},"token":""},"logs":{"limit":10}}')},722:function(e,t){},770:function(e,t,n){e.exports=n.p+"0.bundle.worker.js"},8:function(e,t,n){"use strict";(function(e,r){n.d(t,"b",function(){return M});var o=n(0),i=n(1),a=n.n(i),s=n(62),c=n(57),l=n(76),u=n(439),p=n(440),f=n(441),b=n(443),d=n(444),y=n(445),m=n(446),j=n(447),g=n(449),h=n(450),O=n(39),v=n(3);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={element:{flex:1,display:"flex",flexDirection:"column",padding:"2em 2em 3em"},column:{display:"flex"},section:{padding:"2em 1em",display:"flex",flexDirection:"column"},title:{padding:"0 0 0.5em",fontSize:"2em",fontWeight:"bold",color:v.a.colors.black},subtitle:{padding:"0 0 0.25em",fontSize:"1.5em",fontWeight:"bold",color:v.a.colors.black},paragraph:{lineHeight:1.75,color:v.a.colors.black},list:{lineHeight:1.75,listStyle:"inside"},link:{color:v.a.colors.primary},select:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",borderRadius:0,border:"0.0625em solid ".concat(v.a.colors.gray),WebkitAppearance:"none",background:v.a.colors.white},input:{width:"100%",padding:"0.5em",margin:"1em 0",fontSize:"0.875em",whiteSpace:"nowrap",borderRadius:0,border:"0.0625em solid ".concat(v.a.colors.gray)},checkbox:{padding:"0.5em"},code:{backgroundColor:v.a.colors.primary,padding:"0.125em 0.375em",borderRadius:"0.25em",fontFamily:v.a.fonts.secondary,fontSize:"0.875em",fontWeight:600,color:v.a.colors.white},button:{cursor:"pointer",backgroundColor:v.a.colors.primary,color:v.a.colors.white,padding:"1em 1.25em 0.75em",border:"none",fontFamily:v.a.fonts.primary,fontSize:"1.125em",fontWeight:"bold",textTransform:"uppercase",whiteSpace:"nowrap"},remove:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"0 0 0 1em"},add:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"1em"}},I=function(){return Object(o.jsx)("button",{type:"submit",style:C({},M.button,{marginTop:"1em"})},"💾  Save")},A=function(t){function n(t){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(r=!(i=S(n).call(this,t))||"object"!==x(i)&&"function"!=typeof i?k(o):i).state={values:C({},O.a.config,{region:e.config.region||localStorage.getItem("region")||window.navigator.languages.filter(function(e){return e.match(/-/)}).reverse().pop()||"en-US"})},r.handleSubmit=r.handleSubmit.bind(k(r)),r.handleChange=r.handleChange.bind(k(r)),r}var l,v,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,i["PureComponent"]),l=n,(v=[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.toastManager,n=C({},this.state.values,{xznabs:this.state.values.xznabs.filter(function(e){return e.name&&e.url&&e.key})});fetch("/api/configure",{method:"POST",headers:new Headers({"Content-Type":"application/json; charset=utf-8",Authorization:"Basic ".concat(new r("".concat(O.a.config.auth.username,":").concat(O.a.config.auth.password)).toString("base64"))}),body:JSON.stringify({config:n})}).then(function(e){try{e.json().then(function(n){e.ok?(t.add(Object(o.jsx)("span",null,"Configuration updated ! Reloading page..."),{appearance:"success",autoDismiss:!0}),setTimeout(function(){return location.reload()},5e3)):t.add(Object(o.jsx)("span",null,"Something went wrong during configuration update : ",Object(o.jsx)("strong",null,n.reason)),{appearance:"error",autoDismiss:!0})})}catch(n){t.add(Object(o.jsx)("span",null,"Unexpected error during configuration update : ",Object(o.jsx)("strong",null,e.statusText)),{appearance:"error",autoDismiss:!0})}})}},{key:"handleChange",value:function(e,t){this.setState({values:C({},this.state.values,D({},e,t))})}},{key:"render",value:function(){var e=this,t=this.state.values;return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(c.Helmet,null,Object(o.jsx)("title",null,"Sensorr - Settings")),Object(o.jsx)("form",{style:M.element,onSubmit:this.handleSubmit},Object(o.jsx)(s.d,null,Object(o.jsx)(s.b,{path:"/settings",exact:!0,render:function(){return Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)(u.a,null),Object(o.jsx)(p.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(d.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(f.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(I,null))}}),Object(o.jsx)(s.b,{path:"/settings/downloads",exact:!0,render:function(){return Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)(b.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(y.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(m.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(j.a,{values:t,handleChange:e.handleChange}),Object(o.jsx)(I,null))}}),Object(o.jsx)(s.b,{path:"/settings/plex",exact:!0,render:function(){return Object(o.jsx)(g.a,{values:t,handleChange:e.handleChange})}}),Object(o.jsx)(s.b,{path:"/settings/database",exact:!0,render:function(){return Object(o.jsx)(h.a,null)}}))))}}])&&w(l.prototype,v),_&&w(l,_),n}();t.a=Object(l.withToastManager)(A)}).call(this,n(37),n(94).Buffer)},80:function(e,t,n){"use strict";n.d(t,"c",function(){return A}),n.d(t,"a",function(){return z}),n.d(t,"b",function(){return E});var r=n(15),o=n(0),i=n(1),a=n.n(i),s=n(4),c=n.n(s),l=n(38),u=n(116),p=n(24),f=n(58),b=n(45),d=n(3);function y(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,s,"next",e)}function s(e){y(i,r,o,a,s,"throw",e)}a(void 0)})}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(){return w(this,t),P(this,C(t).apply(this,arguments))}return D(t,i["PureComponent"]),k(t,[{key:"render",value:function(){var e=this.props,n=e.entity,r=e.display,i=e.link,a=(x(e,["entity","display","link"]),n.name||n.original_name||"");switch(r){case"portrait":case"avatar":return Object(o.jsx)(z,this.props);case"card":return Object(o.jsx)("div",{css:t.styles.card.element},Object(o.jsx)(z,v({},this.props,{display:"portrait",title:null,updatable:!1,css:t.styles.card.poster})),n.id&&Object(o.jsx)(l.b,{to:i(n),css:t.styles.card.container},Object(o.jsx)("h1",a.length>45?{name:a}:{},a.length>45?"".concat(a.substring(0,45),"..."):a),Object(o.jsx)("span",null,"💼   ",n.known_for_department)),Object(o.jsx)(E,{entity:n,css:t.styles.card.state}))}}}]),t}();I(A,"propTypes",{entity:c.a.object.isRequired,display:c.a.oneOf(["portrait","avatar","card"]),link:c.a.func,updatable:c.a.bool,placeholder:c.a.bool,title:c.a.string}),I(A,"defaultProps",{display:"avatar",link:function(e){return"/star/".concat(e.id)},updatable:!0,placeholder:!1}),I(A,"styles",{card:{element:{display:"flex",alignItems:"center",width:"20em"},poster:{fontSize:"0.4em"},container:h({},d.a.resets.a,{flex:1,padding:"0 0 0 1em",fontSize:"0.75em",color:d.a.colors.rangoon,transition:"opacity 400ms ease-in-out",">h1":{fontSize:"1.5em",fontWeight:"bold",margin:"0 0 0.5em 0"}}),state:{alignSelf:"flex-start",fontSize:"0.8em"}}});var z=function e(t){var n=t.entity,s=t.display,c=t.updatable,u=t.placeholder,p=t.link,f=t.title,b=x(t,["entity","display","updatable","placeholder","link","title"]),y=j(Object(i.useState)(!1),2),m=y[0],g=y[1],O=j(Object(i.useState)(!1),2),w=O[0],S=O[1];Object(i.useEffect)(function(){g(!1)},[(n||{}).profile_path]);var k=p&&n.id?l.b:"span";return Object(o.jsx)("span",v({},b,{css:Object(r.a)([e.styles.container,e.styles[s].container,b.css],"label:Poster;"),onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)}}),Object(o.jsx)("span",{css:Object(r.a)([e.styles.wrapper,e.styles[s].wrapper],"label:Poster;")},!(!c||"portrait"!==s&&!w)&&Object(o.jsx)(E,{entity:n,css:e.styles[s].state,style:h({opacity:m||!n.profile_path&&n.id?1:0},m?{}:{transition:"none"})}),Object(o.jsx)(k,v({},p?{to:p(n)}:{},{css:e.styles.link}),Object(o.jsx)("span",{css:Object(r.a)([e.styles.element,e.styles[s].element],"label:Poster;")},Object(o.jsx)("span",{css:Object(r.a)([e.styles.poster,e.styles[s].poster,u&&!n.id&&d.a.styles.placeholder,!n.profile_path&&n.id&&e.styles.empty],"label:Poster;"),style:h({opacity:m||!n.profile_path?1:0},m?{}:{transition:"none"})},n.profile_path&&Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.profile_path),onLoad:function(){return g(!0)},css:Object(r.a)([e.styles.img,e.styles[s].img],"label:Poster;")}))))),null!==f&&Object(o.jsx)("h5",{css:Object(r.a)([e.styles.tooltip,e.styles[s].tooltip],"label:Poster;"),title:f||"".concat(n.name).concat(n.job?" (".concat(n.job,")"):"").concat(n.character?" (".concat(n.character,")"):""),hidden:"portrait"!==s&&!w,style:h({opacity:m||!n.profile_path&&n.id?1:0},m?{}:{transition:"none"})},f||Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)("strong",null,n.name),n.job&&Object(o.jsx)("span",null,Object(o.jsx)("br",null),n.job),n.character&&Object(o.jsx)("span",null,Object(o.jsx)("br",null),n.character))))};z.styles={container:{display:"flex",justifyContent:"center",width:"10em"},wrapper:{position:"relative"},link:{textDecoration:"none"},element:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:d.a.colors.grey},poster:{height:"14em",width:"10em",overflow:"hidden",transition:"opacity 400ms ease-in-out"},empty:{backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNDAwIDI0MDAiPiAgPHBhdGggZmlsbD0iI2NjYyIgZD0iTTg4IDIyMTljLTI0LjcgMC00NS41LTguNS02Mi41LTI1LjVTMCAyMTU2IDAgMjEzMlYzMDdjMC0yNC43IDguNS00NS41IDI1LjUtNjIuNVM2My4zIDIxOSA4OCAyMTloMjIyNGMyNC43IDAgNDUuNSA4LjUgNjIuNSAyNS41czI1LjUgMzcuOCAyNS41IDYyLjV2MTgyNWMwIDI0LTguNSA0NC41LTI1LjUgNjEuNXMtMzcuOCAyNS41LTYyLjUgMjUuNUg4OHptMTEyLTMwMGw2MDYtNDAwYzI0LjcgMTAgNTYuNyAyMy4yIDk2IDM5LjVzMTA0LjUgNDYuMiAxOTUuNSA4OS41IDE2NC4yIDgyLjMgMjE5LjUgMTE3YzIyLjcgMTQuNyAzOS43IDIyIDUxIDIyIDEwIDAgMTUtNiAxNS0xOCAwLTIyLjctMTUtNTguMy00NS0xMDdzLTY4LTk3LjMtMTE0LTE0Ni04Ny43LTgxLTEyNS05N2MyOS4zLTI5LjMgNzQuMy03Ny4zIDEzNS0xNDRzMTEzLjctMTI2IDE1OS0xNzhsNjktNzggNS41LTUuNSAxNS41LTE0IDI0LTIwIDMwLTIxIDM2LTIwIDM5LTE0IDQxLTUuNWMxOCAwIDM3IDMuNSA1NyAxMC41czM3LjggMTUuMyA1My41IDI1IDMwIDE5LjMgNDMgMjkgMjMuMiAxOC4yIDMwLjUgMjUuNWwxMCAxMCAzNTMgMzU4VjQxOUgyMDB2MTUwMHptNDAwLTg4MWMtNjAgMC0xMTEuNS0yMS41LTE1NC41LTY0LjVTMzgxIDg3OSAzODEgODE5czIxLjUtMTExLjUgNjQuNS0xNTQuNVM1NDAgNjAwIDYwMCA2MDBjMzkuMyAwIDc1LjggOS44IDEwOS41IDI5LjVzNjAuMyA0Ni4zIDgwIDgwUzgxOSA3NzkuNyA4MTkgODE5YzAgNjAtMjEuNSAxMTEuNS02NC41IDE1NC41UzY2MCAxMDM4IDYwMCAxMDM4eiIvPjwvc3ZnPg==)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"50%"},img:{height:"100%",width:"100%",objectFit:"cover"},tooltip:{backgroundColor:d.a.colors.shadows.black,borderRadius:"0.25em",color:d.a.colors.white,textAlign:"center",whiteSpace:"nowrap",padding:"0.25em 0.5em",lineHeight:1.25,margin:0,transition:"opacity 400ms ease-in-out"},portrait:{container:{flexDirection:"column"},wrapper:{},element:{},poster:{height:"13.5em"},state:{position:"absolute",right:"0.75em",top:"0.75em",transition:"opacity 400ms ease-in-out 400ms"},img:{},tooltip:{margin:"0.5em 0 0 0",width:"100%",overflow:"hidden",textOverflow:"ellipsis"}},avatar:{container:{position:"relative",flexShrink:0,margin:"0 -2em 0 0",padding:"0 0 1.5em",alignItems:"flex-end"},wrapper:{borderRadius:"50%",border:"solid 0.375em white",overflow:"hidden"},element:{width:"10em"},poster:{height:"10em"},state:{position:"absolute",width:"50%",height:"100%",right:0,borderRadius:0,padding:"0 0.5em 0 0",fontSize:"2em",transition:"opacity 400ms ease-in-out 400ms"},img:{objectPosition:"center 0%"},tooltip:{position:"absolute",bottom:"-3em",fontSize:"2em",zIndex:1}}};var E=function(e){function t(e){var n;return w(this,t),(n=P(this,C(t).call(this,e))).state={doc:!1,loading:!1},n.bootstrap=n.bootstrap.bind(_(n)),n.handleStateChange=n.handleStateChange.bind(_(n)),n}var n,r;return D(t,i["PureComponent"]),k(t,[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){e.entity.id!==this.props.entity.id&&(this.subscription&&this.subscription.unsubscribe(),this.bootstrap())}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"bootstrap",value:(r=m(regeneratorRuntime.mark(function e(){var t,n,r,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({doc:!1}),e.next=4,f.a.get();case 4:return t=e.sent,n=t.stars.findOne().where("id").eq(this.props.entity.id.toString()),e.next=8,n.exec();case 8:r=e.sent,this.setState({doc:r?r.toJSON():null}),this.subscription=n.$.subscribe(function(e){return o.setState({doc:e?e.toJSON():null})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,this,[[0,13]])})),function(){return r.apply(this,arguments)})},{key:"handleStateChange",value:(n=m(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get();case 2:if(t=e.sent,n=this.props.entity,!1!==this.state.doc){e.next=6;break}return e.abrupt("return");case 6:if(this.state.doc&&"ignored"!==this.state.doc.state){e.next=17;break}return this.setState({loading:!0}),e.next=10,b.a.fetch(["person",n.id,"movie_credits"]);case 10:return r=e.sent,e.next=13,t.stars.atomicUpsert(new p.Star(h({},n,{credits:r,state:"stalked"})).normalize());case 13:o=e.sent,this.setState({loading:!1,doc:o.toJSON(),entity:n}),e.next=22;break;case 17:if("stalked"!==this.state.doc.state){e.next=22;break}return e.next=20,t.stars.atomicUpsert(new p.Star(h({},n,{state:"ignored"})).normalize());case 20:i=e.sent,this.setState({doc:i.toJSON(),entity:n});case 22:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.entity,e.compact),n=x(e,["entity","compact"]),r=this.state,i=r.doc;r.loading,x(r,["doc","loading"]);return null===i||i&&"ignored"===i.state?Object(o.jsx)(u.a,v({},n,{onClick:this.handleStateChange,emoji:"🔕",label:t?"":"Ignored"})):i&&"stalked"===i.state?Object(o.jsx)(u.a,v({},n,{onClick:this.handleStateChange,emoji:"🔔",label:t?"":"Following"})):Object(o.jsx)(u.a,v({},n,{emoji:"⌛",label:t?"":"Loading",style:h({},n.style||{},{cursor:"default"})}))}}]),t}();I(E,"propTypes",{entity:c.a.object.isRequired,compact:c.a.bool}),I(E,"defaultProps",{compact:!0})},814:function(e,t){},817:function(e,t,n){var r=n(818);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(190)(r,o);r.locals&&(e.exports=r.locals)},818:function(e,t,n){t=e.exports=n(189)(!1);var r=n(298)(n(819));t.push([e.i,"@font-face {\n  font-family: 'Maison Mono';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Maison Mono '),\n    local('Maison-Mono'),\n    url("+r+") format('woff');\n}\n",""])},819:function(e,t,n){e.exports=n.p+"assets/fonts/maison-latin-400.4cffdca228e706834c5afd62be58a6fa.woff"},820:function(e,t,n){var r=n(821);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(190)(r,o);r.locals&&(e.exports=r.locals)},821:function(e,t,n){t=e.exports=n(189)(!1);var r=n(298),o=r(n(822)),i=r(n(823)),a=r(n(824));t.push([e.i,"@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Raleway Regular '),\n    local('Raleway-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Raleway SemiBold '),\n    local('Raleway-SemiBold'),\n    url("+i+") format('woff');\n}\n\n@font-face {\n  font-family: 'Raleway';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Raleway ExtraBold '),\n    local('Raleway-ExtraBold'),\n    url("+a+") format('woff');\n}\n",""])},825:function(e,t,n){var r=n(826);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(190)(r,o);r.locals&&(e.exports=r.locals)},826:function(e,t,n){t=e.exports=n(189)(!1);var r=n(298),o=r(n(827)),i=r(n(828)),a=r(n(829));t.push([e.i,"@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src:\n    local('Open Sans Regular '),\n    local('Open Sans-Regular'),\n    url("+o+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src:\n    local('Open Sans SemiBold '),\n    local('Open Sans-SemiBold'),\n    url("+i+") format('woff');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 800;\n  src:\n    local('Open Sans ExtraBold '),\n    local('Open Sans-ExtraBold'),\n    url("+a+") format('woff');\n}\n",""])},830:function(e,t,n){var r=n(831);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(190)(r,o);r.locals&&(e.exports=r.locals)},831:function(e,t,n){(e.exports=n(189)(!1)).push([e.i,"* {\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n\nhtml {\n  scroll-behavior: smooth;\n  font-size: 16px;\n  background-color: #01D277;\n}\n\nbody {\n  scroll-behavior: smooth;\n  position: relative;\n  font-size: 1rem;\n  font-family: 'Raleway';\n  list-style: none;\n}\n\nb, strong {\n  font-weight: bold;\n}\n\nem {\n  font-style: italic;\n}\n\nsmall {\n  font-size: 0.75em;\n}\n\ncode {\n  font-weight: normal;\n  font-family: 'Maison Mono', monospace;\n}\n\n*[hidden] {\n  display: none !important;\n}\n",""])},833:function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(460),n(679),n(1)),i=n.n(o),a=n(88),s=n(140),c=n(76),l=n(38),u=n(849),p=n(156);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0% {\n    height: 100%;\n  }\n  100% {\n    height: 0%;\n  }\n"]);return j=function(){return e},e}var g=Object(r.keyframes)(j()),h={container:{position:"fixed",bottom:0,left:0,boxSizing:"border-box",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",padding:"0 1em",zIndex:10},toast:{width:"50vw",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.175)",display:"flex",marginBottom:"1em"},appearances:{success:{icon:p.CheckIcon,text:"hsl(154, 100%, 30%)",fg:"hsl(154, 99%, 40%)",bg:"hsl(154, 100%, 99%)"},error:{icon:p.FlameIcon,text:"hsl(12, 100%, 40%)",fg:"hsl(12, 99%, 60%)",bg:"hsl(12, 100%, 99%)"},warning:{icon:p.AlertIcon,text:"hsl(33, 100%, 50%)",fg:"hsl(40, 100%, 50%)",bg:"hsl(48, 100%, 99%)"},info:{icon:p.InfoIcon,text:"hsl(218, 20%, 40%)",fg:"hsl(218, 100%, 60%)",bg:"white"}},text:{position:"absolute"},button:{cursor:"pointer",flexShrink:0,opacity:.5,padding:"0.5em",transition:"opacity 150ms"},content:{flexGrow:1,fontSize:"0.825em",lineHeight:1.4,padding:"0.5em 0.75em"},icon:{flexShrink:0,padding:"0.5em",position:"relative",overflow:"hidden",textAlign:"center"},timeout:{backgroundColor:"rgba(0, 0, 0, 0.1)",bottom:0,height:0,left:0,animation:"".concat(g," linear 1s"),position:"absolute",width:"100%"},svg:{position:"relative",zIndex:1}},O=n(62),v=function(){return window.scrollTo(0,0)},x=Object(O.g)(function(e){var t=e.children,n=e.location.pathname;return Object(o.useEffect)(function(){v()},[n]),t||null}),w=n(15),S=n(3);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={element:{display:"flex",justifyContent:"center"},container:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",padding:"0 10%",">a":_({},S.a.resets.a,{padding:"1.5em 1.75em",fontWeight:600,fontSize:"0.875em",color:S.a.colors.rangoon,opacity:.33,transition:"opacity ease 300ms","&:hover":{opacity:.66}})},secondary:{display:"flex",alignItems:"center",">a":_({},S.a.resets.a,{padding:"1em",fontWeight:600,fontSize:"0.75em",color:S.a.colors.rangoon,opacity:.33,transition:"opacity ease 300ms","&:hover":{opacity:.66}})},chevron:{height:"0.5em"},active:{opacity:1}},M=function(e){k({},e);return Object(r.jsx)(i.a.Fragment,null,Object(r.jsx)("div",{css:D.element},Object(r.jsx)("div",{css:D.container},Object(r.jsx)(l.c,{to:"/",exact:!0,activeStyle:D.active},"Trending"),Object(r.jsx)(l.c,{to:"/movies",activeStyle:D.active},"Movies"),Object(r.jsx)(O.b,{path:"/movies",render:function(){return Object(r.jsx)("div",{css:D.secondary},Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",css:D.chevron,viewBox:"0 0 320 512"},Object(r.jsx)("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),Object(r.jsx)(l.c,{to:"/movies/library",exact:!0,activeStyle:D.active},"Library"),Object(r.jsx)(l.c,{to:"/movies/calendar",activeStyle:D.active},"Calendar"),Object(r.jsx)(l.c,{to:"/movies/records",activeStyle:D.active},"Records"))}}),Object(r.jsx)(l.c,{to:"/stars/following",activeStyle:D.active},"Stars"),Object(r.jsx)(O.b,{path:"/stars",render:function(){return Object(r.jsx)("div",{css:D.secondary},Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",css:D.chevron,viewBox:"0 0 320 512"},Object(r.jsx)("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),Object(r.jsx)(l.c,{to:"/stars/following",exact:!0,activeStyle:D.active},"Following"))}}),Object(r.jsx)(l.c,{to:"/settings",activeStyle:D.active},"Settings"),Object(r.jsx)(O.b,{path:"/settings",render:function(){return Object(r.jsx)("div",{css:D.secondary},Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",css:D.chevron,viewBox:"0 0 320 512"},Object(r.jsx)("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})),Object(r.jsx)(l.c,{to:"/settings",exact:!0,activeStyle:D.active},"General"),Object(r.jsx)(l.c,{to:"/settings/downloads",exact:!0,activeStyle:D.active},"Downloads"),Object(r.jsx)(l.c,{to:"/settings/plex",exact:!0,activeStyle:D.active},"Plex"),Object(r.jsx)(l.c,{to:"/settings/database",exact:!0,activeStyle:D.active},"Database"))}}))))},I=n(415),A=n(4),z=n.n(A),E=n(417),T=n(52),N=n(49),L=n(45),R=n(78),F=n.n(R);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={list:{element:{position:"relative",padding:"2em 0"},label:{padding:"0 1.5em",margin:0,fontSize:"1em",fontWeight:"800",lineHeight:"1.25",color:S.a.colors.rangoon},container:{left:0,display:"flex",flexWrap:"nowrap"},row:{alignItems:"center",flexDirection:"row",overflowX:"auto",overflowY:"hidden",padding:"2em 0"},column:{flexDirection:"column",overflowX:"hidden",overflowY:"auto"},entity:{flex:"0 0 auto"}},label:{element:{position:"relative",display:"flex",width:"100%",label:{position:"relative"},select:{position:"absolute",opacity:0,top:0,left:0,height:"100%",width:"100%",appearance:"none",border:"none",cursor:"pointer",zIndex:1}}}},Q=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=q(t).call(this,e))||"object"!==U(o)&&"function"!=typeof o?G(r):o).state={entities:[],loading:!1,err:null},n.validate=n.validate.bind(G(n)),n.reference=i.a.createRef(),n.debounce=F()(700),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.props.uri.length&&(this.setState({loading:!0}),L.a.fetch(this.props.uri,this.props.params).then(function(t){return e.debounce(function(){e.setState({loading:!1,entities:e.props.transform(t)||[]})})},function(t){return e.debounce(function(){e.setState({loading:!1,err:7===t.status_code?"Invalid TMDB API key, check your configuration.":t.status_message})})}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.uri.length&&(this.props.uri.join("/")===e.uri.join("/")&&JSON.stringify(this.props.params)===JSON.stringify(e.params)||(this.setState({loading:!0,entities:[]}),L.a.fetch(this.props.uri,this.props.params).then(function(e){return t.debounce(function(){t.setState({loading:!1,entities:t.props.transform(e)}),t.reference.current&&t.reference.current.scroll(0,0)})},function(e){return t.debounce(function(){t.setState({loading:!1,err:7===e.status_code?"Invalid TMDB API key, check your configuration.":e.status_message})})}))),this.props.items.length&&(this.props.items[0]||{}).id!==(e.items[0]||{}).id&&(this.setState({entities:[]}),this.reference.current&&this.reference.current.scroll(0,0))}},{key:"validate",value:function(e){return(!this.props.strict||void 0!==e.poster_path||void 0!==e.profile_path)&&(!e.adult||L.a.adult)}},{key:"render",value:function(){var e=this,t=this.state,n=t.entities,o=t.loading,i=t.err,a=(Y(t,["entities","loading","err"]),this.props),s=a.items,c=a.uri,l=(a.params,a.child),u=a.childProps,p=(a.transform,a.filter),f=a.label,b=a.display,d=a.space,y=a.empty,m=a.spinner,j=(a.strict,a.hide),g=a.prettify,h=a.placeholder,O=a.subtitle,v=Y(a,["items","uri","params","child","childProps","transform","filter","label","display","space","empty","spinner","strict","hide","prettify","placeholder","subtitle"]),x=c.length?n:s.filter(function(t){return e.validate(t)}).filter(p);return(!!x.length||!j)&&Object(r.jsx)("div",{css:Z.list.element},!!f&&Object(r.jsx)("h1",H({},v,{css:Object(w.a)([Z.list.label,v.css],"label:List;")}),f),Object(r.jsx)("div",{ref:this.reference,css:Object(w.a)([Z.list.container,Z.list[b]],"label:List;")},o&&!h?Object(r.jsx)(N.a,m):x.length||h?(x.length?x:Array(15).fill({poster_path:!1,profile_path:!1})).map(function(e,t){return Object(r.jsx)("div",{key:t,css:Z.list.entity,style:{padding:{row:"0 ".concat(d,"em"),column:"".concat(d,"em 0")}[b]}},r.jsx(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){V(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({entity:e,placeholder:h},t<g?{display:"pretty"}:{},{},u)))}):Object(r.jsx)(T.a,H({},y,{title:i?"Oh ! You came across a bug...":y.title,emoji:i?"🐛":y.emoji,subtitle:i||y.subtitle}))),O)}}])&&W(n.prototype,a),s&&W(n,s),t}();V(Q,"propTypes",{items:z.a.array,child:z.a.elementType.isRequired,childProps:z.a.object,uri:z.a.array,params:z.a.object,transform:z.a.func,filter:z.a.func,label:z.a.node,display:z.a.oneOf(["row","column"]),space:z.a.number,empty:z.a.object,spinner:z.a.object,strict:z.a.bool,hide:z.a.bool,prettify:z.a.number,placeholder:z.a.bool,subtitle:z.a.node}),V(Q,"defaultProps",{items:[],childProps:{},uri:[],params:{},transform:function(e){return e.results},filter:function(){return!0},display:"row",space:2,empty:{},spinner:{},strict:!0,hide:!1,prettify:0,placeholder:!1});var X=function(e){var t=e.id,n=e.title,o=e.compact,a=e.actions,s=e.value,c=e.onChange,l=e.options,u=e.children,p=Object(E.a)(),f=p.hovered,b=p.bind;return Object(r.jsx)("span",H({},b,{css:Z.label.element,style:{justifyContent:{true:"flex-start",false:"space-between"}[o]}}),Object(r.jsx)("label",H({htmlFor:t},n?{title:n}:{}),u,!!(l||[]).length&&Object(r.jsx)("select",{id:t,value:s,onChange:function(e){return c(e.target.value)}},l.map(function(e){return Object(r.jsx)("option",{key:e.label,value:e.value},e.label)}))),a&&Object(r.jsx)(i.a.Fragment,null,o&&Object(r.jsx)("span",null,"  -  "),Object(r.jsx)("span",{hidden:!o&&!f},a)))};X.propTypes={id:z.a.string.isRequired,title:z.a.string,compact:z.a.bool,actions:z.a.node,value:z.a.string,onChange:z.a.func,options:z.a.arrayOf(z.a.shape({value:z.a.string.isRequired,label:z.a.string.isRequired})),children:z.a.node.isRequired},X.defaultProps={compact:!1};var K=n(40),$=n(80);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e){return Object(r.jsx)("svg",ee({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}),Object(r.jsx)("path",{fill:"black",opacity:.2,d:"M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm5.66 14.24l-1.41 1.41L10 11.41l-4.24 4.25-1.42-1.42L8.59 10 4.34 5.76l1.42-1.42L10 8.59l4.24-4.24 1.41 1.41L11.41 10z"}))};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re=function(e){return Object(r.jsx)("svg",ne({height:"20",width:"20"},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M448 56v95.005c0 21.382-25.851 32.09-40.971 16.971l-27.704-27.704-107.242 107.243c-4.686 4.686-12.284 4.686-16.971 0l-22.627-22.627c-4.686-4.686-4.686-12.284 0-16.971l107.243-107.243-27.704-27.704C296.905 57.851 307.613 32 328.995 32H424c13.255 0 24 10.745 24 24zM175.917 264.485L68.674 371.728 40.97 344.024C25.851 328.905 0 339.613 0 360.995V456c0 13.255 10.745 24 24 24h95.005c21.382 0 32.09-25.851 16.971-40.971l-27.704-27.704 107.243-107.243c4.686-4.686 4.686-12.284 0-16.971l-22.627-22.627c-4.687-4.685-12.285-4.685-16.971.001z"}))};function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=function(e){return Object(r.jsx)("svg",oe({height:"20",width:"20"},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M224 232v-95.005c0-21.382 25.851-32.09 40.971-16.971l27.704 27.704L404.888 35.515c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L332.272 187.326l27.704 27.704c15.119 15.119 4.411 40.97-16.971 40.97H248c-13.255 0-24-10.745-24-24zM43.112 476.485l112.213-112.213 27.704 27.704c15.12 15.119 40.971 4.411 40.971-16.971V280c0-13.255-10.745-24-24-24h-95.005c-21.382 0-32.09 25.851-16.971 40.971l27.704 27.704L3.515 436.888c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.97-.001z"}))};function ae(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach(function(t){ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var be=i.a.createContext(),de=Object(O.g)(function(e){var t=e.location,n=(e.history,e.match,e.staticContext,e.children),i=fe(e,["location","history","match","staticContext","children"]),a=Object(o.useRef)(),s=pe(Object(o.useState)(!1),2),c=s[0],l=s[1],u=pe(Object(o.useState)(!1),2),p=u[0],f=u[1],b=pe(Object(o.useState)(""),2),d=b[0],y=b[1],m=function(e){document.body.style["max-height"]=e?"100vh":"initial",document.body.style.overflow=e?"hidden":"initial"},j=function(e){m(p&&e),l(e)},g=function(e){a.current.contains(e.target)||j(!1)},h=function(e){"Escape"===e.key&&(j(!1),y(""))};return Object(o.useEffect)(function(){return document.addEventListener("mousedown",g),document.addEventListener("keydown",h),function(){document.removeEventListener("mousedown",g),document.removeEventListener("keydown",h)}},[]),Object(o.useEffect)(function(){j(!1),y("")},[t.pathname]),Object(r.jsx)(be.Provider,se({},i,{value:{active:c,setActive:j,expanded:p,setExpanded:function(e){m(e),f(e)},query:d,setQuery:y}}),Object(r.jsx)("div",se({},i,{ref:a,style:le({},i.style||{},{},c&&p?{height:"100vh"}:{})}),n))}),ye={Movie:function(e){return Object(r.jsx)(K.c,se({},e,{display:"card"}))},Collection:function(e){return Object(r.jsx)(K.c,se({},e,{display:"card",withState:!1,link:function(e){return"/collection/".concat(e.id)}}))},Persona:function(e){return Object(r.jsx)($.c,se({display:"card"},e))}},me=function e(t){t.children,fe(t,["children"]);var n=Object(o.useContext)(be),i=n.active,a=n.expanded,s=n.setExpanded,c=n.query,l=n.setQuery,u=pe(Object(o.useReducer)(e.reducer,e.initialState),2),p=u[0],f=u[1],b=Object(o.useMemo)(function(){var e=Object.values(le({},JSON.parse(localStorage.getItem("sensorr-search-suggestions")||"[]").reduce(function(e,t){return le({},e,ue({},t[0],[t[0],new Date(t[1])]))},{}),{},c&&!Object.values(p).every(function(e){return Array.isArray(e)&&!e.length})?ue({},c,[c,new Date(Date.now()+432e6)]):{})).filter(function(e){return e[1]>new Date}).sort(function(e,t){return t[1]-e[1]}).slice(0,10);return localStorage.setItem("sensorr-search-suggestions",JSON.stringify(e)),e.map(function(e){return e[0]})},[c,p]),d=Object(o.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f([t[t.length-1],null]),e.prev=1,e.next=4,L.a.fetch(t,n);case 4:return r=e.sent,e.next=7,new Promise(function(e){return setTimeout(e,700)});case 7:f([t[t.length-1],r.results]),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,new Promise(function(e){return setTimeout(e,700)});case 14:f([t[t.length-1],[]]);case 15:case"end":return e.stop()}},e,null,[[1,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ae(i,r,o,a,s,"next",e)}function s(e){ae(i,r,o,a,s,"throw",e)}a(void 0)})});return function(e,n){return t.apply(this,arguments)}}(),[]);Object(o.useEffect)(function(){c?(d(["search","movie"],{query:c,sort_by:"popularity.desc"}),d(["search","collection"],{query:c,sort_by:"popularity.desc"}),d(["search","person"],{query:c,sort_by:"popularity.desc"})):(f(["movie",null]),f(["collection",null]),f(["person",null]))},[c]);var y=Object.values(p).some(function(e){return null===e}),m=Object.values(p).every(function(e){return Array.isArray(e)&&!e.length}),j=i&&!!b.length;return Object(r.jsx)("div",{css:e.styles.element,style:{height:j?a&&c?"100%":c&&(y||m)?"50vh":"auto":0,maxHeight:a?"100%":"50vh"}},Object(r.jsx)("hr",{css:e.styles.separator}),Object(r.jsx)("div",{css:e.styles.scroller,style:{opacity:j?1:0}},c?y||m?!y&&m?Object(r.jsx)("div",{css:e.styles.fallback},Object(r.jsx)(T.a,{css:e.styles.empty,emoji:"🔍",title:"Sorry, no results",subtitle:Object(r.jsx)("span",null,'Try something more familiar, like "Pulp Fiction" ?')})):Object(r.jsx)("div",{css:e.styles.fallback},Object(r.jsx)(N.a,null)):Object(r.jsx)("div",{css:e.styles.container},p.movie&&Object(r.jsx)(Q,{label:"🎞️  Movies",items:p.movie,hide:!0,child:ye.Movie,css:e.styles.label,display:"column",space:.5}),p.collection&&Object(r.jsx)(Q,{label:"📚  Collections",items:p.collection,hide:!0,child:ye.Collection,css:e.styles.label,display:"column",space:.5}),p.person&&Object(r.jsx)(Q,{label:"⭐  Stars",items:p.person,hide:!0,child:ye.Persona,css:e.styles.label,display:"column",space:.5})):Object(r.jsx)("div",{css:Object(w.a)([e.styles.container,e.styles.suggestions],"label:Results;")},Object(r.jsx)(Q,{key:"suggestions",items:b.map(function(e){return{id:e}}),strict:!1,child:function(t){var n=t.entity;return Object(r.jsx)("button",{onClick:function(){return l(n.id)},css:e.styles.suggestion},Object(r.jsx)("small",null,Object(r.jsx)("code",null,n.id)))},display:"column",space:0}))),(!!c||a)&&Object(r.jsx)("button",{onClick:function(){return s(!a)},css:e.styles.resize},a?Object(r.jsx)(ie,null):Object(r.jsx)(re,null)),Object(r.jsx)("hr",{css:e.styles.hr}))};me.reducer=function(e,t){var n=pe(t,2);return le({},e,ue({},n[0],n[1]))},me.initialState={movie:null,collection:null},me.styles={element:{position:"relative",overflow:"hidden",margin:"0 0 -1px 0"},separator:{border:"none",margin:"0 calc(15% + 5em) 0 calc(15% + 10em)",borderBottom:"1px solid ".concat(S.a.colors.mercury)},resize:le({},S.a.resets.button,{color:S.a.colors.gray,display:"flex",padding:"0.5em",height:"2em",width:"2em",position:"absolute",top:"1em",right:"1em",":hover":{color:S.a.colors.rangoon}}),scroller:{background:"white",height:"100%",overflowY:"auto",transition:"opacity 600ms ease-in-out"},container:{display:"flex",justifyContent:"center",minHeight:"15em",">div":{padding:"2em"}},fallback:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},empty:{fontSize:"0.75em"},suggestions:{minHeight:"1em",">div":{width:"100%",padding:"1em 0",textAlign:"center"}},label:{padding:"0 0 1em 0",fontSize:"1em"},suggestion:le({},S.a.resets.button,{width:"100%",padding:"0.5em 0",":hover,:focus":{color:S.a.colors.primary}}),hr:{position:"absolute",bottom:"1px",width:"100%",border:"none",margin:"0 0 -1px 0",borderBottom:"1px solid ".concat(S.a.colors.grey)}};var je=function e(t){se({},t);var n=Object(o.useContext)(be),i=n.active,a=n.setActive,s=n.query,c=n.setQuery,l=Object(o.useRef)(),u=pe(Object(o.useState)(""),2),p=u[0],f=u[1],b=Object(o.useMemo)(function(){return F()(500)},[]),d=function(e){e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||"INPUT"===document.activeElement.tagName||!/^[a-zA-Z0-9]{1}$/.test(e.key)||l.current.focus()};return Object(o.useEffect)(function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}},[]),Object(o.useEffect)(function(){s!==p&&(f(s),a(!!s)),l.current[s||i?"focus":"blur"]()},[s,i]),Object(r.jsx)("div",{css:e.styles.element},p&&p!==s?Object(r.jsx)(N.a,{css:e.styles.icon}):Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 129 129",css:Object(w.a)([e.styles.icon,i||s?e.styles.active:e.styles.blured],"label:Input;"),onClick:function(){return l.current.focus()}},Object(r.jsx)("path",{fill:"currentColor",d:"M51.6 96.7c11 0 21-3.9 28.8-10.5l35 35c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-35-35c6.5-7.8 10.5-17.9 10.5-28.8 0-24.9-20.2-45.1-45.1-45.1-24.8 0-45.1 20.3-45.1 45.1 0 24.9 20.3 45.1 45.1 45.1zm0-82c20.4 0 36.9 16.6 36.9 36.9C88.5 72 72 88.5 51.6 88.5S14.7 71.9 14.7 51.6c0-20.3 16.6-36.9 36.9-36.9z"})),Object(r.jsx)("input",{ref:l,type:"text",placeholder:"Search for anything",value:p,onChange:function(e){return t=e.target.value,f(t),void b(function(){return c(t||"")});var t},onFocus:function(){return a(!0)},css:e.styles.input,"data-test":"search-input"}),!!p&&Object(r.jsx)("button",{onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(""),c(""),a(e),l.current[e?"focus":"blur"]()}(!0)},css:e.styles.clear},Object(r.jsx)(te,null)))};je.styles={element:{position:"relative",flex:1,display:"flex",alignItems:"center"},input:le({},S.a.resets.input,{fontSize:"0.625em",padding:"1.3334em 0.5em"}),icon:{height:"0.75em",width:"0.75em",margin:"0 0.25em",cursor:"pointer",transition:"color ease 600ms"},active:{color:S.a.colors.primary,opacity:1},blured:{color:S.a.colors.rangoon,opacity:.8},clear:le({},S.a.resets.button,{position:"absolute",right:"1.25em",alignSelf:"center",width:"0.583em"})};var ge={Context:be,Provider:de,Input:je,Results:me};function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(n,!0).forEach(function(t){xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we={sticky:{position:"sticky"},element:{display:"flex",flexDirection:"column",backgroundColor:"white"},toolbar:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1em",fontSize:"1.5em",">div":{display:"flex",alignItems:"center",justifyContent:"center",paddingRight:"0.5em",paddingLeft:"0.5em"},">div:first-of-type":{padding:"0 0.5em 0 0"},">div:last-of-type":{padding:"0 0 0 0.5em"}},home:{borderRight:"1px solid ".concat(S.a.colors.mercury),">a":ve({},S.a.resets.a)},navigator:{">button":ve({},S.a.resets.button,{width:"7em",padding:"0 0 0 0.25em",fontSize:"0.6125em",fontWeight:600,color:S.a.colors.rangoon,textAlign:"left",lineHeight:1.5})},input:{flex:1,marginRight:"10%",marginLeft:"10%"},more:{display:"flex",margin:"0 0.5em 0 0",">*":{margin:"0 0.5em"},">*:first-of-type":{margin:"0 0.5em 0 0"},">*:last-of-type":{margin:"0 0 0 0.5em"}},settings:ve({},S.a.resets.a),navbar:{width:"100%",overflow:"hidden",backgroundColor:"white"},hr:{border:"none",margin:0,borderBottom:"1px solid ".concat(S.a.colors.grey)},separator:{border:"none",margin:"0 calc(15% + 5em) 0 calc(15% + 10em)",borderBottom:"1px solid ".concat(S.a.colors.mercury)},results:{active:{borderBottom:"1px solid ".concat(S.a.colors.grey),marginBottom:"-1px"}}},Se=function(e){he({},e);return Object(r.jsx)(i.a.Fragment,null,Object(r.jsx)(ge.Provider,{css:Object(w.a)([we.sticky,we.element],"label:Header;"),style:{top:0,zIndex:10}},Object(r.jsx)("div",{css:we.toolbar},Object(r.jsx)("div",{css:we.home},Object(r.jsx)(l.c,{to:"/",exact:!0,title:"Sensorr"},"🍿")),Object(r.jsx)("div",{css:we.navigator},Object(r.jsx)("button",{onClick:function(){return v()}},Object(r.jsx)(O.d,null,Object(r.jsx)(O.b,{path:"/",exact:!0,render:function(){return"Trending"}}),Object(r.jsx)(O.b,{path:"/movies",render:function(){return"Movies"}}),Object(r.jsx)(O.b,{path:"/stars",render:function(){return"Stars"}}),Object(r.jsx)(O.b,{path:"/settings",render:function(){return"Settings"}}),Object(r.jsx)(O.b,{render:function(){return"Navigation"}})))),Object(r.jsx)("div",{css:we.input},Object(r.jsx)(ge.Input,null)),Object(r.jsx)("div",{css:we.more},Object(r.jsx)(I.a,null))),Object(r.jsx)(ge.Results,{styles:{active:we.results.active}})),Object(r.jsx)("div",{css:we.navbar,style:{zIndex:8}},Object(r.jsx)("hr",{css:we.separator}),Object(r.jsx)(M,null)),Object(r.jsx)("hr",{css:Object(w.a)([we.hr,we.sticky],"label:Header;"),style:{top:"calc(4em - 1px)",zIndex:9}}))},ke=n(57),Pe=n(55);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te={element:{display:"flex",flexDirection:"column",flex:1,fontSize:"1.125em",padding:"2em 0 0"},subtitle:{textAlign:"right",color:S.a.colors.rangoon,padding:"1em 3em",fontSize:"0.6em",opacity:.5}},Ne=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ie(t).call(this,e))||"object"!==Ce(o)&&"function"!=typeof o?Ae(r):o).randomize={year:function(){return Math.min(Math.round(Math.random()*((new Date).getFullYear()-1925)+1925+20*Math.random()),(new Date).getFullYear()-2)},genre:function(){return Object.keys(Pe.GENRES)[Math.floor(Math.random()*Object.keys(Pe.GENRES).length)]},studio:function(){return Object.keys(Pe.STUDIOS)[Math.floor(Math.random()*Object.keys(Pe.STUDIOS).length)]}},n.state={year:n.randomize.year(),genre:n.randomize.genre(),studio:n.randomize.studio()},n.handleListClick=n.handleListClick.bind(Ae(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,o["PureComponent"]),n=t,(i=[{key:"handleListClick",value:function(e,t){this.setState(Ee({},e,t||this.randomize[e]()))}},{key:"render",value:function(){var e=this,n=this.state,i=n.year,a=n.genre,s=n.studio;return De(n,["year","genre","studio"]),Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,Object(r.jsx)("title",null,"Sensorr - Trending")),Object(r.jsx)("div",{css:Te.element},Object(r.jsx)(Q,{label:"📣  Trending",title:"Trending movies",uri:["trending","movie","week"],params:{sort_by:"popularity.desc"},child:K.c,prettify:5,placeholder:!0}),Object(r.jsx)(Q,{label:"👀  Discover",title:"Discover movies",uri:["discover","movie"],child:K.c,prettify:5,placeholder:!0}),Object(r.jsx)(Q,{label:Object(r.jsx)(X,{id:"discover-year",title:"Discover movies by random year"},"📅  Discover ",Object(r.jsx)("span",{style:{fontSize:"smaller",fontWeight:"normal"}},"(",i,")")),uri:["discover","movie"],params:{primary_release_year:i,sort_by:"popularity.desc"},child:K.c,prettify:5,placeholder:!0,subtitle:Object(r.jsx)("div",{css:Te.subtitle},Object(r.jsx)("span",null,"Travel through "),Object(r.jsx)("button",{onClick:function(){return e.handleListClick("year",i-1)},css:S.a.resets.button},"years ⬅️"),Object(r.jsx)("span",null," "),Object(r.jsx)("button",{onClick:function(){return e.handleListClick("year",i+1)},css:S.a.resets.button},"➡️, or"),Object(r.jsx)("span",null," just let "),Object(r.jsx)("button",{onClick:function(){return e.handleListClick("year")},css:S.a.resets.button}," chance 🎰 play for you"))}),Object(r.jsx)(Q,{label:Object(r.jsx)(X,{id:"discover-genre",title:"Discover movies by genre",value:a,onChange:function(t){return e.handleListClick("genre",t)},options:Object.keys(Pe.GENRES).map(function(e){return{value:e,label:Pe.GENRES[e]}})},"🎞️  Discover ",Object(r.jsx)("span",{style:{fontSize:"smaller",fontWeight:"normal"}},"(",Pe.GENRES[a],")")),uri:["discover","movie"],params:{with_genres:a},child:K.c,prettify:5,placeholder:!0,subtitle:Object(r.jsx)("div",{css:Te.subtitle},Object(r.jsx)("button",{onClick:function(){return e.handleListClick("genre")},css:S.a.resets.button},"Let yourself be tempted by a random 🎰 genre"))}),Object(r.jsx)(Q,{label:Object(r.jsx)(X,{id:"discover-studio",title:"Discover movies by famous studio",value:s,onChange:function(t){return e.handleListClick("studio",t)},options:Object.keys(Pe.STUDIOS).map(function(e){return{value:e,label:e}})},"🏛️  Discover ",Object(r.jsx)("span",{style:{fontSize:"smaller",fontWeight:"normal"}},"(",s,")")),uri:["discover","movie"],params:{with_companies:Pe.STUDIOS[s].map(function(e){return e.id}).join("|"),sort_by:"popularity.desc"},child:K.c,prettify:5,placeholder:!0,subtitle:Object(r.jsx)("div",{css:Te.subtitle},Object(r.jsx)("button",{onClick:function(){return e.handleListClick("studio")},css:S.a.resets.button},"Let yourself be tempted by a random 🎰 studio"))}),Object(r.jsx)(Q,{label:"👩‍🎤  Trending",title:"Trending stars",uri:["trending","person","week"],params:{sort_by:"popularity.desc"},child:t.Childs.Persona,placeholder:!0})))}}])&&Me(n.prototype,i),a&&Me(n,a),t}();Ee(Ne,"Childs",{Persona:function(e){return Object(r.jsx)($.c,_e({},e,{display:"portrait"}))}});var Le=n(181),Re=n(24),Fe=n.n(Re);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Ye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:S.a.colors.grey,border:"none",fontSize:"1.125em",padding:"0.792em 1em",margin:0,textAlign:"center",color:S.a.colors.secondary,fontFamily:"inherit",outline:"none"},state:{position:"absolute",cursor:"pointer",right:"1em",top:"0.375em",fontSize:"2em",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},wrapper:{display:"flex",flexDirection:"column",flex:1},grid:{padding:"2em 0"}},qe=function(e){return Object(r.jsx)(i.a.Fragment,null,r.jsx(e.genre.element,e.genre.props),r.jsx(e.state.element,e.state.props),Object(r.jsx)("div",{css:Object(w.a)([S.a.styles.row,S.a.styles.spacings.row],"label:Pane;")},r.jsx(e.year.element,He({},e.year.props,{display:"column"})),r.jsx(e.popularity.element,He({},e.popularity.props,{display:"column"})),r.jsx(e.vote_average.element,He({},e.vote_average.props,{display:"column"})),r.jsx(e.runtime.element,He({},e.runtime.props,{display:"column"}))),r.jsx(e.sorting.element,e.sorting.props))},Ge=function(e){Ue({},e);return Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,Object(r.jsx)("title",null,"Sensorr - Library")),Object(r.jsx)("div",{css:We.wrapper},Object(r.jsx)(Le.a,{limit:!0,strict:!1,query:function(e){return e.movies.find().where("state").ne("ignored")},child:K.c,css:We.grid,placeholder:!0,controls:{label:function(e){var t=e.total,n=e.reset;return Object(r.jsx)("button",{css:S.a.resets.button,onClick:function(){return n()}},Object(r.jsx)("span",null,Object(r.jsx)("strong",null,t)," Movies"))},filters:Re.Movie.Filters,sortings:Re.Movie.Sortings,defaults:{filtering:{},sorting:Re.Movie.Sortings.time,reverse:!1},render:{pane:qe}},empty:{emoji:"🍿",title:"Oh no, your collection is empty",subtitle:Object(r.jsx)("span",null,"You should try to search for wished movie, ",Object(r.jsx)("em",null,"Interstellar")," maybe ?")}})))},Je=n(56),Ve=n.n(Je),Ze=n(435),Qe=n.n(Ze),Xe=n(210);function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $e=function(e){return Object(r.jsx)("svg",Ke({height:"20",width:"20"},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}),Object(r.jsx)("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}))},et=n(116),tt=n(436),nt=n(58),rt=n(180),ot=n(254),it=n.n(ot);function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ut(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ut(i,r,o,a,s,"next",e)}function s(e){ut(i,r,o,a,s,"throw",e)}a(void 0)})}}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach(function(t){gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht={element:{position:"relative",flex:1,minHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},container:{flex:1,display:"flex",flexDirection:"column",padding:"0 0 2em 0"},background:{height:"100%",width:"100%",position:"absolute",backgroundSize:"cover",backgroundPosition:"center center",transition:"opacity 400ms ease-in-out"},shadow:{height:"100%",width:"100%",position:"absolute",transition:"box-shadow 400ms ease-in-out"},trailer:{position:"relative",minHeight:"25em",maxHeight:"40vw",transition:"height 400ms ease-in-out"},trailers:{position:"absolute",top:"1em",right:"1em",cursor:"pointer",zIndex:2,">select":{position:"absolute",opacity:0,top:0,left:0,height:"100%",width:"100%",appearance:"none",border:"none",cursor:"pointer"}},play:jt({},S.a.resets.button,{position:"absolute",height:"100%",width:"100%",transition:"color 400ms ease-in-out, opacity 400ms ease-in-out",">svg":{height:"3em",width:"3em"}}),about:{position:"relative",background:"white",transition:"transform 400ms ease-in-out",margin:"0 0 7em",">div:first-of-type":{display:"flex",padding:"2em 10%"}},poster:{fontSize:"1.5em",margin:"-8em 0 1em 0",transition:"margin 400ms ease-in-out"},info:{flex:1,padding:"0 0 0 2em"},title:{fontSize:"2.5em",lineHeight:"1.2em",fontWeight:800,color:S.a.colors.rangoon,margin:"0 0 0.25em"},caption:{fontSize:"1.25em",margin:"0 0 0.75em",color:S.a.colors.rangoon,">span":{"&:not(:last-child)":{fontWeight:600}}},metadata:{fontWeight:600,color:S.a.colors.rangoon,margin:"0 0 2em",">span":{":not(:last-child)":{margin:"0 2em 0 0"}}},tagline:{color:S.a.colors.rangoon,margin:"0 0 1em",fontWeight:600},plot:{lineHeight:"1.5em",color:S.a.colors.rangoon,whiteSpace:"pre-line"},list:{margin:"0 0 -6.75em 0",">div":{padding:0}},subtitle:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"1em 3em",fontSize:"0.6em"},tabs:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"2em 1em 1em 1em",">div":{display:"flex",flexDirection:"row",alignItems:"center",">span":{margin:"0 1em",fontSize:"1.125em",fontWeight:600,cursor:"pointer",transition:"opacity 300ms ease-in-out",">small":{fontWeight:"normal"}}}},loading:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},empty:{color:S.a.colors.white}},Ot={name:"1qh2jc5-Movie",styles:"display:flex;align-items:center;justify-content:space-between;label:Movie;"},vt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=bt(t).call(this,e),n=!o||"object"!==st(o)&&"function"!=typeof o?dt(r):o,gt(dt(n),"bootstrap",pt(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0,poster:null,count:{collection:0,recommendations:0,similar:0,cast:0,crew:0}}),e.prev=1,e.next=4,L.a.fetch(["movie",n.props.match.params.id],{append_to_response:"videos,credits,similar,recommendations,alternative_titles,release_dates"});case 4:if(!(t=e.sent).adult||L.a.adult){e.next=7;break}throw{status_code:-1,status_message:"Adult content disabled"};case 7:if(t.belongs_to_collection){e.next=11;break}e.t0=null,e.next=14;break;case 11:return e.next=13,L.a.fetch(["collection",t.belongs_to_collection.id]).then(function(e){return jt({},e,{parts:lt(e.parts).sort(function(e,t){return new Date(e.release_date||1e15)-new Date(t.release_date||1e15)})})});case 13:e.t0=e.sent;case 14:r=e.t0,n.setState({loading:!1,err:null,details:jt({},t,{belongs_to_collection:r}),trailer:"",strict:!0,releases:!1,more:null}),n.fetchCount(jt({},t,{belongs_to_collection:r})),t.poster_path&&n.fetchImg("https://image.tmdb.org/t/p/original".concat(t.poster_path),function(e){return n.setState({poster:e})},{palette:!0}),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),e.t1.status_code?n.setState({loading:!1,err:7===e.t1.status_code?"Invalid TMDB API key, check your configuration.":e.t1.status_message,releases:!1,more:null}):(console.warn(e.t1),n.props.history.push("/"));case 23:case"end":return e.stop()}},e,null,[[1,20]])}))),gt(dt(n),"fetchCount",function(){var e=pt(regeneratorRuntime.mark(function e(t){var r,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get();case 2:return r=e.sent,e.next=5,r.movies.find().where("id").in((t.belongs_to_collection||{parts:[]}).parts.map(function(e){return e.id.toString()})).exec();case 5:return o=e.sent,e.next=8,r.movies.find().where("id").in(t.recommendations.results.map(function(e){return e.id.toString()})).exec();case 8:return i=e.sent,e.next=11,r.movies.find().where("id").in(t.similar.results.map(function(e){return e.id.toString()})).exec();case 11:return a=e.sent,e.next=14,r.stars.find().where("id").in(t.credits.cast.map(function(e){return e.id.toString()})).exec();case 14:return s=e.sent,e.next=17,r.stars.find().where("id").in(t.credits.crew.map(function(e){return e.id.toString()})).exec();case 17:c=e.sent,n.setState({count:{collection:o.length,recommendations:i.length,similar:a.length,cast:s.length,crew:c.length}});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),gt(dt(n),"fetchImg",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fetch(e,{cache:"force-cache"}).then(function(e){return e.arrayBuffer()}).then(function(e){return"data:image/jpeg;base64,".concat(window.btoa([].slice.call(new Uint8Array(e)).reduce(function(e,t){return"".concat(e).concat(String.fromCharCode(t))},"")))}).then(function(o){if(r.palette){var i=sessionStorage.getItem(e);i?n.setState({palette:JSON.parse(i)}):Object(rt.a)(o,function(t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}n.setState({palette:t})})}t(o)})}),gt(dt(n),"refreshReleases",function(){n.setState({releases:it()()}),setTimeout(function(){return window.scrollTo(0,document.body.scrollHeight)},200)}),n.state={loading:!0,details:null,poster:null,palette:{backgroundColor:S.a.colors.rangoon,color:"#ffffff",alternativeColor:"#ffffff",negativeColor:"#ffffff"},count:{collection:0,recommendations:0,similar:0,cast:0,crew:0},trailer:"",more:null,strict:!0,releases:!1,err:null},n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"render",value:function(){var e=this,n=this.props,a=n.match,s=(ct(n,["match"]),this.state),c=s.details,l=s.poster,u=s.palette,p=s.count,f=s.trailer,b=s.strict,d=s.releases,y=s.loading,m=s.err,j=ct(s,["details","poster","palette","count","trailer","strict","releases","loading","err"]),g=(c||{videos:{results:[]}}).videos.results.filter(function(e){return"YouTube"===e.site&&["Trailer","Teaser"].includes(e.type)}).sort(function(e,t){return"Trailer"===e.type?-1:1}),h=j.more||((c||{}).belongs_to_collection?"collection":(c||{recommendations:{results:[]}}).recommendations.results.length?"recommendations":(c||{similar:{results:[]}}).similar.results.length?"similar":(c||{credits:{cast:[]}}).credits.cast.length?"cast":(c||{credits:{crew:[]}}).credits.crew.length?"crew":null);return Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,c?Object(r.jsx)("title",null,"Sensorr - ",c.title,c.release_date&&" (".concat(new Date(c.release_date).getFullYear(),")")||"",d?" - 🔍":""):Object(r.jsx)("title",null,"Sensorr - Movie (",a.params.id,")")),Object(r.jsx)("div",{css:ht.element},c?Object(r.jsx)("div",{css:ht.container},Object(r.jsx)("div",{css:ht.background,style:{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(c.backdrop_path,")"),opacity:l?1:0}}),Object(r.jsx)("div",{css:ht.shadow,style:{boxShadow:"inset 0 0 0 100em ".concat(Ve()(u.backgroundColor).fade(.3).rgb().string())}}),Object(r.jsx)("div",{css:ht.trailer,style:{height:f?"100vh":"50vh"}},!!g.length&&Object(r.jsx)(i.a.Fragment,null,f?Object(r.jsx)("button",{css:Object(w.a)([S.a.resets.button,ht.trailers],"label:Movie;"),onClick:function(){return e.setState({trailer:null})}},Object(r.jsx)(et.a,{emoji:"❌"})):Object(r.jsx)("label",{htmlFor:"trailer",css:ht.trailers},Object(r.jsx)("select",{id:"trailer",value:f,onChange:function(t){return e.setState({trailer:t.target.value})}},g.filter(function(e){return"Trailer"===e.type}).length&&Object(r.jsx)("optgroup",{label:"Trailer"},g.filter(function(e){return"Trailer"===e.type}).map(function(e){return Object(r.jsx)("option",{key:e.key,value:e.key},e.name)})),g.filter(function(e){return"Teaser"===e.type}).length&&Object(r.jsx)("optgroup",{label:"Teaser"},g.filter(function(e){return"Teaser"===e.type}).map(function(e){return Object(r.jsx)("option",{key:e.key,value:e.key},e.name)}))),Object(r.jsx)(et.a,{emoji:"🎞️"})),!!f&&Object(r.jsx)("div",{css:Object(w.a)([ht.loading,{position:"absolute",width:"100%",height:"100%"}],"label:Movie;")},Object(r.jsx)(N.a,{color:"white"})),Object(r.jsx)("button",{css:ht.play,onClick:function(){return e.setState({trailer:g[0].key})},style:{color:u.color,opacity:f?0:1,zIndex:f?0:1}},Object(r.jsx)($e,null)),Object(r.jsx)(Qe.a,{url:"https://www.youtube.com/watch?v=".concat(f),controls:!0,playing:!0,height:"100%",width:"100%",style:{position:"absolute",opacity:f?1:0,transition:"opacity 400ms ease-in-out ".concat(f?"500ms":"0ms"),zIndex:f?1:0}}))),Object(r.jsx)("div",{css:ht.about},Object(r.jsx)("div",null,Object(r.jsx)("div",{css:ht.poster,style:f?{margin:0}:{}},Object(r.jsx)(K.a,{entity:c,title:null,img:l,style:{backgroundColor:Ve()(u.backgroundColor).rgb().string()}})),Object(r.jsx)("div",{css:ht.info},Object(r.jsx)("div",{css:Ot},Object(r.jsx)("h1",{css:ht.title},c.title),Object(r.jsx)(K.b,{entity:c,compact:!1})),Object(r.jsx)("h2",{css:ht.caption},c.title!==c.original_title&&Object(r.jsx)("span",null,c.original_title),c.title!==c.original_title&&c.release_date&&Object(r.jsx)("span",null," "),c.release_date&&Object(r.jsx)("span",{title:new Date(c.release_date).toLocaleDateString()},"(",new Date(c.release_date).getFullYear(),")")),Object(r.jsx)("p",{css:ht.metadata},!!c.runtime&&Object(r.jsx)("span",null,"🕙  ",Object(r.jsx)("strong",null,new Fe.a.Movie(c).duration())),!!c.genres.length&&Object(r.jsx)("span",null,"🎟️  ",c.genres.map(function(e){return e.name}).join(", ")),void 0!==c.vote_average&&Object(r.jsx)("span",null,new Fe.a.Movie(c).judge(),"  ",Object(r.jsx)("strong",null,c.vote_average.toFixed(1)))),!!c.tagline&&Object(r.jsx)("h3",{css:ht.tagline},c.tagline),Object(r.jsx)("p",{css:ht.plot},c.overview))),Object(r.jsx)("div",{css:ht.list},Object(r.jsx)("div",{css:ht.tabs},Object(r.jsx)("div",null,!!c.belongs_to_collection&&Object(r.jsx)("span",{style:{opacity:"collection"===h?1:.25},onClick:function(){return e.setState({more:"collection"})}},"📀  ","".concat((c.belongs_to_collection||{}).name)),!!c.recommendations.results.length&&Object(r.jsx)("span",{style:{opacity:"recommendations"===h?1:.25},onClick:function(){return e.setState({more:"recommendations"})}},"💬  ","Recommendations"),!!c.similar.results.length&&Object(r.jsx)("span",{style:{opacity:"similar"===h?1:.25},onClick:function(){return e.setState({more:"similar"})}},"👯  ","Similar")),Object(r.jsx)("div",null,!!c.credits.cast.length&&Object(r.jsx)("span",{style:{opacity:"cast"===h?1:.25},onClick:function(){return e.setState({more:"cast",strict:!0})}},"👩‍🎤️  ","Casting"),!!c.credits.crew.length&&Object(r.jsx)("span",{style:{opacity:"crew"===h?1:.25},onClick:function(){return e.setState({more:"crew",strict:!0})}},"🎬  ","Crew"))),Object(r.jsx)(Q,{items:{collection:(c.belongs_to_collection||{parts:[]}).parts,recommendations:c.recommendations.results,similar:c.similar.results,cast:c.credits.cast.filter(function(e,t){return!b||t<20}),crew:lt(c.credits.crew).sort(function(e,t){return({Director:2,Writor:1}[t.job]||0)-({Director:2,Writor:1}[e.job]||0)}).map(function(e,t,n){return jt({},e,{job:n.filter(function(t){return t.id===e.id}).map(function(e){return e.job}).join(", ")})}).filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).filter(function(e,t){return!b||t<20})}[h],prettify:"collection"===h?1/0:5,placeholder:!0,child:{collection:K.c,recommendations:K.c,similar:K.c,cast:t.Childs.Persona,crew:t.Childs.Persona}[h],subtitle:Object(r.jsx)("div",{css:ht.subtitle,style:{color:u.color}},!!p[h]&&{collection:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,p.collection,"/",(c.belongs_to_collection||{parts:[]}).parts.length)," movies from this collection in your library"),recommendations:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,p.recommendations)," recommended movies in your library"),similar:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,p.similar)," similar movies in your library"),cast:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,p.cast)," followed stars"),crew:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,p.crew)," followed crew members")}[h],Object(r.jsx)("span",null," "),["cast","crew"].includes(h)&&c.credits[h].length>20&&Object(r.jsx)("button",{css:S.a.resets.button,onClick:function(){return e.setState({strict:!b})}},{true:"📗",false:"📚"}[b],"  Showing ",Object(r.jsx)("strong",null,{true:"20 first",false:"All"}[b])," credits")),empty:{style:ht.empty}}))),Object(r.jsx)(Xe.a,{look:1,onClick:function(){return e.refreshReleases()},style:{position:"relative",color:u.color,borderColor:u.color,textTransform:"uppercase",borderWidth:"0.3em",margin:"1em",fontWeight:800},"data-test":"movie-findReleases"},d?"Retry":"Find Releases")):y?Object(r.jsx)("div",{css:ht.loading},Object(r.jsx)(N.a,null)):Object(r.jsx)(T.a,{title:m?"Oh ! You came across a bug...":null,emoji:m?"🐛":null,subtitle:m||null})),d&&Object(r.jsx)(tt.a,{key:d,movie:c}))}}])&&ft(n.prototype,a),s&&ft(n,s),t}();function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function St(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function kt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Pt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){kt(i,r,o,a,s,"next",e)}function s(e){kt(i,r,o,a,s,"throw",e)}a(void 0)})}}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gt(vt,"Childs",{Persona:function(e){return Object(r.jsx)($.c,at({},e,{display:"portrait"}))}});var At={element:{position:"relative",flex:1,minHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},container:{flex:1,display:"flex",flexDirection:"column",padding:"0 0 2em 0"},background:{height:"100%",width:"100%",position:"absolute",backgroundSize:"cover",backgroundPosition:"center center",transition:"opacity 400ms ease-in-out"},shadow:{height:"100%",width:"100%",position:"absolute",transition:"box-shadow 400ms ease-in-out"},head:{position:"relative",minHeight:"25em",transition:"height 400ms ease-in-out"},about:{position:"relative",background:"white",transition:"transform 400ms ease-in-out",margin:"0 0 7em",">div:first-of-type":{display:"flex",padding:"2em 10%"}},poster:{fontSize:"1.5em",margin:"-8em 0 1em 0",transition:"margin 400ms ease-in-out"},info:{flex:1,padding:"0 0 0 2em"},title:{fontSize:"2.5em",lineHeight:"1.2em",fontWeight:800,color:S.a.colors.rangoon,margin:"0 0 0.25em"},caption:{fontSize:"1.25em",margin:"0 0 0.75em",color:S.a.colors.rangoon,">span":{"&:not(:last-child)":{fontWeight:600}}},metadata:{fontWeight:600,color:S.a.colors.rangoon,margin:"0 0 2em",">span":{":not(:last-child)":{margin:"0 2em 0 0"}}},plot:{lineHeight:"1.5em",color:S.a.colors.rangoon,whiteSpace:"pre-line"},list:{margin:"0 0 -6.75em 0",">div":{padding:0}},subtitle:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"1em 3em",fontSize:"0.6em"},tabs:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"2em 1em 1em 1em",">div":{display:"flex",flexDirection:"row",alignItems:"center",">span":{margin:"0 1em",fontSize:"1.125em",fontWeight:600,cursor:"pointer",transition:"opacity 300ms ease-in-out",">small":{fontWeight:"normal"}}}},loading:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},empty:{color:S.a.colors.white}},zt={name:"10rmyn2-Collection",styles:"display:flex;align-items:center;justify-content:space-between;label:Collection;"},Et=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ct(t).call(this,e),n=!o||"object"!==xt(o)&&"function"!=typeof o?Dt(r):o,It(Dt(n),"bootstrap",Pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0,poster:null,count:0}),e.prev=1,e.next=4,L.a.fetch(["collection",n.props.match.params.id]);case 4:if((t=e.sent).popularity=t.parts.reduce(function(e,t){return e+t.popularity},0)/t.parts.length,t.vote_average=t.parts.reduce(function(e,t){return e+t.vote_average},0)/t.parts.filter(function(e){return e.vote_average}).length,t.release_dates=t.parts.map(function(e){return e.release_date}).sort(function(e,t){return new Date(e||null)-new Date(t||null)}).reduce(function(e,t,n,r){return[r[0],r[r.length-1]]}),!t.adult||L.a.adult){e.next=10;break}throw{status_code:-1,status_message:"Adult content disabled"};case 10:n.setState({loading:!1,err:null,details:t,strict:!0}),n.fetchCount(t),t.poster_path&&n.fetchImg("https://image.tmdb.org/t/p/original".concat(t.poster_path),function(e){return n.setState({poster:e})},{palette:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.status_code?n.setState({loading:!1,err:7===e.t0.status_code?"Invalid TMDB API key, check your configuration.":e.t0.status_message}):(console.warn(e.t0),n.props.history.push("/"));case 18:case"end":return e.stop()}},e,null,[[1,15]])}))),It(Dt(n),"fetchCount",function(){var e=Pt(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get();case 2:return r=e.sent,e.next=5,r.movies.find().where("id").in(t.parts.map(function(e){return e.id.toString()})).exec();case 5:o=e.sent,n.setState({count:o.length});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),It(Dt(n),"fetchImg",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fetch(e,{cache:"force-cache"}).then(function(e){return e.arrayBuffer()}).then(function(e){return"data:image/jpeg;base64,".concat(window.btoa([].slice.call(new Uint8Array(e)).reduce(function(e,t){return"".concat(e).concat(String.fromCharCode(t))},"")))}).then(function(o){if(r.palette){var i=sessionStorage.getItem(e);i?n.setState({palette:JSON.parse(i)}):Object(rt.a)(o,function(t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}n.setState({palette:t})})}t(o)})}),n.state={loading:!0,details:null,poster:null,palette:{backgroundColor:S.a.colors.rangoon,color:"#ffffff",alternativeColor:"#ffffff",negativeColor:"#ffffff"},count:0,strict:!0,err:null},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,o["PureComponent"]),n=t,(i=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"render",value:function(){var e=this.props,t=e.match,n=(St(e,["match"]),this.state),i=n.details,a=n.poster,s=n.palette,c=n.count,l=(n.strict,n.loading),u=n.err;return St(n,["details","poster","palette","count","strict","loading","err"]),Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,i?Object(r.jsx)("title",null,"Sensorr - ",i.name,i.release_date&&" (".concat(new Date(i.release_date).getFullYear(),")")||""):Object(r.jsx)("title",null,"Sensorr - Collection (",t.params.id,")")),Object(r.jsx)("div",{css:At.element},i?Object(r.jsx)("div",{css:At.container},Object(r.jsx)("div",{css:At.background,style:{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(i.backdrop_path,")"),opacity:a?1:0}}),Object(r.jsx)("div",{css:At.shadow,style:{boxShadow:"inset 0 0 0 100em ".concat(Ve()(s.backgroundColor).fade(.3).rgb().string())}}),Object(r.jsx)("div",{css:At.head,style:{height:"50vh"}}),Object(r.jsx)("div",{css:At.about},Object(r.jsx)("div",null,Object(r.jsx)("div",{css:At.poster},Object(r.jsx)(K.a,{entity:i,title:null,img:a,style:{backgroundColor:Ve()(s.backgroundColor).rgb().string()}})),Object(r.jsx)("div",{css:At.info},Object(r.jsx)("div",{css:zt},Object(r.jsx)("h1",{css:At.title},i.name)),Object(r.jsx)("h2",{css:At.caption},Object(r.jsx)("span",null,"(",new Date(i.release_dates[0]).getFullYear()," - ",new Date(i.release_dates[1]).getFullYear(),")")),Object(r.jsx)("p",{css:At.metadata},Object(r.jsx)("span",null,"🎟️  ",wt(new Set(i.parts.map(function(e){return e.genre_ids}).reduce(function(e,t){return[].concat(wt(e),wt(t))},[]))).map(function(e){return Pe.GENRES[e]}).join(", ")),Object(r.jsx)("span",null,new Fe.a.Movie(i).judge(),"  ",Object(r.jsx)("strong",null,i.vote_average.toFixed(1)))),Object(r.jsx)("p",{css:At.plot},i.overview))),Object(r.jsx)("div",{css:At.list},Object(r.jsx)("div",{css:At.tabs},Object(r.jsx)("div",null,Object(r.jsx)("span",null,"📀  Parts"))),Object(r.jsx)(Q,{items:i.parts,prettify:1/0,placeholder:!0,child:K.c,subtitle:Object(r.jsx)("div",{css:At.subtitle,style:{color:s.color}},c?Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,c,"/",i.parts.length)," movies from this collection in your library"):Object(r.jsx)("span",null," ")),empty:{style:At.empty}})))):l?Object(r.jsx)("div",{css:At.loading},Object(r.jsx)(N.a,null)):Object(r.jsx)(T.a,{title:u?"Oh ! You came across a bug...":null,emoji:u?"🐛":null,subtitle:u||null})))}}])&&_t(n.prototype,i),a&&_t(n,a),t}();function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach(function(t){qt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ft(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ft(i,r,o,a,s,"next",e)}function s(e){Ft(i,r,o,a,s,"throw",e)}a(void 0)})}}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt={element:{position:"relative",flex:1,minHeight:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},container:{flex:1,display:"flex",flexDirection:"column",padding:"0 0 2em 0"},background:{height:"100%",width:"100%",position:"absolute",backgroundSize:"cover",backgroundPosition:"center center",transition:"opacity 400ms ease-in-out"},shadow:{height:"100%",width:"100%",position:"absolute",transition:"box-shadow 400ms ease-in-out"},head:{position:"relative",minHeight:"25em",transition:"height 400ms ease-in-out"},about:{position:"relative",background:"white",transition:"transform 400ms ease-in-out",margin:"0 0 6.75em",">div:first-of-type":{display:"flex",padding:"2em 10%"}},poster:{fontSize:"1.5em",margin:"-8em 0 1em 0",transition:"margin 400ms ease-in-out"},info:{flex:1,padding:"0 0 0 2em"},title:{fontSize:"2.5em",lineHeight:"1.2em",fontWeight:800,color:S.a.colors.rangoon,margin:"0 0 0.5em"},metadata:{fontWeight:600,color:S.a.colors.rangoon,margin:"0 0 2em",">span":{":not(:last-child)":{margin:"0 2em 0 0"}}},biography:{lineHeight:"1.5em",color:S.a.colors.rangoon,whiteSpace:"pre-line"},list:{margin:"0 0 -6.75em 0",">div":{padding:0}},subtitle:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"1em 3em",fontSize:"0.6em",">label":{position:"relative",">select":{position:"absolute",opacity:0,top:0,left:0,height:"100%",width:"100%",appearance:"none",border:"none",cursor:"pointer"}}},tabs:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"2em 1em 1em 1em",">div":{display:"flex",flexDirection:"row",alignItems:"center",">span":{margin:"0 1em",fontSize:"1.125em",fontWeight:600,cursor:"pointer",transition:"opacity 300ms ease-in-out"}}},loading:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},empty:{color:S.a.colors.white}},Jt={name:"1dkigs6-Star",styles:"display:flex;align-items:center;justify-content:space-between;label:Star;"},Vt={name:"1pxq5qt-Star",styles:"align-self:flex-start;margin:0;label:Star;"},Zt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ht(t).call(this,e),n=!o||"object"!==Tt(o)&&"function"!=typeof o?Yt(r):o,qt(Yt(n),"bootstrap",Ut(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0,count:{cast:0,crew:0}}),e.prev=1,e.next=4,L.a.fetch(["person",n.props.match.params.id],{append_to_response:"images,movie_credits"});case 4:if(!(t=e.sent).adult||L.a.adult){e.next=7;break}throw{status_code:-1,status_message:"Adult content disabled"};case 7:n.fetchCount(t),n.setState({loading:!1,err:null,details:t,more:null,order:"vote_average"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.status_code?n.setState({loading:!1,err:7===e.t0.status_code?"Invalid TMDB API key, check your configuration.":e.t0.status_message}):(console.warn(e.t0),n.props.history.push("/"));case 14:case"end":return e.stop()}},e,null,[[1,11]])}))),qt(Yt(n),"fetchCount",function(){var e=Ut(regeneratorRuntime.mark(function e(t){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get();case 2:return r=e.sent,e.next=5,r.movies.find().where("id").in(t.movie_credits.cast.map(function(e){return e.id.toString()})).exec();case 5:return o=e.sent,e.next=8,r.movies.find().where("id").in(t.movie_credits.crew.map(function(e){return e.id.toString()})).exec();case 8:i=e.sent,n.setState({count:{cast:o.length,crew:i.length}});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.state={loading:!0,details:null,palette:{backgroundColor:S.a.colors.rangoon,color:"#ffffff",alternativeColor:"#ffffff",negativeColor:"#ffffff"},more:null,count:{cast:0,crew:0},err:null,order:"vote_average",sort:{vote_average:{name:"Vote Average",emoji:"💯",apply:function(e,t){return t.vote_average-500/t.vote_count-(e.vote_average-500/e.vote_count)}},release_date:{name:"Release Date",emoji:"📆",apply:function(e,t){return new Date(t.release_date||null)-new Date(e.release_date||null)}},popularity:{name:"Popularity",emoji:"📣",apply:function(e,t){return t.popularity-e.popularity}}},strict:!0},n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.bootstrap()}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=(Rt(t,["match"]),this.state),s=a.details,c=a.palette,l=a.count,u=a.loading,p=a.err,f=a.order,b=a.sort,d=a.strict,y=Rt(a,["details","palette","count","loading","err","order","sort","strict"]).more||((s||{movie_credits:{crew:[]}}).movie_credits.crew.length&&"Acting"!==s.known_for_department?"crew":(s||{movie_credits:{cast:[]}}).movie_credits.cast.length?"cast":(s||{movie_credits:{crew:[]}}).movie_credits.crew.length?"crew":null);return Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,s?Object(r.jsx)("title",null,"Sensorr - ",s.name):Object(r.jsx)("title",null,"Sensorr - Star (",n.params.id,")")),Object(r.jsx)("div",{css:Gt.element},s?Object(r.jsx)("div",{css:Gt.container},Object(r.jsx)("div",{css:Gt.background,style:{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat((s.images.profiles.sort(function(e,t){return e.width-t.width}).slice(-1).pop()||{}).file_path,")"),opacity:u?0:1}}),Object(r.jsx)("div",{css:Gt.shadow,style:{boxShadow:"inset 0 0 0 100em ".concat(Ve()(c.backgroundColor).fade(.3).rgb().string())}}),Object(r.jsx)("div",{css:Gt.head,style:{height:"50vh"}}),Object(r.jsx)("div",{css:Gt.about},Object(r.jsx)("div",null,Object(r.jsx)("div",{css:Gt.poster},Object(r.jsx)($.a,{entity:s,title:null,display:"portrait",updatable:!1,link:null,style:{backgroundColor:Ve()(c.backgroundColor).rgb().string()}})),Object(r.jsx)("div",{css:Gt.info},Object(r.jsx)("div",{css:Jt},Object(r.jsx)("h1",{css:Gt.title},s.name),Object(r.jsx)($.b,{entity:s,compact:!1,css:Vt})),Object(r.jsx)("p",{css:Gt.metadata},!!s.known_for_department&&Object(r.jsx)("span",null,"💼  ",Object(r.jsx)("strong",null,s.known_for_department)),!!s.place_of_birth&&Object(r.jsx)("span",null,"🏡  ",Object(r.jsx)("strong",null,s.place_of_birth)),!!s.birthday&&Object(r.jsx)("span",null,"🎂  ",Object(r.jsx)("strong",null,new Date(s.birthday).toLocaleDateString()),!s.deathday&&Object(r.jsx)("small",null,"   ",(s.deathday?new Date(s.deathday):new Date).getFullYear()-new Date(s.birthday).getFullYear()," years old")),!!s.deathday&&Object(r.jsx)("span",null,"🥀  ",Object(r.jsx)("strong",null,new Date(s.deathday).toLocaleDateString()),Object(r.jsx)("small",null,"   ",(s.deathday?new Date(s.deathday):new Date).getFullYear()-new Date(s.birthday).getFullYear()," years old"))),!!s.biography&&Object(r.jsx)("p",{css:Gt.biography},s.biography))),Object(r.jsx)("div",{css:Gt.list},Object(r.jsx)("div",{css:Gt.tabs},!!s.movie_credits.cast.length&&Object(r.jsx)("div",null,Object(r.jsx)("span",{style:{opacity:"cast"===y?1:.25},onClick:function(){return e.setState({more:"cast",order:"vote_average"})}},"👩‍🎤️  ","Casting")),!!s.movie_credits.crew.length&&Object(r.jsx)("div",null,Object(r.jsx)("span",{style:{opacity:"crew"===y?1:.25},onClick:function(){return e.setState({more:"crew",order:"vote_average"})}},"🎬  ","Crew"))),Object(r.jsx)(Q,{items:s.movie_credits[y].map(function(e,t,n){return Lt({},e,{},e.job?{job:n.filter(function(t){return t.id===e.id}).map(function(e){return e.job}).join(", ")}:{})}).filter(function(e){return"crew"!==y||!d||e.department===s.known_for_department||"Acting"===s.known_for_department}).filter(function(e,t,n){return t===n.findIndex(function(t){return e.id===t.id})}).map(function(e){return Lt({},e,{credits:[Lt({},e,{},s)]})}).sort(b[f].apply),prettify:5,placeholder:!0,child:K.c,childProps:{withCredits:!0},empty:{style:Gt.empty},subtitle:Object(r.jsx)("div",{css:Gt.subtitle,style:{color:c.color}},!!l[y]&&{cast:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,l.cast,"/",s.movie_credits.cast.length)," movies in your library  "),crew:Object(r.jsx)("span",{style:{flex:1}},"🎉  Nice ! ",Object(r.jsx)("strong",null,l.crew,"/",s.movie_credits.crew.length)," movies in your library  ")}[y],Object(r.jsx)("label",{htmlFor:"star-order"},Object(r.jsx)("span",null,b[f].emoji,"  Currently sorted by ",Object(r.jsx)("strong",null,b[f].name)),Object(r.jsx)("select",{id:"star-order",value:f,onChange:function(t){return e.setState({order:t.target.value})}},Object.keys(b).map(function(e){return Object(r.jsx)("option",{value:e,key:e},b[e].emoji,"  Sort by ",b[e].name)}))," "),"crew"===y&&"Acting"!==s.known_for_department&&Object(r.jsx)(i.a.Fragment,null,Object(r.jsx)("span",null," and "),Object(r.jsx)("button",{css:S.a.resets.button,onClick:function(){return e.setState({strict:!d})}},"showing 💼 ",Object(r.jsx)("strong",null,d?s.known_for_department:"All")," departement(s) credits")))})))):u?Object(r.jsx)("div",{css:Gt.loading},Object(r.jsx)(N.a,null)):Object(r.jsx)(T.a,{title:p?"Oh ! You came across a bug...":null,emoji:p?"🐛":null,subtitle:p||null})))}}])&&Bt(n.prototype,a),s&&Bt(n,s),t}(),Qt=n(438);function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(n,!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.a.createContext();var tn={filter:{zIndex:1,position:"sticky",top:"-1px",width:"100%"},input:{width:"100%",backgroundColor:S.a.colors.grey,border:"none",fontSize:"1.125em",padding:"0.792em 1em",margin:0,textAlign:"center",color:S.a.colors.secondary,fontFamily:"inherit",outline:"none"},wrapper:{display:"flex",flexDirection:"column",flex:1},grid:{padding:"2em 0"}},nn=function(e){return Object(r.jsx)(i.a.Fragment,null,r.jsx(e.known_for_department.element,e.known_for_department.props),r.jsx(e.gender.element,e.gender.props),Object(r.jsx)("div",{css:Object(w.a)([S.a.styles.row,S.a.styles.spacings.row],"label:Pane;")},r.jsx(e.birth.element,$t({},e.birth.props,{display:"column"})),r.jsx(e.popularity.element,$t({},e.popularity.props,{display:"column"}))),r.jsx(e.sorting.element,e.sorting.props))},rn=function e(t){Xt({},t);return Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,Object(r.jsx)("title",null,"Sensorr - Following")),Object(r.jsx)("div",{css:tn.wrapper},Object(r.jsx)(Le.a,{limit:!0,strict:!1,query:function(e){return e.stars.find().where("state").ne("ignored")},child:e.Childs.Persona,css:tn.grid,controls:{label:function(e){var t=e.total,n=e.reset;return Object(r.jsx)("button",{css:S.a.resets.button,onClick:function(){return n()}},Object(r.jsx)("span",null,Object(r.jsx)("strong",null,t)," Stars"))},filters:Re.Star.Filters,sortings:Re.Star.Sortings,defaults:{filtering:{},sorting:Re.Star.Sortings.time,reverse:!1},render:{pane:nn}},empty:{emoji:"👩‍🎤",title:"Oh no, you are not following anyone",subtitle:Object(r.jsx)("span",null,"You should try to search for stars and start following them !")}})))};rn.Childs={Persona:function(e){return Object(r.jsx)($.c,Xt({display:"portrait"},e))}};var on=rn,an=n(8),sn=n(255),cn=n.n(sn),ln=n(186),un=n(187),pn=n(182),fn=n(451);function bn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dn=n.n(fn)()({createElement:r.jsx,elements:{p:function(e){var t=e.children,n=(e.context,bn(e,["children","context"]));return Object(r.jsx)("span",n,t)},codespan:function(e){var t=e.children,n=bn(e,["children"]);return Object(r.jsx)("code",n,t)},ul:function(e){var t=e.children;bn(e,["children"]);return t},li:function(e){var t=e.children;bn(e,["children"]);return Object(r.jsx)("span",null,"- ",t)}}}),yn=n(139);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(n,!0).forEach(function(t){Sn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn={element:{display:"flex",flexDirection:"column",flex:1,padding:"1em"},summary:{display:"flex",overflowX:"auto",padding:"1em 0 1em 1em"},digest:{display:"flex",margin:"1em",border:"none",fontSize:"1em",lineHeight:"1em",cursor:"pointer"},catch:{flex:1,padding:"0 0 0 2em",textAlign:"center",lineHeight:"1.4em",fontSize:"0.75em",fontFamily:S.a.fonts.monospace},controls:{width:"120%",margin:"0 -10%"},navigation:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"1em",textAlign:"center",color:"white",">div":{display:"flex",alignItems:"center","&:first-of-type,&:last-of-type":{fontSize:"1.25em",">a":{display:"flex",alignItems:"center",padding:"1.5em 0.75em"}},"&:nth-of-type(2)":{">a":{fontSize:"0.75em",padding:"1.5em",margin:"0 0.5em"}},">a":{opacity:.9,cursor:"pointer","&:hover":{opacity:1},">svg":{height:"1em",width:"1em"}},">button":wn({},S.a.resets.button,{color:"white"})}},loading:{display:"flex",alignItems:"center",flex:1},record:{display:"flex",padding:"1em"},film:{flexShrink:0},scroller:{flexGrow:1,overflowX:"auto",padding:"0.5em 0 1em",margin:"0 1em",fontFamily:S.a.fonts.monospace,fontSize:"0.75em",lineHeight:"1.75em"},title:{fontWeight:"bold",margin:"0 0 0.5em 0.25em"},wrapper:{display:"flex"},container:{flex:1,display:"inline-flex",flexDirection:"column",whiteSpace:"nowrap"},text:{cursor:"pointer",padding:"0 2em 0 1em"},focus:{flex:1,whiteSpace:"pre",backgroundColor:S.a.colors.grey,borderRadius:"0.5em",margin:"1em",padding:"1em 2em"}},Pn=Object(O.g)(function(e){var t=e.sessions,n=e.session,o=e.onClick,i=e.edges,a=void 0===i||i,s=(e.location,e.history),c=e.match,l=(e.staticContext,vn(e,["sessions","session","onClick","edges","location","history","match","staticContext"]),Object.values(t).sort(function(e,t){return new Date(e.time)-new Date(t.time)}).map(function(e){return e.uuid})),u=l.indexOf(c.params.uuid);return Object(r.jsx)("div",{css:kn.navigation},Object(r.jsx)("div",{style:a&&u>0?{}:{visibility:"hidden"}},Object(r.jsx)("a",{onClick:function(){return u>0&&s.push("/movies/records/".concat(l[0]))}},Object(r.jsx)(ln.a,{end:!0}))),Object(r.jsx)("div",null,Object(r.jsx)("a",{onClick:function(){return u>0&&s.push("/movies/records/".concat(l[u-1]))},style:u>0?{}:{visibility:"hidden"}},Object(r.jsx)(ln.a,null)),o?Object(r.jsx)("button",{onClick:o},Object(r.jsx)("code",null,n.datetime),Object(r.jsx)("code",null," "),Object(r.jsx)("code",{css:S.a.styles.semitransparent},Object(r.jsx)("small",null,"#",n.uuid.split("-").pop()))):Object(r.jsx)("div",null,Object(r.jsx)("code",null,n.datetime),Object(r.jsx)("code",null," "),Object(r.jsx)("code",{css:S.a.styles.semitransparent},Object(r.jsx)("small",null,"#",n.uuid.split("-").pop()))),Object(r.jsx)("a",{onClick:function(){return u<l.length-1&&s.push("/movies/records/".concat(l[u+1]))},style:u<l.length-1?{}:{visibility:"hidden"}},Object(r.jsx)(un.a,null))),Object(r.jsx)("div",{style:a&&u<l.length-1?{}:{visibility:"hidden"}},Object(r.jsx)("a",{onClick:function(){return u<l.length-1&&s.push("/movies/records/".concat(l[l.length-1]))}},Object(r.jsx)(un.a,{end:!0}))))}),_n=function(e){return Object(r.jsx)(i.a.Fragment,null,r.jsx(e.state.element,e.state.props),r.jsx(e.source.element,e.source.props))},Cn=function(e){var t=e.sessions,n=e.session,o=e.records,i=e.fetched,a=e.onChange,s=(vn(e,["sessions","session","records","fetched","onChange"]),{source:function(e){var t=function(e){return e.success&&e.logs.map(function(e){return((e.data||{}).release||{}).site}).filter(function(e){return e}).pop()},n=function(e){return e.reduce(function(e,n){return wn({},e,Sn({},t(n),(e[t(n)]||0)+1))},{false:0})};return{label:"Source",type:"checkbox",inputs:Object.keys(n(e)).map(function(e){return{label:"false"===e?"none":e,value:e}}),default:[],apply:function(e,n){return!n.length||n.some(function(n){return!n||t(e)===n})},histogram:n}},state:function(e){var t=function(e){return e.done||e.logs.some(function(e){return(e.data||{}).err})?e.done&&e.success?"success":e.done&&!e.success&&e.logs.some(function(e){return 1===((e.data||{}).release||{}).warning})?"filtered":e.done&&!e.success&&e.logs.every(function(e){return 1!==((e.data||{}).release||{}).warning})?"missing":e.logs.some(function(e){return(e.data||{}).err})?"error":void 0:"ongoing"};return{label:"State",type:"checkbox",inputs:[{label:"⌛  Ongoing",value:"ongoing"},{label:"📼  Success",value:"success"},{label:"👮  Filtered",value:"filtered"},{label:"📭  Missing",value:"missing"},{label:"❌  Error",value:"error"}],default:[],apply:function(e,n){return!n.length||n.some(function(n){return t(e)===n})},histogram:function(e){return e.reduce(function(e,n){return wn({},e,Sn({},t(n),e[t(n)]+1))},{ongoing:0,success:0,filtered:0,missing:0,error:0})}}}});return!!n&&Object(r.jsx)(pn.a,{entities:o,label:function(e){var o=e.reset;return Object(r.jsx)("span",{style:{display:"flex",flex:1}},Object(r.jsx)("button",{css:S.a.resets.button,style:{width:"8em",textAlign:"left"},onClick:function(){return o()}},Object(r.jsx)("span",null,Object(r.jsx)("strong",null,i)," Records")),Object(r.jsx)("span",{style:{flex:1,justifyContent:"center"}},Object(r.jsx)(Pn,{sessions:t,session:n,edges:!1})))},filters:Object.keys(s).reduce(function(e,t){return wn({},e,Sn({},t,s[t](o)))},{}),onChange:function(e){var t=e.filter;return a(t)},defaults:{filtering:{},reverse:!1},render:{pane:_n}},function(e){var o=e.setOpen;return Object(r.jsx)("div",{css:kn.controls},Object(r.jsx)(Pn,{sessions:t,session:n,onClick:function(){return o(!0)}}))})},Dn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=gn(t).call(this,e))||"object"!==mn(o)&&"function"!=typeof o?hn(r):o).state={socket:null,loading:!1,records:[],fetched:0,filter:function(){return!0},focus:null,max:1},n.fetch=n.fetch.bind(hn(n)),n.expand=n.expand.bind(hn(n)),n.debounce=F()(500),n.records={},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,o["PureComponent"]),n=t,(i=[{key:"componentDidMount",value:function(){Object.keys(this.props.sessions).length&&!this.props.match.params.uuid?this.props.history.replace("/movies/records/".concat(Object.values(this.props.sessions).sort(function(e,t){return new Date(e.time)-new Date(t.time)}).slice(-1).pop().uuid)):Object.keys(this.props.sessions).includes(this.props.match.params.uuid)&&this.fetch(this.props.match.params.uuid)}},{key:"componentDidUpdate",value:function(e){Object.keys(this.props.sessions).length&&!this.props.match.params.uuid&&this.props.history.replace("/movies/records/".concat(Object.values(this.props.sessions).sort(function(e,t){return new Date(e.time)-new Date(t.time)}).slice(-1).pop().uuid)),this.props.match.params.uuid&&Object.keys(this.props.sessions).includes(this.props.match.params.uuid)&&(e.match.params.uuid!==this.props.match.params.uuid||!Object.keys(e.sessions).length&&Object.keys(this.props.sessions).length)&&this.fetch(this.props.match.params.uuid)}},{key:"componentWillUnmount",value:function(){this.state.socket&&this.state.socket.close()}},{key:"fetch",value:function(e){var t=this;this.state.socket&&this.state.socket.close();var n=Object(yn.b)("",{forceNew:!0});n.on("session",function(n){var r=n.session,o=n.record,i=vn(n,["session","record"]);o?(t.records=wn({},t.records||{},Sn({},o,wn({},(t.records||{})[o]||{},{session:r,record:o,time:Math.min(((t.records||{})[o]||{}).time||i.time,i.time),done:((t.records||{})[o]||{}).done||!!(i.data||{}).done,success:((t.records||{})[o]||{}).success||!!(i.data||{}).success},void 0!==(i.data||{}).movie?{movie:i.data.movie}:{},{logs:Object.values(wn({},((t.records||{})[o]||{logs:[]}).logs.reduce(function(e,t){return wn({},e,Sn({},t.uuid,t))},{}),Sn({},i.uuid,i))).sort(function(e,t){return e.time-t.time})}))),t.state.fetched!==Object.keys(t.records).length&&t.setState({fetched:Object.keys(t.records).length}),t.debounce(function(){return t.setState({records:Object.values(t.records).sort(function(e,t){return t.time-e.time}),loading:!1})})):r===e&&t.setState({records:Object.values(t.records).sort(function(e,t){return t.time-e.time}),loading:!1})}),this.records={},this.setState({socket:n,records:[],fetched:0,loading:!0,max:1}),n.emit("session",{session:e})}},{key:"expand",value:function(){this.setState(function(e){return{max:e.max+2}})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.history,t.match),i=t.sessions,a=vn(t,["history","match","sessions"]),s=this.state,c=s.records,l=s.fetched,u=s.filter,p=s.focus,f=s.max,b=vn(s,["records","fetched","filter","focus","max"]),d=Object.keys(i).includes(n.params.uuid)?wn({},i[n.params.uuid],{datetime:new Date(i[n.params.uuid].time).toLocaleString()}):null,y=a.loading||b.loading,m=c.filter(u).filter(function(e,t){return t<=f});return Object(r.jsx)(o.Fragment,null,Object(r.jsx)(ke.Helmet,null,Object(r.jsx)("title",null,"Sensorr - Records",d?" (".concat(d.datetime," - #").concat(d.uuid.split("-").pop(),")"):"")),Object(r.jsx)(Cn,{session:d,sessions:i,records:c,fetched:l,onChange:function(t){return e.setState({filter:t})}}),Object(r.jsx)("div",{css:kn.element},y?Object(r.jsx)("div",{css:kn.loading},Object(r.jsx)(N.a,null)):Object.keys(i).length?m.length?Object(r.jsx)(cn.a,{pageStart:0,hasMore:f<m.length,loadMore:this.expand,loader:Object(r.jsx)(N.a,{key:"spinner"})},m.map(function(t){return Object(r.jsx)("div",{css:kn.record,key:t.record},t.movie&&Object(r.jsx)("div",{css:kn.film},Object(r.jsx)(K.c,{entity:t.movie})),Object(r.jsx)("div",{css:kn.scroller},Object(r.jsx)("h4",{css:kn.title},"# ",new Date(t.time).toLocaleString()),t.logs.filter(function(e){return e.message}).map(function(n,o){return Object(r.jsx)("div",{css:kn.wrapper,key:n.uuid},Object(r.jsx)("div",{css:kn.container},Object(r.jsx)("p",{css:kn.text,onClick:function(){return e.setState({focus:p==="".concat(t.time,"-").concat(o)?null:"".concat(t.time,"-").concat(o)})}},dn(n.message).tree),p==="".concat(t.time,"-").concat(o)&&Object(r.jsx)("div",{css:kn.focus},JSON.stringify(n,null,2))),Object(r.jsx)("br",null))})))})):Object(r.jsx)(T.a,{emoji:"📖",title:"No records available for this session",subtitle:"Try to launch the rocket for a new ride !"}):Object(r.jsx)(T.a,{emoji:"📖",title:"No session available yet",subtitle:"Try to launch the rocket !"})))}}])&&jn(n.prototype,i),a&&jn(n,a),t}(),Mn=Object(c.withToastManager)(Object(s.b)(function(e){return{sessions:e.sessions.entities,loading:e.sessions.loading}},function(){return{}})(Dn));function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var An={wrapper:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2em 0"}},zn=function(e){In({},e);return Object(r.jsx)("div",{css:An.wrapper},Object(r.jsx)(T.a,{emoji:"🗺️",title:"Are you lost ?",subtitle:"Nothing to see here, sorry !"}))};function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tn={element:{display:"flex",flexDirection:"column",flex:1,backgroundColor:S.a.colors.smoke}},Nn=function(e){En({},e);return Object(r.jsx)(i.a.Fragment,null,Object(r.jsx)("div",{css:Tn.element},Object(r.jsx)(O.d,null,Object(r.jsx)(O.b,{path:"/",exact:!0,component:Ne}),Object(r.jsx)(O.b,{path:"/movies",exact:!0,component:function(){return Object(r.jsx)(O.a,{to:"/movies/library"})}}),Object(r.jsx)(O.b,{path:"/movies/library",exact:!0,component:Ge}),Object(r.jsx)(O.b,{path:"/movies/calendar/:year/:month",exact:!0,component:Qt.a}),Object(r.jsx)(O.b,{path:"/movies/calendar",exact:!0,component:function(){return Object(r.jsx)(O.a,{to:"/movies/calendar/".concat((new Date).getFullYear(),"/").concat((new Date).getMonth()+1)})}}),Object(r.jsx)(O.b,{path:"/movies/records/:uuid?",exact:!0,component:Mn}),Object(r.jsx)(O.b,{path:"/stars",exact:!0,component:function(){return Object(r.jsx)(O.a,{to:"/stars/following"})}}),Object(r.jsx)(O.b,{path:"/stars/following",exact:!0,component:on}),Object(r.jsx)(O.b,{path:"/movie/:id/:releases(releases)?",exact:!0,component:vt}),Object(r.jsx)(O.b,{path:"/collection/:id",exact:!0,component:Et}),Object(r.jsx)(O.b,{path:"/star/:id",exact:!0,component:Zt}),Object(r.jsx)(O.b,{path:"/settings/(plex|downloads|database)?",exact:!0,component:an.a}),Object(r.jsx)(O.b,{component:zn}))))},Ln={element:{display:"flex",flexDirection:"column",minHeight:"100vh"}},Rn=function(){return Object(r.jsx)("div",{css:Ln.element},Object(r.jsx)(Se,null),Object(r.jsx)(Nn,null))},Fn=n(155),Un=n(846),Bn=n(848),Hn=n(364),Yn=n(36);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(n,!0).forEach(function(t){Gn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn={},Vn="sensorr/jobs/AMEND_JOBS",Zn=function(e){return{type:Vn,jobs:e}},Qn=Object(Un.a)(function(e){return Object(Hn.a)(yn.a,"jobs").pipe(Object(Yn.a)(function(e){var t=e.jobs;return Zn(t)}))});function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(n,!0).forEach(function(t){$n(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er={status:"unknown",err:null},tr="sensorr/plex/AMEND_STATUS",nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:tr,status:e,err:t}},rr=Object(Un.a)(function(e){return Object(Hn.a)(yn.a,"plex").pipe(Object(Yn.a)(function(e){var t=e.status,n=e.err;return nr(t,n)}))});function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(n,!0).forEach(function(t){ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr={loading:!0,entities:{}},cr="sensorr/sessions/AMEND_SESSIONS",lr=function(e){return{type:cr,sessions:e}},ur=Object(Un.a)(function(e){return Object(Hn.a)(yn.a,"sessions").pipe(Object(Yn.a)(function(e){var t=e.sessions;return lr(t)}))});var pr=Object(Fn.c)({jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Vn:return qn({},e,{},t.jobs);default:return e}},plex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case tr:return Kn({},e,{status:t.status,err:t.err});default:return e}},sessions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case cr:return ir({},e,{loading:!1,entities:ir({},e.entities,{},t.sessions)});default:return e}}}),fr=Object(Un.a)(Qn,rr,ur),br=Object(Bn.a)(),dr=(0,Fn.d)(Object(Fn.a)(br)),yr=Object(Fn.e)(pr,dr);br.run(fr);var mr=yr;n(817),n(820),n(825),n(830);Object(a.render)(Object(r.jsx)(s.a,{store:mr},Object(r.jsx)(c.ToastProvider,{components:{Toast:function(e){var t=e.appearance,n=e.autoDismiss,o=e.autoDismissTimeout,i=e.children,a=(e.onExited,e.onDismiss),s=(e.placement,e.transitionDuration),c=e.transitionState;return Object(r.jsx)("div",{css:h.toast,style:d({backgroundColor:h.appearances[t].bg,color:h.appearances[t].text,transition:"transform ".concat(s,"ms cubic-bezier(0.2, 0, 0, 1)")},{entering:{transform:"translate3d(-120%, 0, 0)"},entered:{transform:"translate3d(0, 0, 0)"},exiting:{transform:"translate3d(-120%, 0, 0)"},exited:{transform:"translate3d(-120%, 0, 0)"}}[c])},Object(r.jsx)("div",{css:h.icon,style:{backgroundColor:h.appearances[t].fg,color:h.appearances[t].bg}},Object(r.jsx)("div",{css:h.timeout,style:{animationTimingFunction:"linear",animationDuration:"".concat(o,"ms"),opacity:n?1:0}}),Object(r.jsx)(h.appearances[t].icon,{style:h.svg,fill:h.appearances[t].bg})),Object(r.jsx)("div",{css:h.content},i),a?Object(r.jsx)("div",{onClick:a,role:"button",css:h.button},Object(r.jsx)(p.CloseIcon,null)):null)},ToastContainer:function(e){var t=e.children,n=(e.autoDismissTimeout,e.transitionDuration,e.hasToasts,m(e,["children","autoDismissTimeout","transitionDuration","hasToasts"]));return Object(r.jsx)("div",f({},n,{css:h.container,style:d({},n.style||{},{pointerEvents:o.Children.count(t)?"auto":"none"})}),Object(r.jsx)(u.a,{component:null},t))}}},Object(r.jsx)(l.a,null,Object(r.jsx)(x,null,Object(r.jsx)(Rn,null))))),document.querySelector("#mount"))}});